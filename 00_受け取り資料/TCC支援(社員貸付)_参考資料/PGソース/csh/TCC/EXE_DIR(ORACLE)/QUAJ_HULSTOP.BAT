#
#
#  ‚g‚t‚k‚e‚sí’“ƒvƒƒZƒX‚ð’âŽ~‚·‚éB (QUAJ_HULSTOP.BAT)
#
#     ‹@  ”\F ‚g‚t‚k‚e‚sí’“ƒvƒƒZƒX‚ð’âŽ~‚·‚éB
#
#     ˆø  ”F
#
#     EXIT’lF0 --- ³í
#             1 --- ƒGƒ‰[”­¶
#
set  MODULE   = QUAJ_HULSTOP.BAT                          # ƒ‚ƒWƒ…[ƒ‹–¼
set  LOGFILE  = $USER_LOG_DIR/db_ope.log                # ƒƒOƒtƒ@ƒCƒ‹–¼
set  LOGWRITE = "$EXE_DIR/QUAJ_BATCHLOG.BAT ($MODULE)"  # ƒƒOo—Í—p‹¤’ÊƒVƒFƒ‹

$LOGWRITE  "‚g‚t‚k‚e‚sí’“ƒvƒƒZƒX’âŽ~ŠJŽn" >> $LOGFILE

#############################
# 1. —v‹Žó•tƒf[ƒ‚ƒ“’âŽ~	#
#############################
set PRCNUM = `ps -ef | grep -v 'grep' | grep -c "hulobsd"`
if ( $PRCNUM != 0 ) then
	utlkillobs
	if ( $status != 0 ) then
		exit 1
	endif
endif

#############################
# 2. ”zMƒf[ƒ‚ƒ“’âŽ~		#
#############################
set PRCNUM = `ps -ef | grep -v 'grep' | grep -c "hulsndd"`
if ( $PRCNUM != 0 ) then
	utlkillsnd
	if ( $status != 0 ) then
		exit 1
	endif
endif

#############################
# 3. WMƒf[ƒ‚ƒ“’âŽ~		#
#############################
set PRCNUM = `ps -ef | grep -v 'grep' | grep -c "hulrcvd"`
if ( $PRCNUM != 0 ) then
	utlkillrcv
	if ( $status != 0 ) then
		exit 1
	endif
endif

#############################
# 4. ƒf[ƒ‚ƒ“‹N“®ƒ`ƒFƒbƒN	#
#############################
set PRCNUM = `ps -ef | grep -v 'grep' | grep -c "hul*d"`
if ( $PRCNUM != 0 ) then
    $LOGWRITE  "‚g‚t‚k‚e‚sƒf[ƒ‚ƒ“’âŽ~Ž¸”s" >> $LOGFILE
    exit 1
endif

$LOGWRITE  "‚g‚t‚k‚e‚sí’“ƒvƒƒZƒX’âŽ~ ³íI—¹" >> $LOGFILE
exit 0
