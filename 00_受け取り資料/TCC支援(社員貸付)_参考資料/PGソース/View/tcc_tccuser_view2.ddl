CREATE OR REPLACE VIEW TCCUSER.QSA3_CODEV
    (QSA3_PRMCODEKBN,QSA3_PRMCODENO,QSA3_MEI)
AS
SELECT QTA8_PRMCodeKbn,RTRIM(QTA8_PRMCodeNo),  QTA8_Mei
             FROM QTA8_CodeT   WHERE QTA8_PRMCodeNo ! = '    '
             UNION
             SELECT QSA2_PRMCodeKbn,RTRIM(QSA2_PRMCodeNo), QSA2_Mei
             FROM QSA2_SCodeT    WHERE QSA2_PRMCodeNo ! = '    '
/
CREATE OR REPLACE VIEW TCCUSER.QBM8_WORKMEMOV
    (QBM8_UKETSUKENO,QBM8_MAKEDATE,QBM8_MEMOCD,QBM8_MEMOBNR,QBM8_MEMO,QBM8_STRDATE,
    QBM8_UPDDATE,QBM8_DELDATE,QBM8_OPID,QBM8_WSID)
AS
Select
	QBM8_UKETSUKENO,
	QBM8_MAKEDATE,
	QBM8_MEMOCD,
	QBM8_MEMOBNR,
	QBM8_MEMO,
	QBM8_STRDATE,
	QBM8_UPDDATE,
	QBM8_DELDATE,
	QBM8_OPID,
	QBM8_WSID
from QBM8_WORKMEMOT
union all	-- 統合メモテーブル --
	Select
		QBMA_UKETSUKENO  QBM8_UKETSUKENO,
		QSA7_MAKEDATE    QBM8_MAKEDATE,
		'019' || '00001' QBM8_MEMOCD,
		Null             QBM8_MEMOBNR,
		QSA7_MEMO        QBM8_MEMO,
		QSA7_STRDATE     QBM8_STRDATE,
		QSA7_UPDDATE     QBM8_UPDDATE,
		QSA7_DELDATE     QBM8_DELDATE,
		QSA7_TANTOID     QBM8_OPID,
		QSA7_WSID        QBM8_WSID
	From QBMA_LINKMEMOT,QSA7_TOGOMEMOT
	where  QBMA_LINKNAIBUKAIIN || '      ' =      QSA7_NKNO
	  and  QBMA_LINKNAIBUKAIIN             Is Not Null
	  and  QBMA_MEMOCD                     =      '15900001' --既存会員紐付けメモ
	  and  QBMA_DELDate                    Is     Null
	  and  QSA7_DELDate                    Is     Null
union all	-- 期日管理テーブル --
	Select
		QBMA_UKETSUKENO      QBM8_UKETSUKENO,
		 to_date(to_char(QWA3_PRMSAKUSEIBI,'yyyy/mm/dd') || ' ' || substr(QWA3_PRMSAKUSEITIME,1,2) || ':' || substr(QWA3_PRMSAKUSEITIME,3,2) || ':' || substr(QWA3_PRMSAKUSEITIME,5,2),'yyyy/mm/dd hh24:mi:ss')  QBM8_MAKEDATE,
		'019' || '00002'     QBM8_MEMOCD,
		Null                 QBM8_MEMOBNR,
		 '手紙名　　：' || QWA3_BUNSHOMEI || chr(13) || chr(10) || '・発送日　：' || to_char(QWA3_HASSOUYMD,'yyyy/mm/dd') || '　　　　　' || '・返却日　：' || to_char(QWA3_HENKYAKUYMD,'yyyy/mm/dd') || '　　　　　' || chr(13) || chr(10) || '・整理番号：' || QWA3_SEIRINO || '　　　　　' || chr(13) || chr(10) || '・戻り理由：' || QWA3_HENKYAKURIYU || ' ' || a.QSA2_MEI || chr(13) || chr(10) || '・状況区分：' || QWA3_JOKYOKBN || ' ' || b.QSA2_MEI QBM8_MEMO,
		QBMA_STRDATE         QBM8_STRDATE,
		QBMA_UPDDATE         QBM8_UPDDATE,
		QBMA_DELDATE         QBM8_DELDATE,
		QWA3_TOUTANTOUSHACD  QBM8_OPID,
		Null                 QBM8_WSID
		From QBMA_LINKMEMOT,QWA3_KIJITSUT,QSA2_SCODET a,QSA2_SCODET b
		Where  QBMA_LINKKIGYO                  =      QWA3_PRMKIGYOUCD
		  and  QBMA_LINKSUBRANGE               =      QWA3_PRMSUBRANGEKEY
		  and  QBMA_LINKNAIBUKAIIN             =      QWA3_PRMNAIBUKAIINNO
		  and  QBMA_MEMOCD                     =      '15900001' --既存会員紐付けメモ
		  and  QBMA_DELDate                    Is     Null
		  and  a.QSA2_PRMCODEKBN(+) = 'DE2'
		  and  QWA3_HENKYAKURIYU = a.QSA2_PRMCODENO(+)
		  and  b.QSA2_PRMCODEKBN(+) = 'DE5'
		  and  QWA3_JOKYOKBN     = b.QSA2_PRMCODENO(+)
/
CREATE OR REPLACE VIEW TCCUSER.QUA2_USERIDV
    (QUA1_USERID,QUA1_USERMEI,QUA1_TOUZAIKBN,QUA1_BUSHOCD,QUA1_BUSHOMEI)
AS
select NVL(QUA1_USERID,'Null Value') QUA1_USERID,QUA1_USERMEI,QUA1_TOUZAIKBN,
     a.QUA1_BUSHOCD,QUA1_BUSHOMEI
     from QUA1_SECURITYT@link_secu a,QUA1_BUSHOM@link_secu b
     WHERE a.QUA1_BUSHOCD (+) = b.QUA1_BUSHOCD
/
CREATE OR REPLACE VIEW TCCUSER.QPAV_TAKASHIMAV
    (QPAV_CODE,QPAV_MISECD)
AS
SELECT
   QPAH_PRMCODE
  ,LTRIM(RTRIM(QPAH_NAMEX))
 FROM QPAH_OTHERM
 WHERE  QPAH_PRMCODE Like 'TMISE%'
/
CREATE OR REPLACE VIEW TCCUSER.QXTD_KONKAIV
    (QXTD_PRMTABANO,QXTD_PRMKIGYOUCD,QXTD_PRMSUBRANGEKEY,QXTD_PRMNAIBUKAIINNO,
    QXTD_PRMKANKEIKBN,QXTD_PRMKAZOKURBN,QXTD_HIRAISTATUS,QXTD_CARDKBN,QXTD_KAIINNO,
    QXTD_SIMEI,QXTD_REVSMAITSUKI,QXTD_REVSBONUS,QXTD_REVCMAITSUKI,QXTD_REVCBONUS,
    QXTD_KANRITEN,QXTD_NYKAIYMD,QXTD_CTLHONKNNAME,QXTD_HALFORONEKBN,QXTD_BIRTHDAY,
    QXTD_JIFURIKAISU,QXTD_JIFURINGKAISU,QXTD_TEL1,QXTD_TEL2,QXTD_TEL3,QXTD_KININMUKBN,
    QXTD_KINKNNAME,QXTD_KINTEL1,QXTD_KINTEL2,QXTD_KINTEL3,QXTD_DHPOSSTATUS,
    QXTD_DHDAIHYOSTATUS,QXTD_HYOSINRANK,QXTD_HCASHLIMIT,QXTD_CREATEDATE,
    QXTD_STRDATE,QXTD_DELDATE,QXTD_OPID,QXTD_WSID,QXTE_PRMTABANO,QXTE_PRMKIGYOUCD,
    QXTE_PRMSUBRANGEKEY,QXTE_PRMNAIBUKAIINNO,QXTE_PRMKANKEIKBN,QXTE_PRMKAZOKURBN,
    QXTE_HIRAISTATUS,QXTE_JDSK001,QXTE_JDSK002,QXTE_JDSK003,QXTE_JDSK004,
    QXTE_JDSK005,QXTE_JDSK006,QXTE_JDSK007,QXTE_JDSK008,QXTE_JDSK009,QXTE_JDSK010,
    QXTE_JDSK011,QXTE_JDSK012,QXTE_JDSK013,QXTE_JDSK014,QXTE_JDSK015,QXTE_JDSK016,
    QXTE_JDSK017,QXTE_JDSK018,QXTE_JDSK019,QXTE_JDSK020,QXTE_JDSK021,QXTE_JDSK022,
    QXTE_JDSK023,QXTE_JDSK024,QXTE_JDSK025,QXTE_JDSK026,QXTE_JDSK027,QXTE_JDSK028,
    QXTE_JDSK029,QXTE_JDSK030,QXTE_JDSKEKKA,QXTE_JDSIRAISTATUS,QXTE_HANTEISYOKI,
    QXTE_JDSYOSINRANK,QXTE_JDSCASHLIMIT,QXTE_JDSDATE,QXTE_ENDHANTEI,QXTE_ENDYOSINRANK,
    QXTE_ENDCASHLIMIT,QXTE_ENDFSTTANTOID,QXTE_ENDFSTSHORIDATE,QXTE_ENDTANTOID,
    QXTE_ENDSHORIDATE,QXTE_SRVHANTEI,QXTE_SRVIRAIUMU,QXTE_BUNSHOKANRINO,
    QXTE_LETTERSYUBETU,QXTE_KIJITUSTRDATE,QXTE_HUPIRAIDATE,QXTE_HUPKEKKADATE,
    QXTE_HUPHANTEI,QXTE_STRDATE,QXTE_UPDDATE,QXTE_DELDATE,QXTE_OPID,QXTE_WSID)
AS
Select  T1.*,T2.*
From  (Select Max(TO_NumBer(QXTD_PRMTABANO)) TABANO
    From  QXTD_GENDOKAIINM ) M
   ,QXTD_GENDOKAIINM T1
   ,QXTE_SHINSAKEKKA T2
Where    T1.QXTD_PRMTABANO       =  M.TABANO                AND
      T1.QXTD_PRMTABANO       =  T2.QXTE_PRMTABANO       AND
      T1.QXTD_PRMKIGYOUCD     =  T2.QXTE_PRMKIGYOUCD     AND
      T1.QXTD_PRMSUBRANGEKEY  =  T2.QXTE_PRMSUBRANGEKEY  AND
      T1.QXTD_PRMNAIBUKAIINNO =  T2.QXTE_PRMNAIBUKAIINNO AND
      T1.QXTD_PRMKANKEIKBN    =  T2.QXTE_PRMKANKEIKBN    AND
      T1.QXTD_PRMKAZOKURBN    =  T2.QXTE_PRMKAZOKURBN    AND
      T1.QXTD_DELDATE         Is Null
/
CREATE OR REPLACE VIEW TCCUSER.QXTD_ZENKAIV
    (QXTD_PRMTABANO,QXTD_PRMKIGYOUCD,QXTD_PRMSUBRANGEKEY,QXTD_PRMNAIBUKAIINNO,
    QXTD_PRMKANKEIKBN,QXTD_PRMKAZOKURBN,QXTD_HIRAISTATUS,QXTD_CARDKBN,QXTD_KAIINNO,
    QXTD_SIMEI,QXTD_REVSMAITSUKI,QXTD_REVSBONUS,QXTD_REVCMAITSUKI,QXTD_REVCBONUS,
    QXTD_KANRITEN,QXTD_NYKAIYMD,QXTD_CTLHONKNNAME,QXTD_HALFORONEKBN,QXTD_BIRTHDAY,
    QXTD_JIFURIKAISU,QXTD_JIFURINGKAISU,QXTD_TEL1,QXTD_TEL2,QXTD_TEL3,QXTD_KININMUKBN,
    QXTD_KINKNNAME,QXTD_KINTEL1,QXTD_KINTEL2,QXTD_KINTEL3,QXTD_DHPOSSTATUS,
    QXTD_DHDAIHYOSTATUS,QXTD_HYOSINRANK,QXTD_HCASHLIMIT,QXTD_CREATEDATE,
    QXTD_STRDATE,QXTD_DELDATE,QXTD_OPID,QXTD_WSID,QXTE_PRMTABANO,QXTE_PRMKIGYOUCD,
    QXTE_PRMSUBRANGEKEY,QXTE_PRMNAIBUKAIINNO,QXTE_PRMKANKEIKBN,QXTE_PRMKAZOKURBN,
    QXTE_HIRAISTATUS,QXTE_JDSK001,QXTE_JDSK002,QXTE_JDSK003,QXTE_JDSK004,
    QXTE_JDSK005,QXTE_JDSK006,QXTE_JDSK007,QXTE_JDSK008,QXTE_JDSK009,QXTE_JDSK010,
    QXTE_JDSK011,QXTE_JDSK012,QXTE_JDSK013,QXTE_JDSK014,QXTE_JDSK015,QXTE_JDSK016,
    QXTE_JDSK017,QXTE_JDSK018,QXTE_JDSK019,QXTE_JDSK020,QXTE_JDSK021,QXTE_JDSK022,
    QXTE_JDSK023,QXTE_JDSK024,QXTE_JDSK025,QXTE_JDSK026,QXTE_JDSK027,QXTE_JDSK028,
    QXTE_JDSK029,QXTE_JDSK030,QXTE_JDSKEKKA,QXTE_JDSIRAISTATUS,QXTE_HANTEISYOKI,
    QXTE_JDSYOSINRANK,QXTE_JDSCASHLIMIT,QXTE_JDSDATE,QXTE_ENDHANTEI,QXTE_ENDYOSINRANK,
    QXTE_ENDCASHLIMIT,QXTE_ENDFSTTANTOID,QXTE_ENDFSTSHORIDATE,QXTE_ENDTANTOID,
    QXTE_ENDSHORIDATE,QXTE_SRVHANTEI,QXTE_SRVIRAIUMU,QXTE_BUNSHOKANRINO,
    QXTE_LETTERSYUBETU,QXTE_KIJITUSTRDATE,QXTE_HUPIRAIDATE,QXTE_HUPKEKKADATE,
    QXTE_HUPHANTEI,QXTE_STRDATE,QXTE_UPDDATE,QXTE_DELDATE,QXTE_OPID,QXTE_WSID)
AS
Select  T1.*,T2.*
From  (Select Max(TO_NumBer(QXTD_PRMTABANO)) TABANO
    From  QXTD_GENDOKAIINM ) M
   ,QXTD_GENDOKAIINM T1
   ,QXTE_SHINSAKEKKA T2
Where    T1.QXTD_PRMTABANO       <>  M.TABANO               AND
      T1.QXTD_PRMTABANO       =  T2.QXTE_PRMTABANO       AND
      T1.QXTD_PRMKIGYOUCD     =  T2.QXTE_PRMKIGYOUCD     AND
      T1.QXTD_PRMSUBRANGEKEY  =  T2.QXTE_PRMSUBRANGEKEY  AND
      T1.QXTD_PRMNAIBUKAIINNO =  T2.QXTE_PRMNAIBUKAIINNO AND
      T1.QXTD_PRMKANKEIKBN    =  T2.QXTE_PRMKANKEIKBN    AND
      T1.QXTD_PRMKAZOKURBN    =  T2.QXTE_PRMKAZOKURBN    AND
      T1.QXTD_DELDATE         Is Null
/

CREATE OR REPLACE VIEW TCCUSER.QBA1_NEWMOSHIKOMIV
    (QBA1_UKETSUKENO,QBA1_COURIERID,QBA1_CARDKBN,QBA1_HONKJNAME,QBA1_CTLCANS,
    QBA1_CTLCANRIYU,QBA1_CTLCANTUIKI,QBA1_CTLSEISADATE,QBA1_CTLFSTSGDATE,
    QBA1_CTLSCDSNSDATE,QBA1_CTLRONEDATE,QBA7_JDSJ004,QBA7_JDSJ005,QBA7_JDSJ006,
    QBA7_WSID,QBA7_OPID,QBA7_JDSKEKKA,QBA7_JDSYOSINRANK,QBA7_JDSCASHLIMIT,
    QBA7_JDSDATE,QBA7_AESKEKKA,QBA7_AESKESSAITANTO,QBA7_AESRESULTCD,QBA7_AESRESULTMEMO,
    QBA7_AESYOSINRANK,QBA7_AESCASHLIMIT,QBA7_AESCENTERKBN,QBM5_MAKEDATE,
    QBM8_MAKEDATE)
AS
Select /*+ INDEX(QBA1_MOSHIKOMIT,XIE6QBA1_MOSHIKOMIT) */
   QBA1_UKETSUKENO
  ,QBA1_COURIERID
  ,QBA1_CARDKBN
  ,QBA1_HONKJNAME
  ,QBA1_CTLCANS
  ,QBA1_CTLCANRIYU
  ,QBA1_CTLCANTUIKI
  ,QBA1_CTLSEISADATE
  ,QBA1_CTLFSTSGDATE
  ,QBA1_CTLSCDSNSDATE
  ,QBA1_CTLRONEDATE
  ,QBA7_JDSJ004
  ,QBA7_JDSJ005
  ,QBA7_JDSJ006
  ,QBA7_WSID
  ,QBA7_OPID
  ,QBA7_JDSKEKKA
  ,QBA7_JDSYOSINRANK
  ,QBA7_JDSCASHLIMIT
  ,QBA7_JDSDATE
  ,QBA7_AESKEKKA
  ,QBA7_AESKESSAITANTO
  ,QBA7_AESRESULTCD
  ,QBA7_AESRESULTMEMO
  ,QBA7_AESYOSINRANK
  ,QBA7_AESCASHLIMIT
  ,QBA7_AESCENTERKBN
  ,CAN_MAKEDATE
-- 2004/03/12 至急メモの対応 IMZ.YAMADA -->
--  ,SIK_MAKEDATE
  ,Decode(QBA1_CARDHAKKOKEITAI,1,SYSDATE,SIK_MAKEDATE)
-- 2004/03/12 至急メモの対応 IMZ.YAMADA <--
 from QSA3_CODEV,
      QBA1_MoshikomiT,
      QBA7_SHINSAKEKKAT,
     (Select QBM1_UKETSUKENO    CAN_UKETSUKENO,
             '01300001'         CAN_MEMOCD,     -- キャンセルメモコード
             Min(QBM1_MAKEDATE) CAN_MAKEDATE    -- キャンセルメモ登録日
        From QBM1_MEMOT,QBA1_MoshikomiT
       WHERE QBM1_UKETSUKENO = QBA1_UKETSUKENO
         AND QBM1_MEMOCD     = '01300001'
         AND QBM1_DELDATE    IS Null
       Group by QBM1_UKETSUKENO) CAN,
     (Select QBM1_UKETSUKENO    SIK_UKETSUKENO,
             '01600001'         SIK_MEMOCD,   -- 至急メモコード
             MAX(QBM1_MAKEDATE) SIK_MAKEDATE  -- 至急メモ登録日
        From QBM1_MEMOT,QBA1_MoshikomiT
       WHERE QBM1_UKETSUKENO = QBA1_UKETSUKENO
         AND QBM1_MEMOCD     = '01600001'
         AND QBM1_DELDATE    IS Null
       Group by QBM1_UKETSUKENO) SIK
 where QSA3_PRMCODEKBN   =  'DHQ'
   and QSA3_PRMCODENO    =  'KEY'
   and QBA1_CTLMSTSTRDATE  is null
   and QBA1_CTLFSTSGDATE   is not null
   and QBA1_UKETSUKENO   =  QBA7_UKETSUKENO
   and QBA1_COURIERID    >= To_Number(QSA3_MEI)
   and QBA7_KANKEIKBN    =  '1'
   and QBA1_UKETSUKENO   =  CAN_UKETSUKENO(+)
   and QBA1_UKETSUKENO   =  SIK_UKETSUKENO(+)

/
CREATE OR REPLACE VIEW TCCUSER.QBA7_SHINSAKEKKAV
    (QBA7_JDSJ001,QBA7_JDSJ002,QBA7_JDSJ003,QBA7_JDSJ004,QBA7_JDSJ005,QBA7_JDSJ006,
    QBA7_JDSJ007,QBA7_JDSJ008,QBA7_JDSJ009,QBA7_JDSJ010,QBA7_JDSJ011,QBA7_JDSJ012,
    QBA7_JDSJ013,QBA7_JDSJ014,QBA7_JDSJ015,QBA7_JDSJ016,QBA7_JDSJ017,QBA7_JDSJ018,
    QBA7_JDSJ019,QBA7_JDSJ020,QBA7_JDSJ021,QBA7_JDSJ022,QBA7_JDSJ023,QBA7_JDSJ024,
    QBA7_JDSJ025,QBA7_JDSJ026,QBA7_JDSJ027,QBA7_JDSJ028,QBA7_JDSJ029,QBA7_JDSJ030,
    QBA7_JDSC001,QBA7_JDSC002,QBA7_JDSC003,QBA7_JDSC004,QBA7_JDSC005,QBA7_JDSC006,
    QBA7_JDSC007,QBA7_JDSC008,QBA7_JDSC009,QBA7_JDSC010,QBA7_JDSC011,QBA7_JDSC012,
    QBA7_JDSC013,QBA7_JDSC014,QBA7_JDSC015,QBA7_JDSC016,QBA7_JDSC017,QBA7_JDSC018,
    QBA7_JDSC019,QBA7_JDSC020,QBA7_JDSC021,QBA7_JDSC022,QBA7_JDSC023,QBA7_JDSC024,
    QBA7_JDSC025,QBA7_JDSC026,QBA7_JDSC027,QBA7_JDSC028,QBA7_JDSC029,QBA7_JDSC030,
    QBA7_JDSKEKKA,QBA7_AESKEKKA,QBA7_STRDATE)
AS
SELECT
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ001),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ002),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ003),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ004),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ005),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ006),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ007),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ008),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ009),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ010),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ011),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ012),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ013),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ014),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ015),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ016),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ017),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ018),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ019),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ020),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ021),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ022),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ023),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ024),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ025),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ026),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ027),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ028),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ029),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSJ030),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC001),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC002),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC003),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC004),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC005),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC006),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC007),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC008),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC009),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC010),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC011),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC012),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC013),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC014),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC015),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC016),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC017),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC018),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC019),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC020),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC021),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC022),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC023),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC024),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC025),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC026),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC027),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC028),
QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC029),QBAP_CEnt300PKG.QBAP_CEnt3001(QBA7_JDSC030),
QBA7_JDSKEKKA,QBA7_AESKEKKA,QBA7_STRDATE
FROM	QBA7_SHINSAKEKKAT,QBA1_MOSHIKOMIT
WHERE	QBA7_KANKEIKBN		 = '1'			AND
--	(QBA7_JDSKEKKA	 	 = '01'			OR
--	(QBA7_JDSKEKKA		<> '01'			AND
--	 QBA7_AESKEKKA		IS NOT	NULL))		AND
	(Nvl(QBA7_AESKEKKA,'0')	 <>  '0'	OR
	(QBA7_JDSKEKKA		 = '01'			AND
	 QBA7_AESKEKKA		IS 		NULL))		AND
	(QBA1_UKETSUKENO	 = QBA7_UKETSUKENO	AND
	 QBA1_CTLMSTSTRDATE	IS NOT	NULL)
/
CREATE OR REPLACE VIEW TCCUSER.QBK_KAIINV
    (SYUBETU,UKETSUKENO,KIGYOUCD,SUBRANGEKEY,NAIBUKAIINNO,KAIINNO,BLACKNO,
    CARDKBN,GKNSHIKIBETSUNO,GKNEDABAN,TOUZAIKBN,TENSAIKENKANRI,KAIINNAME,
    JSHJUSHOKBN,JSHYUBINNO,JSHJUSHO1,JSHJUSHO2,JSHJUSHO3,JSHJUSHO4,JSHATENA,
    TOUROKUDATE)
AS
Select
 '1'						SYUBETU,      --種別--
 QTA1_NYKUKETSUKENO			UKETSUKENO,   --受付番号--
 QTA1_PRMKIGYOUCD			KIGYOUCD,     --企業コード--
 QTA1_PRMSUBRANGEKEY		SUBRANGEKEY,  --サブレンジ--
 QTA1_PRMNAIBUKAIINNO		NAIBUKAIINNO, --内部会員番号--
 '0000000000000000'			KAIINNO,      --外部会員番号--
 '00000000'					BLACKNO,      --ブラック番号--
 QTA1_CARDKBN				CARDKBN,      --カード区分--
 QTA1_GKNSHIKIBETSUNO		GKNSHIKIBETSUNO, --会員識別--
 QTA1_GKNEDABAN				GKNEDABAN,    --枝番--
 ' '						TOUZAIKBN,    --東西区分--
 QTA1_TENSAIKENKANRI		TENSAIKENKANRI,  --債権管理店--
 QTA1_HONSHIMEIKAN			KAIINNAME,    --会員氏名--
 '1'						JSHJUSHOKBN,  --住所区分--
 QTA1_JTKYUUBINNO			JSHYUBINNO,   --郵便番号--
-- QTA1_JTKJUSHOKAN                         VARCHAR2(50)
-- QTA1_JTKBANCHIKAN                        VARCHAR2(30)
-- QTA1_JTKKATAKAN                          VARCHAR2(64)
 '　'						JSHJUSHO1,    --住所１--
 '　'						JSHJUSHO2,    --住所２--
 '　'						JSHJUSHO3,    --住所３--
 '　'						JSHJUSHO4,    --住所４--
 QTA1_HONSHIMEIKAN			JSHATENA,     --宛名--
--2004.05.10-->
 QTA1_NYKKESSAIYMD			TOUROKUDATE   --登録日--
--2004.05.10<--
 FROM  QTA1_KAIINM
union
Select
-- 口座情報が取得できないので優先度変更した。 2004.03.04 IMZ.YAMADA
-- '2'						SYUBETU,      --種別--
 '4'						SYUBETU,      --種別--
 QTAC_UKETSUKENO			UKETSUKENO,   --受付番号--
 '9999'						KIGYOUCD,     --企業コード--
 '9999'						SUBRANGEKEY,  --サブレンジ--
 '99999999'					NAIBUKAIINNO, --内部会員番号--
 '0000000000000000'			KAIINNO,      --外部会員番号--
 QTAC_PRMBLACKNO			BLACKNO,      --ブラック番号--
 QTAC_CARDKBN				CARDKBN,      --カード区分--
 ' '						GKNSHIKIBETSUNO, --会員識別--
 ' '						GKNEDABAN,    --枝番--
 ' '						TOUZAIKBN,    --東西区分--
 QTAC_TENKAKUTOKU			TENSAIKENKANRI,  --債権管理店--
 QTAC_HONSHIMEIKAN			KAIINNAME,    --会員氏名--
 '1'						JSHJUSHOKBN,  --住所区分--
 QTAC_YUBINNO				JSHYUBINNO,   --郵便番号--
 '　'						JSHJUSHO1,    --住所１--
 '　'						JSHJUSHO2,    --住所２--
 '　'						JSHJUSHO3,    --住所３--
 '　'						JSHJUSHO4,    --住所４--
 QTAC_HONSHIMEIKAN			JSHATENA,     --宛名--
--2004.05.10-->
 QTAC_TOUROKUYMD			TOUROKUDATE   --登録日--
--2004.05.10<--
 FROM  QTAC_BLACKT
union
Select
 '3'						SYUBETU,      --種別--
 QBA1_UKETSUKENO			UKETSUKENO,   --受付番号--
 '9999'						KIGYOUCD,     --企業コード--
 '9999'						SUBRANGEKEY,  --サブレンジ--
 '99999999'					NAIBUKAIINNO, --内部会員番号--
 '0000000000000000'			KAIINNO,      --外部会員番号--
 '00000000'					BLACKNO,      --ブラック番号--
 QBA1_CARDKBN				CARDKBN,      --カード区分--
 ' '						GKNSHIKIBETSUNO, --会員識別--
 ' '						GKNEDABAN,    --枝番--
-- 口振情報がない申込書テーブルの対応 2004.03.04 IMZ.YAMADA
-- QBA1_ELSTOZAIKBN			TOUZAIKBN,    --東西区分--
-- QBA1_CTLKANRITEN			TENSAIKENKANRI,  --債権管理店--
-- QBA1_HONKJNAME			KAIINNAME,    --会員氏名--
 Nvl(QBA1_ELSTOZAIKBN,'1')	TOUZAIKBN,    --東西区分--
 Nvl(QBA1_CTLKANRITEN,'95')	TENSAIKENKANRI,  --債権管理店--
 Nvl(QBA1_HONKJNAME,'ｱ')	KAIINNAME,    --会員氏名--
 '1'						JSHJUSHOKBN,  --住所区分--
-- QBA1_HONYUBINNO			JSHYUBINNO,   --郵便番号--
 Nvl(QBA1_HONYUBINNO,' ')	JSHYUBINNO,   --郵便番号--
 '　'						JSHJUSHO1,    --住所１--
 '　'						JSHJUSHO2,    --住所２--
 '　'						JSHJUSHO3,    --住所３--
 '　'						JSHJUSHO4,    --住所４--
-- QBA1_HONKJNAME			JSHATENA      --宛名--
 Nvl(QBA1_HONKJNAME,'ｱ')	JSHATENA,     --宛名--
--2004.05.10-->
 QBA1_STRDATE				TOUROKUDATE   --登録日--
--2004.05.10<--
 FROM  QBA1_MOSHIKOMIT

/
CREATE OR REPLACE VIEW TCCUSER.QBK6_SOUFUPRINTV
    (QBK6_SOHTOUZAIKBN,QBK6_SOHSOUFUSAKIKBN,QBK6_SOHGINKOUCD,QBK6_SOHSHITENCD,
    QBK6_SOHYUUBINNO,QBK6_SOHJUSHO1,QBK6_SOHJUSHO2,QBK6_SOHJUSHO3,QBK6_SOHJUSHO4,
    QBK6_SOHATENA,QBK6_SOHATENA1,QBK6_SOHATENA2,QBK6_SOHCOUNT,QBK6_DATSOHUYMD,
    QBK6_SOHPRDATE)
AS
select
QBK1_SOHTouzaiKbn QBK6_SOHTouzaiKbn,
QBK1_SOHSoufusakiKbn QBK6_SOHSoufusakiKbn,
QBK1_SOHGinkouCd QBK6_SOHGinkouCd,
QBK1_SOHShitenCd QBK6_SOHShitenCd,
QSAP_EDYubinNoPKG.QSAP_EDYubinNoFNC(QBK2_SOHYuubinNo) QBK6_SOHYuubinNo,
QSAP_EDJusyoPKG.QSAP_EDJusyoFUNC(1, QBK2_SOHJushoKan, QBK2_SOHBanchiKan, QBK2_SOHKataKan, '', '') QBK6_SOHJusho1,
QSAP_EDJusyoPKG.QSAP_EDJusyoFUNC(2, QBK2_SOHJushoKan, QBK2_SOHBanchiKan, QBK2_SOHKataKan, '', '') QBK6_SOHJusho2,
QSAP_EDJusyoPKG.QSAP_EDJusyoFUNC(3, QBK2_SOHJushoKan, QBK2_SOHBanchiKan, QBK2_SOHKataKan, '', '') QBK6_SOHJusho3,
QSAP_EDJusyoPKG.QSAP_EDJusyoFUNC(4, QBK2_SOHJushoKan, QBK2_SOHBanchiKan, QBK2_SOHKataKan, '', '') QBK6_SOHJusho4,
QBK2_SOHAtena QBK6_SOHAtena,
QBK2_SOHAtena1 QBK6_SOHAtena1,
QBK2_SOHAtena2 QBK6_SOHAtena2,
count(QBK1_SOHGinkouCd) QBK6_SOHCount,
QBK1_DATSohuYmd QBK6_DATSohuYmd,
sysdate QBK6_SOHPrDate
 from QBK1_KFuriT, QBK2_TGinkoM
where QBK1_SOHShitenCd = '00000'
  and QBK1_DATHasouYmd is not NULL
  and QBK1_DATHenkyakuYmd is NULL
  and QBK1_HEKHenkyakuKbn = '0'
  and QBK1_SOHTouzaiKbn = QBK2_PRMTouzaiKbn
  and QBK1_SOHSoufusakiKbn = QBK2_PRMSoufusakiKbn
  and QBK1_SOHGinkouCd = QBK2_PRMGinkouCd
  and QBK1_SOHKakuninKbn != '1'
group by QBK1_SOHTouzaiKbn,QBK1_SOHSoufusakiKbn,
QBK1_SOHGinkouCd,QBK1_SOHShitenCd,
QBK2_SOHAtena,
QBK2_SOHAtena1,
QBK2_SOHAtena2,
QBK2_SOHKataKan,
QBK2_SOHBanchiKan,
QBK2_SOHJushoKan,
QBK2_SOHYuubinNo,
QBK1_DATSohuYmd
union
select
QBK1_SOHTouzaiKbn QBK6_SOHTouzaiKbn,
QBK1_SOHSoufusakiKbn QBK6_SOHSoufusakiKbn,
QBK1_SOHGinkouCd QBK6_SOHGinkouCd,
QBK1_SOHShitenCd QBK6_SOHShitenCd,
QSAP_EDYubinNoPKG.QSAP_EDYubinNoFNC(QTA7_YubinNo) QBK6_SOHYuubinNo,
QSAP_EDJusyoPKG.QSAP_EDJusyoFUNC(1, QTA7_KJJTenpo, QTA7_KJJBKatagaki1, QTA7_KJJBKatagaki2, '', '') QBK6_SOHJusho1,
QSAP_EDJusyoPKG.QSAP_EDJusyoFUNC(2, QTA7_KJJTenpo, QTA7_KJJBKatagaki1, QTA7_KJJBKatagaki2, '', '') QBK6_SOHJusho2,
QSAP_EDJusyoPKG.QSAP_EDJusyoFUNC(3, QTA7_KJJTenpo, QTA7_KJJBKatagaki1, QTA7_KJJBKatagaki2, '', '') QBK6_SOHJusho3,
QSAP_EDJusyoPKG.QSAP_EDJusyoFUNC(4, QTA7_KJJTenpo, QTA7_KJJBKatagaki1, QTA7_KJJBKatagaki2, '', '') QBK6_SOHJusho4,
QTA7_KinyuKikanNMKJ QBK6_SOHAtena,
QTA7_SitenNMKJ QBK6_SOHAtena1,
'口座振替ご担当者様' QBK6_SOHAtena2,
count(QBK1_SOHGinkouCd) QBK6_SOHCount,
QBK1_DATSohuYmd QBK6_DATSohuYmd,
sysdate QBK6_SOHPrDate
 from QBK1_KFuriT, QTA7_GinkouM
where QBK1_SOHShitenCd != '00000'
  and QBK1_SOHGinkouCd != '9900'
  and QBK1_DATHasouYmd is not NULL
  and QBK1_DATHenkyakuYmd is NULL
  and QBK1_HEKHenkyakuKbn = '0'
  and QTA7_PRMHukaCd = '1'
  and QTA7_PRMShitenCd = substr(QBK1_SOHShitenCd, 3, 3)
  and QBK1_SOHGinkouCd = QTA7_PRMKikanCd
  and QBK1_SOHKakuninKbn != '1'
group by QBK1_SOHTouzaiKbn,QBK1_SOHSoufusakiKbn,
QBK1_SOHGinkouCd,QBK1_SOHShitenCd,
QTA7_YubinNo,
QTA7_KJJTenpo,
QTA7_KinyuKikanNMKJ,
QTA7_KJJBKatagaki1,
QTA7_KJJBKatagaki2,
QTA7_SitenNMKJ,
QTA7_KJJAKenKeta,
QTA7_KJJAGunKeta,
QTA7_KJJAMuraKeta,
QBK1_DATSohuYmd
/
CREATE OR REPLACE VIEW TCCUSER.QBK8_KFANMACHIV
    (QBK8_PRMUKETUKENO,QBK8_PRMNAIBUKAIINNO,QBK8_PRMHASOUINYMD,QBK8_KIGYOUCD,
    QBK8_SUBRANGEKEY,QBK8_GAIBUKAIINNO,QBK8_BLACKNO,QBK8_SOHTOUZAIKBN,QBK8_SOHSOUFUSAKIKBN,
    QBK8_SOHGINKOUCD,QBK8_SOHSHITENCD,QBK8_KOZTOUZAIKBN,QBK8_KOZGINKOUCD,
    QBK8_KOZSHITENCD,QBK8_KOZSHUMOKU,QBK8_KOZYUCHOSAIHATU,QBK8_KOZNO,QBK8_KOZMEIGI,
    QBK8_SOHTELNO,QBK8_KNJNAME,QBK8_KNJSOHATENA,QBK8_KNJSOHSITEN,QBK8_KNJKOZGINKOU,
    QBK8_KNJKOZSITEN,QBK8_KOUTANTOCD,QBK8_KOUTANTOMEI,QBK8_KOUBUSHOCD,QBK8_KOUDATETIME)
AS
SELECT QBK5_PRMUketukeNo QBK8_PRMUketukeNo,
       QBK5_PRMNaibuKaiinNo QBK8_PRMNaibuKaiinNo,
       QBK5_PRMHasouInYmd QBK8_PRMHasouInYmd,
       QBK5_KigyouCd QBK8_KigyouCd,
       QBK5_SubRangeKey QBK8_SubRangeKey,
       REPLACE(QSAP_EdKaiinNoPkg.QSAP_EdKaiinNoFnc(2, QBK5_GaibuKaiinNo), '00-00-0000-0-0', ' ') QBK8_GaibuKaiinNo,
       QBK5_BlackNo QBK8_BlackNo,
       QBK5_SOHTouzaiKbn QBK8_SOHTouzaiKbn,
       QBK5_SOHSoufusakiKbn QBK8_SOHSoufusakiKbn,
       QBK5_SOHGinkouCd QBK8_SOHGinkouCd,
       QBK5_SOHShitenCd QBK8_SOHShitenCd,
       QBK5_KOZTouzaiKbn QBK8_KOZTouzaiKbn,
       QBK5_KOZGinkouCd QBK8_KOZGinkouCd,
       QBK5_KOZShitenCd QBK8_KOZShitenCd,
       QBK5_KOZShumoku QBK8_KOZShumoku,
       QBK5_KOZYuchosaihatu QBK8_KOZYuchosaihatu,
       QBK5_KOZNo QBK8_KOZNo,
       QBK5_KOZMeigi QBK8_KOZMeigi,
       QBK5_SOHTELNo QBK8_SOHTELNo,
       QBK5_KNJName QBK8_KNJName,
       -- Ｎｕｌｌ場合の不具合対応 IMZ.YAMADA -->
       --QBK5_KNJSOHAtena QBK8_KNJSOHAtena,
       Nvl(QBK5_KNJSOHAtena,' ') QBK8_KNJSOHAtena,
       -- Ｎｕｌｌ場合の不具合対応 IMZ.YAMADA <--
       QBK5_KNJSOHSiten QBK8_KNJSOHSiten,
       -- Ｎｕｌｌ場合の不具合対応 IMZ.YAMADA -->
       --QBK5_KNJKOZGinkou QBK8_KNJKOZGinkou,
       Nvl(QBK5_KNJKOZGinkou,' ') QBK8_KNJKOZGinkou,
       -- Ｎｕｌｌ場合の不具合対応 IMZ.YAMADA <--
       QBK5_KNJKOZSiten QBK8_KNJKOZSiten,
       QBK5_KOUTantoCd QBK8_KOUTantoCd,
       QBK5_KOUTantoMei QBK8_KOUTantoMei,
       QBK5_KOUBushoCd QBK8_KOUBushoCd,
       QBK5_KOUDateTime QBK8_KOUDateTime
FROM   QBK5_KFAnMachiT

/
CREATE OR REPLACE VIEW TCCUSER.QBK9_SOUFUSAKIV
    (QBK9_PRMHASOUINYMD,QBK9_PRMNAIBUKAIINNO,QBK9_PRMUKETSUKENO,QBK9_SOHTOUZAIKBN,
    QBK9_SOHSOUFUSAKIKBN,QBK9_SOHGINKOUCD,QBK9_SOHSHITENCD,QBK9_SOHATENA,
    QBK9_SOHSHITENMEI,QBK9_SOHTEL,QBK9_SOHTANTOMEI)
AS
SELECT QBK1_PRMHasouInYmd QBK9_PRMHasouInYmd,
       QBK1_PRMNaibuKaiinNo QBK9_PRMNaibuKaiinNo,
       QBK1_PRMUketukeNo QBK9_PRMUketsukeNo,
       QBK1_SOHTouzaiKbn QBK9_SOHTouzaiKbn,
       QBK1_SOHSoufusakiKbn QBK9_SOHSoufusakiKbn,
       QBK1_SOHGinkouCd QBK9_SOHGinkouCd,
       QBK1_SOHShitenCd QBK9_SOHShitenCd,
       QBK2_SOHAtena QBK9_SOHAtena,
       '' QBK9_SOHShitenMei,
       RTRIM(QBK2_SOHTelShigai) || '-' || RTRIM(QBK2_SOHTelKyoku) || '-' || RTRIM(QBK2_SOHTelNo) QBK9_SOHTel,
       QBK2_SOHTantoMei QBK9_SOHTantoMei
FROM   QBK1_KFuriT,
       QBK2_TGinkoM
WHERE  QBK1_SOHShitenCd = '00000'
AND    QBK1_SOHTouzaiKbn = QBK2_PRMTouzaiKbn (+)
AND    QBK1_SOHSoufusakiKbn = QBK2_PRMSoufusakiKbn (+)
AND    QBK1_SOHGinkouCd = QBK2_PRMGinkouCd (+)
UNION
SELECT QBK1_PRMHasouInYmd QBK9_PRMHasouInYmd,
       QBK1_PRMNaibuKaiinNo QBK9_PRMNaibuKaiinNo,
       QBK1_PRMUketukeNo QBK9_PRMUketsukeNo,
       QBK1_SOHTouzaiKbn QBK9_SOHTouzaiKbn,
       QBK1_SOHSoufusakiKbn QBK9_SOHSoufusakiKbn,
       QBK1_SOHGinkouCd QBK9_SOHGinkouCd,
       QBK1_SOHShitenCd QBK9_SOHShitenCd,
       QTA7_KinyuKikanNMKJ QBK9_SOHAtena,
       QTA7_SitenNMKJ QBK9_SOHShitenMei,
       QTA7_Tel QBK9_SOHTel,
       '' QBK9_SOHTantoMei
FROM   QBK1_KFuriT,
       QTA7_GinkouM
WHERE  QBK1_SOHShitenCd != '00000'
AND    QTA7_PRMHukaCd = '1'
AND    QTA7_PRMKikanCd = QBK1_SOHGinkouCd
AND    QTA7_PRMShitenCd = SUBSTR(QBK1_SOHShitenCd, 3, 3)

/
CREATE OR REPLACE VIEW TCCUSER.QBKA_KOUZAV
    (QBKA_PRMHASOUINYMD,QBKA_PRMNAIBUKAIINNO,QBKA_PRMUKETSUKENO,QBKA_KOZGINKOUCD,
    QBKA_KOZSHITENCD,QBKA_KOZGINKOUMEI,QBKA_KOZSHITENMEI)
AS
SELECT QBK1_PRMHasouInYmd QBKA_PRMHasouInYmd,
       QBK1_PRMNaibuKaiinNo QBKA_PRMNaibuKaiinNo,
       QBK1_PRMUketukeNo QBKA_PRMUketsukeNo,
       QBK1_KOZGinkouCd QBKA_KOZGinkouCd,
       QBK1_KOZShitenCd QBKA_KOZShitenCd,
       QTA7_KinyuKikanNMKJ QBKA_KOZGinkouMei,
       QTA7_SitenNMKJ QBKA_KOZShitenMei
FROM   QBK1_KFuriT,
       QTA7_GinkouM
WHERE  QBK1_KOZGinkouCd != '9900'
AND    QBK1_KOZGinkouCd = QTA7_PRMKikanCd (+)
AND    SUBSTR(QBK1_KOZShitenCd, 3, 3) = QTA7_PRMShitenCd (+)
GROUP BY QBK1_PRMHasouInYmd,
         QBK1_PRMNaibuKaiinNo,
         QBK1_PRMUketukeNo,
         QBK1_KOZGinkouCd,
         QBK1_KOZShitenCd,
         QTA7_KinyuKikanNMKJ,
         QTA7_SitenNMKJ
UNION
SELECT QBK1_PRMHasouInYmd QBKA_PRMHasouInYmd,
       QBK1_PRMNaibuKaiinNo QBKA_PRMNaibuKaiinNo,
       QBK1_PRMUketukeNo QBKA_PRMUketsukeNo,
       QBK1_KOZGinkouCd QBKA_KOZGinkouCd,
       QBK1_KOZShitenCd QBKA_KOZShitenCd,
       '郵便局' QBKA_KOZGinkouMei,
       ' ' QBKA_KOZShitenMei
FROM   QBK1_KFuriT
WHERE  QBK1_KOZGinkouCd = '9900'
GROUP BY QBK1_PRMHasouInYmd,
         QBK1_PRMNaibuKaiinNo,
         QBK1_PRMUketukeNo,
         QBK1_KOZGinkouCd,
         QBK1_KOZShitenCd

/
CREATE OR REPLACE VIEW TCCUSER.QBKB_SYOUKAIV
    (QBKB_PRMUKETSUKENO,QBKB_PRMHASOUINYMD,QBKB_PRMNAIBUKAIINNO,QBKB_KIGYOUCD,
    QBKB_SUBRANGEKEY,QBKB_GAIBUKAIINNO,QBKB_BLACKNO,QBKB_CARDKBN,QBKB_SAIKENKANRI,
    QBKB_TOUZAIKBN,QBKB_GYOUMUKBN,QBKB_DATHASOUYMD,QBKB_DATHENKYAKUYMD,
    QBKB_DATJFHENREIYMD,QBKB_HEKHENKYAKUKBN,QBKB_JFHSEIKYUYM,QBKB_JFHHURIKAEKEKACD,
    QBKB_HONSHIMEIKAN,QBKB_HONSHIMEIKANA,QBKB_TELSHIGAI,QBKB_TELKYOKU,QBKB_TELNO,
    QBKB_HONKJNAME,QBKB_HONKNNAME,QBKB_TEL1,QBKB_TEL2,QBKB_TEL3,QBKB_HEKRIYUCD1,
    QBKB_HEKRIYUCD2,QBKB_HEKRIYUCD3,QBKB_HEKRIYUCD4,QBKB_HEKRIYUCD5,QBKB_HEKRIYUCD6,
    QBKB_RIYUMEI1,QBKB_RIYUMEI2,QBKB_RIYUMEI3,QBKB_RIYUMEI4,QBKB_RIYUMEI5,
    QBKB_RIYUMEI6,QBKB_SOHTOUZAIKBN,QBKB_SOHSOUFUSAKIKBN,QBKB_SOHGINKOUCD,
    QBKB_SOHSHITENCD,QBKB_SOHATENA,QBKB_SOHSHITENMEI,QBKB_SOHTEL,QBKB_SOHKAKUNINKBN,
    QBKB_SOHTANTOMEI,QBKB_KOZYUCHOSAIHATU,QBKB_KOZSHUMOKU,QBKB_KOZNO,QBKB_KOZMEIGI,
    QBKB_KOZGINKOUCD,QBKB_KOZSHITENCD,QBKB_KOZGINKOUMEI,QBKB_KOZSHITENMEI)
AS
SELECT QBK1_PRMUketukeNo QBKB_PRMUketsukeNo,
       QBK1_PRMHasouInYmd QBKB_PRMHasouInYmd,
       QBK1_PRMNaibuKaiinNo QBKB_PRMNaibuKaiinNo,
       QBK1_KigyouCd QBKB_KigyouCd,
       QBK1_SubRangeKey QBKB_SubRangeKey,
       REPLACE(QSAP_EdKaiinNoPkg.QSAP_EdKaiinNoFnc(2, QBK1_GaibuKaiinNo), '00-00-0000-0-0', ' ') QBKB_GaibuKaiinNo,
       QBK1_BlackNo QBKB_BlackNo,
       QBK1_CardKbn QBKB_CardKbn,
       QBK1_SAIKENKANRI QBKB_SAIKENKANRI,          /* 2002.10.31 追加 */
       QTAB.QTAB_TOUZAIKBN QBKB_TOUZAIKBN,         /* 2002.10.31 追加 */
       QBK1_GyoumuKbn QBKB_GyoumuKbn,
       QBK1_DATHasouYmd QBKB_DATHasouYmd,
       QBK1_DATHenkyakuYmd QBKB_DATHenkyakuYmd,
       QBK1_DATJFHenreiYmd QBKB_DATJFHenreiYmd,
       QBK1_HEKHenkyakuKbn QBKB_HEKHenkyakuKbn,
       QBK1_JFHSeikyuYm QBKB_JFHSeikyuYm,
       QBK1_JFHHurikaeKekaCd QBKB_JFHHurikaeKekaCd,
       QTA1_HONShimeiKan QBKB_HONShimeiKan,
       QTA1_HONShimeiKana QBKB_HONShimeiKana,       /* 1999.06.07 追加 */
       QTA1_JTKTelShigai QBKB_TelShigai,
       QTA1_JTKTelKyoku QBKB_TelKyoku,
       QTA1_JTKTelNo QBKB_TelNo,
       QBA1_HONKJName QBKB_HONKJName,
       QBA1_HONKNName QBKB_HONKNName,               /* 1999.06.07 追加 */
       QBA1_HONTel1 QBKB_Tel1,
       QBA1_HONTel2 QBKB_Tel2,
       QBA1_HONTel3 QBKB_Tel3,
       QBK1_HEKRiyuCd1 QBKB_HEKRiyuCd1,
       QBK1_HEKRiyuCd2 QBKB_HEKRiyuCd2,
       QBK1_HEKRiyuCd3 QBKB_HEKRiyuCd3,
       QBK1_HEKRiyuCd4 QBKB_HEKRiyuCd4,
       QBK1_HEKRiyuCd5 QBKB_HEKRiyuCd5,
       QBK1_HEKRiyuCd6 QBKB_HEKRiyuCd6,
       QBK4_A.QBK4_RyakuMei QBKB_RiyuMei1,
       QBK4_B.QBK4_RyakuMei QBKB_RiyuMei2,
       QBK4_C.QBK4_RyakuMei QBKB_RiyuMei3,
       QBK4_D.QBK4_RyakuMei QBKB_RiyuMei4,
       QBK4_E.QBK4_RyakuMei QBKB_RiyuMei5,
       QBK4_F.QBK4_RyakuMei QBKB_RiyuMei6,
       QBK9_SOHTouzaiKbn QBKB_SOHTouzaiKbn,
       QBK9_SOHSoufusakiKbn QBKB_SOHSoufusakiKbn,
       QBK9_SOHGinkouCd QBKB_SOHGinkouCd,
       QBK9_SOHShitenCd QBKB_SOHShitenCd,
       QBK9_SOHAtena QBKB_SOHAtena,
       QBK9_SOHShitenMei QBKB_SOHShitenMei,
       QBK9_SOHTel QBKB_SOHTel,
       QBK1_SOHKakuninKbn QBKB_SOHKakuninKbn,
       QBK9_SOHTantoMei QBKB_SOHTantoMei,
       QBK1_KOZYuchosaihatu QBKB_KOZYuchosaihatu,
       QBK1_KOZShumoku QBKB_KOZShumoku,
       QBK1_KOZNo QBKB_KOZNo,
       QBK1_KOZMeigi QBKB_KOZMeigi,
       QBKA_KOZGinkouCd QBKB_KOZGinkouCd,
       QBKA_KOZShitenCd QBKB_KOZShitenCd,
       QBKA_KOZGinkouMei QBKB_KOZGinkouMei,
       QBKA_KOZShitenMei QBKB_KOZShitenMei
FROM   QBK1_KFURIT,
       QBA1_MOSHIKOMIT,
       QTA1_KAIINM,
/* 2002.10.31 追加 >> */
      (SELECT QTAB_PRMEigyouTenCd,
              QTAB_TOUZAIKBN
       FROM   QTAB_MISET
       WHERE  QTAB_PRMKigyouCd = '1203'
         AND  QTAB_PRMYukoKaishi <= SYSDATE
         AND  QTAB_PRMYukoOwari  >= SYSDATE) QTAB,
/* 2002.10.31 追加 << */
       QBK9_SoufusakiV,
       QBKA_KouzaV,
       QBK4_KFubiRiyuM QBK4_A,
       QBK4_KFubiRiyuM QBK4_B,
       QBK4_KFubiRiyuM QBK4_C,
       QBK4_KFubiRiyuM QBK4_D,
       QBK4_KFubiRiyuM QBK4_E,
       QBK4_KFubiRiyuM QBK4_F
WHERE  QBK1_PRMUketukeNo = QBA1_UketsukeNo(+)
AND    QBK1_KigyouCd = QTA1_PRMKigyouCd(+)
AND    QBK1_SubRangeKey = QTA1_PRMSubRangeKey(+)
AND    QBK1_PRMNaibuKaiinNo = QTA1_PRMNaibuKaiinNo(+)
AND    QBK1_HEKRiyuCd1 = QBK4_A.QBK4_PRMRiyuCd
AND    QBK1_HEKRiyuCd2 = QBK4_B.QBK4_PRMRiyuCd
AND    QBK1_HEKRiyuCd3 = QBK4_C.QBK4_PRMRiyuCd
AND    QBK1_HEKRiyuCd4 = QBK4_D.QBK4_PRMRiyuCd
AND    QBK1_HEKRiyuCd5 = QBK4_E.QBK4_PRMRiyuCd
AND    QBK1_HEKRiyuCd6 = QBK4_F.QBK4_PRMRiyuCd
AND    QBK1_PRMUketukeNo = QBK9_PRMUketsukeNo
AND    QBK1_PRMNaibuKaiinNo = QBK9_PRMNaibuKaiinNo
AND    QBK1_PRMHasouInYmd = QBK9_PRMHasouInYmd
AND    QBK1_PRMUketukeNo = QBKA_PRMUketsukeNo
AND    QBK1_PRMNaibuKaiinNo = QBKA_PRMNaibuKaiinNo
AND    QBK1_PRMHasouInYmd = QBKA_PRMHasouInYmd
AND    QBK1_SAIKENKANRI = QTAB.QTAB_PRMEigyouTenCd(+)
GROUP BY QBK1_PRMHasouInYmd,
         QBK1_PRMNaibuKaiinNo,
         QBK1_PRMUketukeNo,
         QBK1_KigyouCd,
         QBK1_SubRangeKey,
         QBK1_GaibuKaiinNo,
         QBK1_BlackNo,
         QBK1_CardKbn,
         QBK1_SAIKENKANRI,          /* 2002.10.31 追加 */
         QTAB.QTAB_TOUZAIKBN,       /* 2002.10.31 追加 */
         QBK1_GyoumuKbn,
         QBK1_DATHasouYmd,
         QBK1_DATHenkyakuYmd,
         QBK1_DATJFHenreiYmd,
         QBK1_HEKHenkyakuKbn,
         QBK1_JFHSeikyuYm,
         QBK1_JFHHurikaeKekaCd,
         QTA1_HONShimeiKan,
         QTA1_HONShimeiKana,        /* 1999.06.07 追加 */
         QTA1_JTKTelShigai,
         QTA1_JTKTelKyoku,
         QTA1_JTKTelNo,
         QBA1_HONKJName,
         QBA1_HONKNName,            /* 1999.06.07 追加 */
         QBA1_HONTel1,
         QBA1_HONTel2,
         QBA1_HONTel3,
         QBK1_HEKRiyuCd1,
         QBK1_HEKRiyuCd2,
         QBK1_HEKRiyuCd3,
         QBK1_HEKRiyuCd4,
         QBK1_HEKRiyuCd5,
         QBK1_HEKRiyuCd6,
         QBK4_A.QBK4_RyakuMei,
         QBK4_B.QBK4_RyakuMei,
         QBK4_C.QBK4_RyakuMei,
         QBK4_D.QBK4_RyakuMei,
         QBK4_E.QBK4_RyakuMei,
         QBK4_F.QBK4_RyakuMei,
         QBK9_SOHTouzaiKbn,
         QBK9_SOHSoufusakiKbn,
         QBK9_SOHGinkouCd,
         QBK9_SOHShitenCd,
         QBK9_SOHAtena,
         QBK9_SOHShitenMei,
         QBK9_SOHTel,
         QBK1_SOHKakuninKbn,
         QBK9_SOHTantoMei,
         QBK1_KOZYuchosaihatu,
         QBK1_KOZShumoku,
         QBK1_KOZNo,
         QBK1_KOZMeigi,
         QBKA_KOZGinkouCd,
         QBKA_KOZShitenCd,
         QBKA_KOZGinkouMei,
         QBKA_KOZShitenMei

/
CREATE OR REPLACE VIEW TCCUSER.QBKC_LABELV
    (QBKC_PRMTOUZAIKBN,QBKC_PRMSOUFUSAKIKBN,QBKC_PRMGINKOUCD,QBKC_SOHATENA,
    QBKC_SOHATENA1,QBKC_SOHATENA2,QBKC_SOHYUBINNO,QBKC_SOHJUSYO1,QBKC_SOHJUSYO2,
    QBKC_SOHJUSYO3,QBKC_SOHJUSYO4)
AS
SELECT QBK2_PRMTouzaiKbn,
       QBK2_PRMSoufusakiKbn,
       QBK2_PRMGinkouCd,
       QBK2_SOHAtena,
       QBK2_SOHAtena1,
       QBK2_SOHAtena2,
       QSAP_EDYubinNoPKG.QSAP_EDYubinNoFNC(QBK2_SOHYuubinNo),
       QSAP_EDJusyoPKG.QSAP_EDJusyoFUNC(1, QBK2_SOHJushoKan, QBK2_SOHBanchiKan, QBK2_SOHKataKan, '', ''),
       QSAP_EDJusyoPKG.QSAP_EDJusyoFUNC(2, QBK2_SOHJushoKan, QBK2_SOHBanchiKan, QBK2_SOHKataKan, '', ''),
       QSAP_EDJusyoPKG.QSAP_EDJusyoFUNC(3, QBK2_SOHJushoKan, QBK2_SOHBanchiKan, QBK2_SOHKataKan, '', ''),
       QSAP_EDJusyoPKG.QSAP_EDJusyoFUNC(4, QBK2_SOHJushoKan, QBK2_SOHBanchiKan, QBK2_SOHKataKan, '', '')
FROM   QBK2_TGinkoM
/
CREATE OR REPLACE VIEW TCCUSER.QBKH_TGRIYOV
    (QBKH_RIYOTOUZAIKBN,QBKH_RIYOGINKOUCD,QBKH_RIYOGINKOUMEI,QBKH_SOHSOUFUSAKIKBN,
    QBKH_SOHGINKOUCD)
AS
SELECT QBK3_PRMTouzaiKbn QBKH_RiyoTouzaiKbn,
       QBK3_PRMRGinkouCd QBKH_RiyoGinkouCd,
       MIN(QTA7_KinyuKikanNMKJ) QBKH_RiyoGinkouMei,
       QBK3_SOHSoufusakiKbn QBKH_SOHSoufusakiKbn,
       QBK3_SOHGinkouCd QBKH_SOHGinkouCd
FROM   QBK3_TGRiyoM,
       QTA7_GinkouM
WHERE  QBK3_PRMRGinkouCd = QTA7_PRMKikanCd
AND    QTA7_PRMHukaCd = '1'
GROUP BY QBK3_PRMTouzaiKbn,
         QBK3_PRMRGinkouCd,
         QBK3_SOHSoufusakiKbn,
         QBK3_SOHGinkouCd

/
CREATE OR REPLACE VIEW TCCUSER.QBKI_TGINKOUV
    (QBKI_PRMTOUZAIKBN,QBKI_PRMSOUFUSAKIKBN,QBKI_PRMGINKOUCD,QBKI_SOHATENA,
    QBKI_SOHATENA1,QBKI_SOHATENA2,QBKI_SOHYUBINNO,QBKI_SOHTELSHIGAI,QBKI_SOHTELKYOKU,
    QBKI_SOHTELNO,QBKI_SOHJUSHOCD,QBKI_SOHJUSHOKAN,QBKI_SOHBANCHIKAN,QBKI_SOHKATAKAN,
    QBKI_SOHTANTOMEI,QBKI_RIYOGINKOUCD,QBKI_RIYOGINKOUMEI,QBKI_SOHSOUFUMEI)
AS
SELECT QBK2_PRMTouzaiKbn QBKI_PRMTouzaiKbn,
       QBK2_PRMSoufusakiKbn QBKI_PRMSoufusakiKbn,
       QBK2_PRMGinkouCd QBKI_PRMGinkouCd,
       QBK2_SOHAtena QBKI_SOHAtena,
       QBK2_SOHAtena1 QBKI_SOHAtena1,
       QBK2_SOHAtena2 QBKI_SOHAtena2,
       QBK2_SOHYuubinNo QBKI_SOHYubinNo,
       QBK2_SOHTelShigai QBKI_SOHTelShigai,
       QBK2_SOHTelKyoku QBKI_SOHTelKyoku,
       QBK2_SOHTelNo QBKI_SOHTelNo,
       QBK2_SOHJushoCd QBKI_SOHJushoCd,
       QBK2_SOHJushoKan QBKI_SOHJushoKan,
       QBK2_SOHBanchiKan QBKI_SOHBanchiKan,
       QBK2_SOHKataKan QBKI_SOHKataKan,
       QBK2_SOHTantoMei QBKI_SOHTantoMei,
       QBKH_RiyoGinkouCd QBKI_RiyoGinkouCd,
       QBKH_RiyoGinkouMei QBKI_RiyoGinkouMei,
       QSA2_Mei QBKI_SOHSoufuMei
FROM   QBK2_TGinkoM,
       QBKH_TGRiyoV,
       QSA2_SCodeT
WHERE  QBK2_PRMTouzaiKbn = QBKH_RiyoTouzaiKbn (+)
AND    QBK2_PRMSoufusakiKbn = QBKH_SOHSoufusakiKbn (+)
AND    QBK2_PRMGinkouCd = QBKH_SOHGinkouCd (+)
AND    QSA2_PRMCodeKbn = 'DI2'
AND    QBK2_PRMSoufusakiKbn = QSA2_PRMCodeNo (+)
/
CREATE OR REPLACE VIEW TCCUSER.QBKJ_MIRATIV
    (STRNAME,STRSOHATENA,STRSOHSHITENMEI,STRSOHTEL,STRSOHTANTOMEI,STRDATHASOUYMD,
    STRPRMUKETUKENO,STRGAIBUKAIINNO,STRBLACKNO,STRSOHTOUZAIKBN,STRSOHSOUFUSAKIKBN,
    STRSOHGINKOUCD,STRSOHSHITENCD,STRKOZGINKOUCD,STRKOZSHITENCD,STRKOZGINKOUNM,
    STRKOZSHITENNM,STRKOZSHUMOKU,STRKOZYUCHOSAIHATU,STRKOZNO,STRKOZMEIGI,
    STRJFHHURIKAEKEKACD,NUMJFHSEIKYUYM)
AS
select
QBA1_HONKJNAME		strNAME,
QBK2_SOHATENA		strSOHATENA,
''			strSOHSHITENMEI,
rtrim(QBK2_SOHTELSHIGAI) || '-' || rtrim(QBK2_SOHTELKYOKU) || '-' || rtrim(QBK2_SOHTELNO) strSOHTEL,
QBK2_SOHTANTOMEI	strSOHTANTOMEI,
to_char(QBK1_DATHASOUYMD,'YYYY/MM/DD')	strDATHASOUYMD,
QBK1_PRMUKETUKENO	strPRMUKETUKENO,
QBK1_GAIBUKAIINNO	strGAIBUKAIINNO,
QBK1_BLACKNO		strBLACKNO,
QBK1_SOHTOUZAIKBN	strSOHTOUZAIKBN,
QBK1_SOHSOUFUSAKIKBN	strSOHSOUFUSAKIKBN,
QBK1_SOHGINKOUCD	strSOHGINKOUCD,
QBK1_SOHSHITENCD	strSOHSHITENCD,
QBK1_KOZGINKOUCD	strKOZGINKOUCD,
QBK1_KOZSHITENCD	strKOZSHITENCD,
QTA7_KINYUKIKANNMKJ	strKOZGINKOUNM,
QTA7_SITENNMKJ		strKOZSHITENNM,
QBK1_KOZSHUMOKU		strKOZSHUMOKU,
QBK1_KOZYUCHOSAIHATU	strKOZYUCHOSAIHATU,
QBK1_KOZNO		strKOZNO,
QBK1_KOZMEIGI		strKOZMEIGI,
QBK1_JFHHURIKAEKEKACD	strJFHHURIKAEKEKACD,
QBK1_JFHSEIKYUYM	numJFHSEIKYUYM
FROM QBK1_KFURIT,QBK2_TGINKOM,QTA7_GINKOUM,QBA1_MOSHIKOMIT
WHERE QBK1_PRMUKETUKENO = QBA1_UKETSUKENO (+)
AND QBK1_PRMNAIBUKAIINNO = '00000000'
AND QBK1_SOHTOUZAIKBN = QBK2_PRMTOUZAIKBN (+)
AND QBK1_SOHSOUFUSAKIKBN = QBK2_PRMSOUFUSAKIKBN (+)
AND QBK1_SOHGINKOUCD = QBK2_PRMGINKOUCD (+)
AND QBK1_SOHSHITENCD = '00000'
AND QBK1_KOZGINKOUCD = QTA7_PRMKIKANCD
AND substr(QBK1_KOZSHITENCD,3,3) = QTA7_PRMSHITENCD
AND QTA7_PRMHUKACD = '1'
AND QBK1_KOZGINKOUCD != '0000'
AND QBK1_KOZGINKOUCD != '9900'
AND QBK1_SOHKAKUNINKBN = '0'
AND QBK1_HEKHENKYAKUKBN = '0'
AND QBK1_DATHASOUYMD is not NULL
AND QBK1_DATHENKYAKUYMD is NULL
-- 2004/04/19ＪＣＢ委託した口振依頼は、未埒空きリストの対象外 IMZ.YAMADA -->
AND QBK1_KOUHASOTANTOCD <> 'JCBITAKU'
-- 2004/04/19ＪＣＢ委託した口振依頼は、未埒空きリストの対象外 IMZ.YAMADA <--
union
select
QBA1_HONKJNAME		strNAME,
QBK2_SOHATENA		strSOHATENA,
''			strSOHSHITENMEI,
rtrim(QBK2_SOHTELSHIGAI) || '-' || rtrim(QBK2_SOHTELKYOKU) || '-' || rtrim(QBK2_SOHTELNO) strSOHTEL,
QBK2_SOHTANTOMEI	strSOHTANTOMEI,
to_char(QBK1_DATHASOUYMD,'YYYY/MM/DD')	strDATHASOUYMD,
QBK1_PRMUKETUKENO	strPRMUKETUKENO,
QBK1_GAIBUKAIINNO	strGAIBUKAIINNO,
QBK1_BLACKNO		strBLACKNO,
QBK1_SOHTOUZAIKBN	strSOHTOUZAIKBN,
QBK1_SOHSOUFUSAKIKBN	strSOHSOUFUSAKIKBN,
QBK1_SOHGINKOUCD	strSOHGINKOUCD,
QBK1_SOHSHITENCD	strSOHSHITENCD,
QBK1_KOZGINKOUCD	strKOZGINKOUCD,
QBK1_KOZSHITENCD	strKOZSHITENCD,
''			strKOZGINKOUNM,
''			strKOZSHITENNM,
QBK1_KOZSHUMOKU		strKOZSHUMOKU,
QBK1_KOZYUCHOSAIHATU	strKOZYUCHOSAIHATU,
QBK1_KOZNO		strKOZNO,
QBK1_KOZMEIGI		strKOZMEIGI,
QBK1_JFHHURIKAEKEKACD	strJFHHURIKAEKEKACD,
QBK1_JFHSEIKYUYM	numJFHSEIKYUYM
FROM QBK1_KFURIT,QBK2_TGINKOM,QBA1_MOSHIKOMIT
WHERE QBK1_PRMUKETUKENO = QBA1_UKETSUKENO (+)
AND QBK1_PRMNAIBUKAIINNO = '00000000'
AND QBK1_SOHTOUZAIKBN = QBK2_PRMTOUZAIKBN (+)
AND QBK1_SOHSOUFUSAKIKBN = QBK2_PRMSOUFUSAKIKBN (+)
AND QBK1_SOHGINKOUCD = QBK2_PRMGINKOUCD (+)
AND QBK1_SOHSHITENCD = '00000'
AND (QBK1_KOZGINKOUCD = '0000' OR QBK1_KOZGINKOUCD = '9900')
AND QBK1_SOHKAKUNINKBN = '0'
AND QBK1_HEKHENKYAKUKBN = '0'
AND QBK1_DATHASOUYMD is not NULL
AND QBK1_DATHENKYAKUYMD is NULL
-- 2004/04/19ＪＣＢ委託した口振依頼は、未埒空きリストの対象外 IMZ.YAMADA -->
AND QBK1_KOUHASOTANTOCD <> 'JCBITAKU'
-- 2004/04/19ＪＣＢ委託した口振依頼は、未埒空きリストの対象外 IMZ.YAMADA <--
union
select
QBA1_HONKJNAME		strNAME,
S.QTA7_KINYUKIKANNMKJ	strSOHATENA,
S.QTA7_SITENNMKJ	strSOHSHITENMEI,
S.QTA7_TEL		strSOHTEL,
''			strSOHTANTOMEI,
to_char(QBK1_DATHASOUYMD,'YYYY/MM/DD')	strDATHASOUYMD,
QBK1_PRMUKETUKENO	strPRMUKETUKENO,
QBK1_GAIBUKAIINNO	strGAIBUKAIINNO,
QBK1_BLACKNO		strBLACKNO,
QBK1_SOHTOUZAIKBN	strSOHTOUZAIKBN,
QBK1_SOHSOUFUSAKIKBN	strSOHSOUFUSAKIKBN,
QBK1_SOHGINKOUCD	strSOHGINKOUCD,
QBK1_SOHSHITENCD	strSOHSHITENCD,
QBK1_KOZGINKOUCD	strKOZGINKOUCD,
QBK1_KOZSHITENCD	strKOZSHITENCD,
K.QTA7_KINYUKIKANNMKJ	strKOZGINKOUNM,
K.QTA7_SITENNMKJ	strKOZSHITENNM,
QBK1_KOZSHUMOKU		strKOZSHUMOKU,
QBK1_KOZYUCHOSAIHATU	strKOZYUCHOSAIHATU,
QBK1_KOZNO		strKOZNO,
QBK1_KOZMEIGI		strKOZMEIGI,
QBK1_JFHHURIKAEKEKACD	strJFHHURIKAEKEKACD,
QBK1_JFHSEIKYUYM	numJFHSEIKYUYM
FROM QBK1_KFURIT,QTA7_GINKOUM S,QTA7_GINKOUM K,QBA1_MOSHIKOMIT
WHERE QBK1_PRMUKETUKENO = QBA1_UKETSUKENO (+)
AND QBK1_PRMNAIBUKAIINNO = '00000000'
AND QBK1_SOHGINKOUCD = S.QTA7_PRMKIKANCD
AND substr(QBK1_SOHSHITENCD,3,3) = S.QTA7_PRMSHITENCD
AND S.QTA7_PRMHUKACD = '1'
AND QBK1_SOHSHITENCD != '00000'
AND QBK1_KOZGINKOUCD = K.QTA7_PRMKIKANCD
AND substr(QBK1_KOZSHITENCD,3,3) = K.QTA7_PRMSHITENCD
AND K.QTA7_PRMHUKACD = '1'
AND QBK1_KOZGINKOUCD != '0000'
AND QBK1_KOZGINKOUCD != '9900'
AND QBK1_SOHKAKUNINKBN = '0'
AND QBK1_HEKHENKYAKUKBN = '0'
AND QBK1_DATHASOUYMD is not NULL
AND QBK1_DATHENKYAKUYMD is NULL
-- 2004/04/19ＪＣＢ委託した口振依頼は、未埒空きリストの対象外 IMZ.YAMADA -->
AND QBK1_KOUHASOTANTOCD <> 'JCBITAKU'
-- 2004/04/19ＪＣＢ委託した口振依頼は、未埒空きリストの対象外 IMZ.YAMADA <--
union
select
QBA1_HONKJNAME		strNAME,
S.QTA7_KINYUKIKANNMKJ	strSOHATENA,
S.QTA7_SITENNMKJ	strSOHSHITENMEI,
S.QTA7_TEL		strSOHTEL,
''			strSOHTANTOMEI,
to_char(QBK1_DATHASOUYMD,'YYYY/MM/DD')	strDATHASOUYMD,
QBK1_PRMUKETUKENO	strPRMUKETUKENO,
QBK1_GAIBUKAIINNO	strGAIBUKAIINNO,
QBK1_BLACKNO		strBLACKNO,
QBK1_SOHTOUZAIKBN	strSOHTOUZAIKBN,
QBK1_SOHSOUFUSAKIKBN	strSOHSOUFUSAKIKBN,
QBK1_SOHGINKOUCD	strSOHGINKOUCD,
QBK1_SOHSHITENCD	strSOHSHITENCD,
QBK1_KOZGINKOUCD	strKOZGINKOUCD,
QBK1_KOZSHITENCD	strKOZSHITENCD,
''			strKOZGINKOUNM,
''			strKOZSHITENNM,
QBK1_KOZSHUMOKU		strKOZSHUMOKU,
QBK1_KOZYUCHOSAIHATU	strKOZYUCHOSAIHATU,
QBK1_KOZNO		strKOZNO,
QBK1_KOZMEIGI		strKOZMEIGI,
QBK1_JFHHURIKAEKEKACD	strJFHHURIKAEKEKACD,
QBK1_JFHSEIKYUYM	numJFHSEIKYUYM
FROM QBK1_KFURIT,QTA7_GINKOUM S,QBA1_MOSHIKOMIT
WHERE QBK1_PRMUKETUKENO = QBA1_UKETSUKENO (+)
AND QBK1_PRMNAIBUKAIINNO = '00000000'
AND QBK1_SOHGINKOUCD = S.QTA7_PRMKIKANCD
AND substr(QBK1_SOHSHITENCD,3,3) = S.QTA7_PRMSHITENCD
AND S.QTA7_PRMHUKACD = '1'
AND QBK1_SOHSHITENCD != '00000'
AND (QBK1_KOZGINKOUCD = '0000' OR QBK1_KOZGINKOUCD = '9900')
AND QBK1_SOHKAKUNINKBN = '0'
AND QBK1_HEKHENKYAKUKBN = '0'
AND QBK1_DATHASOUYMD is not NULL
AND QBK1_DATHENKYAKUYMD is NULL
-- 2004/04/19ＪＣＢ委託した口振依頼は、未埒空きリストの対象外 IMZ.YAMADA -->
AND QBK1_KOUHASOTANTOCD <> 'JCBITAKU'
-- 2004/04/19ＪＣＢ委託した口振依頼は、未埒空きリストの対象外 IMZ.YAMADA <--
union
select
QTA1_HONSHIMEIKAN	strNAME,
QBK2_SOHATENA		strSOHATENA,
''			strSOHSHITENMEI,
rtrim(QBK2_SOHTELSHIGAI) || '-' || rtrim(QBK2_SOHTELKYOKU) || '-' || rtrim(QBK2_SOHTELNO) strSOHTEL,
QBK2_SOHTANTOMEI	strSOHTANTOMEI,
to_char(QBK1_DATHASOUYMD,'YYYY/MM/DD')	strDATHASOUYMD,
QBK1_PRMUKETUKENO	strPRMUKETUKENO,
QBK1_GAIBUKAIINNO	strGAIBUKAIINNO,
QBK1_BLACKNO		strBLACKNO,
QBK1_SOHTOUZAIKBN	strSOHTOUZAIKBN,
QBK1_SOHSOUFUSAKIKBN	strSOHSOUFUSAKIKBN,
QBK1_SOHGINKOUCD	strSOHGINKOUCD,
QBK1_SOHSHITENCD	strSOHSHITENCD,
QBK1_KOZGINKOUCD	strKOZGINKOUCD,
QBK1_KOZSHITENCD	strKOZSHITENCD,
QTA7_KINYUKIKANNMKJ	strKOZGINKOUNM,
QTA7_SITENNMKJ		strKOZSHITENNM,
QBK1_KOZSHUMOKU		strKOZSHUMOKU,
QBK1_KOZYUCHOSAIHATU	strKOZYUCHOSAIHATU,
QBK1_KOZNO		strKOZNO,
QBK1_KOZMEIGI		strKOZMEIGI,
QBK1_JFHHURIKAEKEKACD	strJFHHURIKAEKEKACD,
QBK1_JFHSEIKYUYM	numJFHSEIKYUYM
FROM QBK1_KFURIT,QBK2_TGINKOM,QTA7_GINKOUM,QTA1_KAIINM
WHERE QBK1_KIGYOUCD = QTA1_PRMKIGYOUCD
AND QBK1_SUBRANGEKEY = QTA1_PRMSUBRANGEKEY
AND QBK1_PRMNAIBUKAIINNO = QTA1_PRMNAIBUKAIINNO
AND QBK1_PRMNAIBUKAIINNO != '00000000'
AND QBK1_SOHTOUZAIKBN = QBK2_PRMTOUZAIKBN (+)
AND QBK1_SOHSOUFUSAKIKBN = QBK2_PRMSOUFUSAKIKBN (+)
AND QBK1_SOHGINKOUCD = QBK2_PRMGINKOUCD (+)
AND QBK1_SOHSHITENCD = '00000'
AND QBK1_KOZGINKOUCD = QTA7_PRMKIKANCD
AND substr(QBK1_KOZSHITENCD,3,3) = QTA7_PRMSHITENCD
AND QTA7_PRMHUKACD = '1'
AND QBK1_KOZGINKOUCD != '0000'
AND QBK1_KOZGINKOUCD != '9900'
AND QBK1_SOHKAKUNINKBN = '0'
AND QBK1_HEKHENKYAKUKBN = '0'
AND QBK1_DATHASOUYMD is not NULL
AND QBK1_DATHENKYAKUYMD is NULL
-- 2004/04/19ＪＣＢ委託した口振依頼は、未埒空きリストの対象外 IMZ.YAMADA -->
AND QBK1_KOUHASOTANTOCD <> 'JCBITAKU'
-- 2004/04/19ＪＣＢ委託した口振依頼は、未埒空きリストの対象外 IMZ.YAMADA <--
union
select
QTA1_HONSHIMEIKAN	strNAME,
QBK2_SOHATENA		strSOHATENA,
''			strSOHSHITENMEI,
rtrim(QBK2_SOHTELSHIGAI) || '-' || rtrim(QBK2_SOHTELKYOKU) || '-' || rtrim(QBK2_SOHTELNO) strSOHTEL,
QBK2_SOHTANTOMEI	strSOHTANTOMEI,
to_char(QBK1_DATHASOUYMD,'YYYY/MM/DD')	strDATHASOUYMD,
QBK1_PRMUKETUKENO	strPRMUKETUKENO,
QBK1_GAIBUKAIINNO	strGAIBUKAIINNO,
QBK1_BLACKNO		strBLACKNO,
QBK1_SOHTOUZAIKBN	strSOHTOUZAIKBN,
QBK1_SOHSOUFUSAKIKBN	strSOHSOUFUSAKIKBN,
QBK1_SOHGINKOUCD	strSOHGINKOUCD,
QBK1_SOHSHITENCD	strSOHSHITENCD,
QBK1_KOZGINKOUCD	strKOZGINKOUCD,
QBK1_KOZSHITENCD	strKOZSHITENCD,
''			strKOZGINKOUNM,
''			strKOZSHITENNM,
QBK1_KOZSHUMOKU		strKOZSHUMOKU,
QBK1_KOZYUCHOSAIHATU	strKOZYUCHOSAIHATU,
QBK1_KOZNO		strKOZNO,
QBK1_KOZMEIGI		strKOZMEIGI,
QBK1_JFHHURIKAEKEKACD	strJFHHURIKAEKEKACD,
QBK1_JFHSEIKYUYM	numJFHSEIKYUYM
FROM QBK1_KFURIT,QBK2_TGINKOM,QTA1_KAIINM
WHERE QBK1_KIGYOUCD = QTA1_PRMKIGYOUCD
AND QBK1_SUBRANGEKEY = QTA1_PRMSUBRANGEKEY
AND QBK1_PRMNAIBUKAIINNO = QTA1_PRMNAIBUKAIINNO
AND QBK1_PRMNAIBUKAIINNO != '00000000'
AND QBK1_SOHTOUZAIKBN = QBK2_PRMTOUZAIKBN (+)
AND QBK1_SOHSOUFUSAKIKBN = QBK2_PRMSOUFUSAKIKBN (+)
AND QBK1_SOHGINKOUCD = QBK2_PRMGINKOUCD (+)
AND QBK1_SOHSHITENCD = '00000'
AND (QBK1_KOZGINKOUCD = '0000' OR QBK1_KOZGINKOUCD = '9900')
AND QBK1_SOHKAKUNINKBN = '0'
AND QBK1_HEKHENKYAKUKBN = '0'
AND QBK1_DATHASOUYMD is not NULL
AND QBK1_DATHENKYAKUYMD is NULL
-- 2004/04/19ＪＣＢ委託した口振依頼は、未埒空きリストの対象外 IMZ.YAMADA -->
AND QBK1_KOUHASOTANTOCD <> 'JCBITAKU'
-- 2004/04/19ＪＣＢ委託した口振依頼は、未埒空きリストの対象外 IMZ.YAMADA <--
union
select
QTA1_HONSHIMEIKAN	strNAME,
S.QTA7_KINYUKIKANNMKJ	strSOHATENA,
S.QTA7_SITENNMKJ	strSOHSHITENMEI,
S.QTA7_TEL		strSOHTEL,
''			strSOHTANTOMEI,
to_char(QBK1_DATHASOUYMD,'YYYY/MM/DD')	strDATHASOUYMD,
QBK1_PRMUKETUKENO	strPRMUKETUKENO,
QBK1_GAIBUKAIINNO	strGAIBUKAIINNO,
QBK1_BLACKNO		strBLACKNO,
QBK1_SOHTOUZAIKBN	strSOHTOUZAIKBN,
QBK1_SOHSOUFUSAKIKBN	strSOHSOUFUSAKIKBN,
QBK1_SOHGINKOUCD	strSOHGINKOUCD,
QBK1_SOHSHITENCD	strSOHSHITENCD,
QBK1_KOZGINKOUCD	strKOZGINKOUCD,
QBK1_KOZSHITENCD	strKOZSHITENCD,
K.QTA7_KINYUKIKANNMKJ	strKOZGINKOUNM,
K.QTA7_SITENNMKJ	strKOZSHITENNM,
QBK1_KOZSHUMOKU		strKOZSHUMOKU,
QBK1_KOZYUCHOSAIHATU	strKOZYUCHOSAIHATU,
QBK1_KOZNO		strKOZNO,
QBK1_KOZMEIGI		strKOZMEIGI,
QBK1_JFHHURIKAEKEKACD	strJFHHURIKAEKEKACD,
QBK1_JFHSEIKYUYM	numJFHSEIKYUYM
FROM QBK1_KFURIT,QTA7_GINKOUM S,QTA7_GINKOUM K,QTA1_KAIINM
WHERE QBK1_KIGYOUCD = QTA1_PRMKIGYOUCD
AND QBK1_SUBRANGEKEY = QTA1_PRMSUBRANGEKEY
AND QBK1_PRMNAIBUKAIINNO = QTA1_PRMNAIBUKAIINNO
AND QBK1_PRMNAIBUKAIINNO != '00000000'
AND QBK1_SOHGINKOUCD = S.QTA7_PRMKIKANCD
AND substr(QBK1_SOHSHITENCD,3,3) = S.QTA7_PRMSHITENCD
AND S.QTA7_PRMHUKACD = '1'
AND QBK1_SOHSHITENCD != '00000'
AND QBK1_KOZGINKOUCD = K.QTA7_PRMKIKANCD
AND substr(QBK1_KOZSHITENCD,3,3) = K.QTA7_PRMSHITENCD
AND K.QTA7_PRMHUKACD = '1'
AND QBK1_KOZGINKOUCD != '0000'
AND QBK1_KOZGINKOUCD != '9900'
AND QBK1_SOHKAKUNINKBN = '0'
AND QBK1_HEKHENKYAKUKBN = '0'
AND QBK1_DATHASOUYMD is not NULL
AND QBK1_DATHENKYAKUYMD is NULL
-- 2004/04/19ＪＣＢ委託した口振依頼は、未埒空きリストの対象外 IMZ.YAMADA -->
AND QBK1_KOUHASOTANTOCD <> 'JCBITAKU'
-- 2004/04/19ＪＣＢ委託した口振依頼は、未埒空きリストの対象外 IMZ.YAMADA <--
union
select
QTA1_HONSHIMEIKAN	strNAME,
S.QTA7_KINYUKIKANNMKJ	strSOHATENA,
S.QTA7_SITENNMKJ	strSOHSHITENMEI,
S.QTA7_TEL		strSOHTEL,
''			strSOHTANTOMEI,
to_char(QBK1_DATHASOUYMD,'YYYY/MM/DD')	strDATHASOUYMD,
QBK1_PRMUKETUKENO	strPRMUKETUKENO,
QBK1_GAIBUKAIINNO	strGAIBUKAIINNO,
QBK1_BLACKNO		strBLACKNO,
QBK1_SOHTOUZAIKBN	strSOHTOUZAIKBN,
QBK1_SOHSOUFUSAKIKBN	strSOHSOUFUSAKIKBN,
QBK1_SOHGINKOUCD	strSOHGINKOUCD,
QBK1_SOHSHITENCD	strSOHSHITENCD,
QBK1_KOZGINKOUCD	strKOZGINKOUCD,
QBK1_KOZSHITENCD	strKOZSHITENCD,
''			strKOZGINKOUNM,
''			strKOZSHITENNM,
QBK1_KOZSHUMOKU		strKOZSHUMOKU,
QBK1_KOZYUCHOSAIHATU	strKOZYUCHOSAIHATU,
QBK1_KOZNO		strKOZNO,
QBK1_KOZMEIGI		strKOZMEIGI,
QBK1_JFHHURIKAEKEKACD	strJFHHURIKAEKEKACD,
QBK1_JFHSEIKYUYM	numJFHSEIKYUYM
FROM QBK1_KFURIT,QTA7_GINKOUM S,QTA1_KAIINM
WHERE QBK1_KIGYOUCD = QTA1_PRMKIGYOUCD
AND QBK1_SUBRANGEKEY = QTA1_PRMSUBRANGEKEY
AND QBK1_PRMNAIBUKAIINNO = QTA1_PRMNAIBUKAIINNO
AND QBK1_PRMNAIBUKAIINNO != '00000000'
AND QBK1_SOHGINKOUCD = S.QTA7_PRMKIKANCD
AND substr(QBK1_SOHSHITENCD,3,3) = S.QTA7_PRMSHITENCD
AND S.QTA7_PRMHUKACD = '1'
AND QBK1_SOHSHITENCD != '00000'
AND (QBK1_KOZGINKOUCD = '0000' OR QBK1_KOZGINKOUCD = '9900')
AND QBK1_SOHKAKUNINKBN = '0'
AND QBK1_HEKHENKYAKUKBN = '0'
AND QBK1_DATHASOUYMD is not NULL
AND QBK1_DATHENKYAKUYMD is NULL
-- 2004/04/19ＪＣＢ委託した口振依頼は、未埒空きリストの対象外 IMZ.YAMADA -->
AND QBK1_KOUHASOTANTOCD <> 'JCBITAKU'
-- 2004/04/19ＪＣＢ委託した口振依頼は、未埒空きリストの対象外 IMZ.YAMADA <--

/
CREATE OR REPLACE VIEW TCCUSER.QBKK_JFHKEKKAV
    (TOUZAIKBN,GAIBUKAIINNO,UKETUKENO,NAIBUKAIINNO,KNJ_NAME,GINKOUCD,KNJ_GINKO_NAME,
    SHITENCD,KNJ_SHITEN_NAME,SHUMOKU,YUCHOSAIHATU,KOZNO,KOZMEIGI,HEKHENKYAKUKBN,
    HURIKAEKEKACD,SEIKYUYM,HASOUYMD,HENKYAKUYMD,KAKUNINKBN,BLACKNO)
AS
select QBK1_SOHTOUZAIKBN      TOUZAIKBN,
       QBK1_GAIBUKAIINNO      GAIBUKAIINNO,
       QBK1_PRMUKETUKENO      UKETUKENO,
       QBK1_PRMNAIBUKAIINNO   NAIBUKAIINNO,
       QTA1_HONSHIMEIKAN      KNJ_NAME,
       QBK1_KOZGINKOUCD       GINKOUCD,
       QTA7_KINYUKIKANNMKJ    KNJ_GINKO_NAME,
       QBK1_KOZSHITENCD       SHITENCD,
       QTA7_SITENNMKJ         KNJ_SHITEN_NAME,
       QBK1_KOZSHUMOKU        SHUMOKU,
       QBK1_KOZYUCHOSAIHATU   YUCHOSAIHATU,
       QBK1_KOZNO             KOZNO,
       QBK1_KOZMEIGI          KOZMEIGI,
       QBK1_HEKHENKYAKUKBN    HEKHENKYAKUKBN,
       QBK1_JFHHURIKAEKEKACD  HURIKAEKEKACD,
       QBK1_JFHSEIKYUYM       SEIKYUYM,
       QBK1_DATHASOUYMD       HASOUYMD,
       QBK1_DATHENKYAKUYMD    HENKYAKUYMD,
       QBK1_SOHKAKUNINKBN     KAKUNINKBN,
       QBK1_BLACKNO           BLACKNO
  from QBK1_KFURIT, QTA1_KAIINM, QTA7_GINKOUM
 where QBK1_KIGYOUCD          = QTA1_PRMKIGYOUCD
   and QBK1_SUBRANGEKEY       = QTA1_PRMSUBRANGEKEY
   and QBK1_PRMNAIBUKAIINNO   = QTA1_PRMNAIBUKAIINNO
   and QBK1_KOZGINKOUCD       = QTA7_PRMKIKANCD
   and QBK1_KOZSHITENCD       = '00' || QTA7_PRMSHITENCD
   and QBK1_KOZGINKOUCD      != '9900'
   and QBK1_GAIBUKAIINNO     != '0000000000000000'
   and QBK1_JFHHURIKAEKEKACD != '0'
   and QBK1_JFHHURIKAEKEKACD != '1'
   and QBK1_DATJFHENREIYMD is not NULL
union
select QBK1_SOHTOUZAIKBN      TOUZAIKBN,
       QBK1_GAIBUKAIINNO      GAIBUKAIINNO,
       QBK1_PRMUKETUKENO      UKETUKENO,
       QBK1_PRMNAIBUKAIINNO   NAIBUKAIINNO,
       QTA1_HONSHIMEIKAN      KNJ_NAME,
       QBK1_KOZGINKOUCD       GINKOUCD,
       '郵便局'               KNJ_GINKO_NAME,
       QBK1_KOZSHITENCD       SHITENCD,
       NULL                   KNJ_SHITEN_NAME,
       QBK1_KOZSHUMOKU        SHUMOKU,
       QBK1_KOZYUCHOSAIHATU   YUCHOSAIHATU,
       QBK1_KOZNO             KOZNO,
       QBK1_KOZMEIGI          KOZMEIGI,
       QBK1_HEKHENKYAKUKBN    HEKHENKYAKUKBN,
       QBK1_JFHHURIKAEKEKACD  HURIKAEKEKACD,
       QBK1_JFHSEIKYUYM       SEIKYUYM,
       QBK1_DATHASOUYMD       HASOUYMD,
       QBK1_DATHENKYAKUYMD    HENKYAKUYMD,
       QBK1_SOHKAKUNINKBN     KAKUNINKBN,
       QBK1_BLACKNO           BLACKNO
  from QBK1_KFURIT, QTA1_KAIINM
 where QBK1_KIGYOUCD          = QTA1_PRMKIGYOUCD
   and QBK1_SUBRANGEKEY       = QTA1_PRMSUBRANGEKEY
   and QBK1_PRMNAIBUKAIINNO   = QTA1_PRMNAIBUKAIINNO
   and QBK1_KOZGINKOUCD       = '9900'
   and QBK1_GAIBUKAIINNO     != '0000000000000000'
   and QBK1_JFHHURIKAEKEKACD != '0'
   and QBK1_JFHHURIKAEKEKACD != '1'
   and QBK1_DATJFHENREIYMD is not NULL
/
CREATE OR REPLACE VIEW TCCUSER.QBKV_SYOUKAIV2
    (QBKB_PRMUKETSUKENO,QBKB_PRMHASOUINYMD,QBKB_PRMNAIBUKAIINNO,QBKB_KIGYOUCD,
    QBKB_SUBRANGEKEY,QBKB_GAIBUKAIINNO,QBKB_BLACKNO,QBKB_CARDKBN,QBKB_GYOUMUKBN,
    QBKB_DATHASOUYMD,QBKB_DATHENKYAKUYMD,QBKB_DATJFHENREIYMD,QBKB_HEKHENKYAKUKBN,
    QBKB_JFHSEIKYUYM,QBKB_JFHHURIKAEKEKACD,QBKB_HONSHIMEIKAN,QBKB_HONSHIMEIKANA,
    QBKB_TELSHIGAI,QBKB_TELKYOKU,QBKB_TELNO,QBKB_HONKJNAME,QBKB_HONKNNAME,
    QBKB_TEL1,QBKB_TEL2,QBKB_TEL3,QBKB_HEKRIYUCD1,QBKB_HEKRIYUCD2,QBKB_HEKRIYUCD3,
    QBKB_HEKRIYUCD4,QBKB_HEKRIYUCD5,QBKB_HEKRIYUCD6,QBKB_RIYUMEI1,QBKB_RIYUMEI2,
    QBKB_RIYUMEI3,QBKB_RIYUMEI4,QBKB_RIYUMEI5,QBKB_RIYUMEI6,QBKB_SOHKAKUNINKBN,
    QBKB_SOHTOUZAIKBN,QBKB_SOHSOUFUSAKIKBN,QBKB_SOHGINKOUCD,QBKB_SOHSHITENCD,
    QBKB_KOZYUCHOSAIHATU,QBKB_KOZSHUMOKU,QBKB_KOZNO,QBKB_KOZMEIGI,QBKB_KOZGINKOUCD,
    QBKB_KOZSHITENCD)
AS
SELECT QBK1_PRMUketukeNo 	QBKB_PRMUketsukeNo,
       QBK1_PRMHasouInYmd 	QBKB_PRMHasouInYmd,
       QBK1_PRMNaibuKaiinNo 	QBKB_PRMNaibuKaiinNo,
       QBK1_KigyouCd 		QBKB_KigyouCd,
       QBK1_SubRangeKey 	QBKB_SubRangeKey,
       REPLACE(QSAP_EdKaiinNoPkg.QSAP_EdKaiinNoFnc(2, QBK1_GaibuKaiinNo), '00-00-0000-0-0', ' ') QBKB_GaibuKaiinNo,
       QBK1_BlackNo 		QBKB_BlackNo,
       QBK1_CardKbn 		QBKB_CardKbn,
       QBK1_GyoumuKbn 		QBKB_GyoumuKbn,
       QBK1_DATHasouYmd 	QBKB_DATHasouYmd,
       QBK1_DATHenkyakuYmd 	QBKB_DATHenkyakuYmd,
       QBK1_DATJFHenreiYmd 	QBKB_DATJFHenreiYmd,
       QBK1_HEKHenkyakuKbn 	QBKB_HEKHenkyakuKbn,
       QBK1_JFHSeikyuYm 	QBKB_JFHSeikyuYm,
       QBK1_JFHHurikaeKekaCd 	QBKB_JFHHurikaeKekaCd,
       QTA1_HONShimeiKan 	QBKB_HONShimeiKan,
       QTA1_HONShimeiKana 	QBKB_HONShimeiKana,       /* 1999.06.07 追加 */
       QTA1_JTKTelShigai 	QBKB_TelShigai,
       QTA1_JTKTelKyoku 	QBKB_TelKyoku,
       QTA1_JTKTelNo 		QBKB_TelNo,
       QBA1_HONKJName 		QBKB_HONKJName,
       QBA1_HONKNName 		QBKB_HONKNName,           /* 1999.06.07 追加 */
       QBA1_HONTel1 		QBKB_Tel1,
       QBA1_HONTel2 		QBKB_Tel2,
       QBA1_HONTel3 		QBKB_Tel3,
       QBK1_HEKRiyuCd1 		QBKB_HEKRiyuCd1,
       QBK1_HEKRiyuCd2 		QBKB_HEKRiyuCd2,
       QBK1_HEKRiyuCd3 		QBKB_HEKRiyuCd3,
       QBK1_HEKRiyuCd4 		QBKB_HEKRiyuCd4,
       QBK1_HEKRiyuCd5 		QBKB_HEKRiyuCd5,
       QBK1_HEKRiyuCd6 		QBKB_HEKRiyuCd6,
       QBK4_A.QBK4_RyakuMei 	QBKB_RiyuMei1,
       QBK4_B.QBK4_RyakuMei 	QBKB_RiyuMei2,
       QBK4_C.QBK4_RyakuMei 	QBKB_RiyuMei3,
       QBK4_D.QBK4_RyakuMei 	QBKB_RiyuMei4,
       QBK4_E.QBK4_RyakuMei 	QBKB_RiyuMei5,
       QBK4_F.QBK4_RyakuMei 	QBKB_RiyuMei6,
       max(QBK1_SOHKakuninKbn)	QBKB_SOHKakuninKbn,
       max(QBK1_SOHTouzaiKbn)	QBKB_SOHTouzaiKbn,
       max(QBK1_SOHSoufusakiKbn)	QBKB_SOHSoufusakiKbn,
       max(QBK1_SOHGinkouCd) 	QBKB_SOHGinkouCd,
       max(QBK1_SOHShitenCd)	QBKB_SOHShitenCd,
       QBK1_KOZYuchosaihatu 	QBKB_KOZYuchosaihatu,
       QBK1_KOZShumoku 		QBKB_KOZShumoku,
       QBK1_KOZNo 		QBKB_KOZNo,
       QBK1_KOZMeigi 		QBKB_KOZMeigi,
       max(QBK1_KOZGinkouCd)	QBKB_KOZGinkouCd,
       max(QBK1_KOZShitenCd) 	QBKB_KOZShitenCd
FROM
       QBK1_KFURIT,
       QBA1_MOSHIKOMIT,
       QTA1_KAIINM,
       QBK4_KFubiRiyuM QBK4_A,
       QBK4_KFubiRiyuM QBK4_B,
       QBK4_KFubiRiyuM QBK4_C,
       QBK4_KFubiRiyuM QBK4_D,
       QBK4_KFubiRiyuM QBK4_E,
       QBK4_KFubiRiyuM QBK4_F
WHERE
       QBK1_PRMUketukeNo = QBA1_UketsukeNo(+)
AND    QBK1_KigyouCd = QTA1_PRMKigyouCd(+)
AND    QBK1_SubRangeKey = QTA1_PRMSubRangeKey(+)
AND    QBK1_PRMNaibuKaiinNo = QTA1_PRMNaibuKaiinNo(+)
AND    QBK1_HEKRiyuCd1 = QBK4_A.QBK4_PRMRiyuCd
AND    QBK1_HEKRiyuCd2 = QBK4_B.QBK4_PRMRiyuCd
AND    QBK1_HEKRiyuCd3 = QBK4_C.QBK4_PRMRiyuCd
AND    QBK1_HEKRiyuCd4 = QBK4_D.QBK4_PRMRiyuCd
AND    QBK1_HEKRiyuCd5 = QBK4_E.QBK4_PRMRiyuCd
AND    QBK1_HEKRiyuCd6 = QBK4_F.QBK4_PRMRiyuCd
GROUP BY
	 QBK1_PRMHasouInYmd,	QBK1_PRMNaibuKaiinNo,
         QBK1_PRMUketukeNo,	QBK1_KigyouCd,
         QBK1_SubRangeKey,	QBK1_GaibuKaiinNo,
         QBK1_BlackNo,		QBK1_CardKbn,
         QBK1_GyoumuKbn,	QBK1_DATHasouYmd,
         QBK1_DATHenkyakuYmd,	QBK1_DATJFHenreiYmd,
         QBK1_HEKHenkyakuKbn,	QBK1_JFHSeikyuYm,
         QBK1_JFHHurikaeKekaCd, QTA1_HONShimeiKan,
         QTA1_HONShimeiKana,        /* 1999.06.07 追加 */
         QTA1_JTKTelShigai,	QTA1_JTKTelKyoku,
         QTA1_JTKTelNo,		QBA1_HONKJName,
         QBA1_HONKNName,            /* 1999.06.07 追加 */
         QBA1_HONTel1,		QBA1_HONTel2,
         QBA1_HONTel3,		QBK1_HEKRiyuCd1,
         QBK1_HEKRiyuCd2,	QBK1_HEKRiyuCd3,
         QBK1_HEKRiyuCd4,	QBK1_HEKRiyuCd5,
         QBK1_HEKRiyuCd6,	QBK4_A.QBK4_RyakuMei,
         QBK4_B.QBK4_RyakuMei,	QBK4_C.QBK4_RyakuMei,
         QBK4_D.QBK4_RyakuMei,	QBK4_E.QBK4_RyakuMei,
         QBK4_F.QBK4_RyakuMei,
         QBK1_KOZYuchosaihatu,	QBK1_KOZShumoku,
         QBK1_KOZNo,		QBK1_KOZMeigi
/
CREATE OR REPLACE VIEW TCCUSER.QBM1_MEMOV
    (QBM1_UKETSUKENO,QBM1_MAKEDATE,QBM1_MEMOCD,QBM1_TSUUCHIKBN,QBM1_MEMOBNR,
    QBM1_RIREKIKBN,QBM1_USERNAME,QBM1_STRDATE,QBM1_UPDDATE,QBM1_DELDATE,
    QBM1_OPID,QBM1_WSID,QBM1_LINKUKENO)
AS
select
	QBM1_UKETSUKENO,
	QBM1_MAKEDATE,
	QBM1_MEMOCD,
	QBM1_TSUUCHIKBN,
	QBM1_MEMOBNR,
	QBM1_RIREKIKBN,
	QBM1_USERNAME,
	QBM1_STRDATE,
	QBM1_UPDDATE,
	QBM1_DELDATE,
	QBM1_OPID,
	QBM1_WSID,
	Null QBM1_LINKUKENO
from QBM1_MEMOT
union all	-- 対応履歴テーブル --
	Select
		QBM8_UKETSUKENO		QBM1_UKETSUKENO,
		QBM8_MAKEDATE		QBM1_MAKEDATE,
		QBM8_MEMOCD			QBM1_MEMOCD,
		'0'					QBM1_TSUUCHIKBN,
		Null				QBM1_MEMOBNR,
		'0'					QBM1_RIREKIKBN,
		QBM8_OPID			QBM1_USERNAME,
		QBM8_STRDATE		QBM1_STRDATE,
		QBM8_UPDDATE		QBM1_UPDDATE,
		QBM8_DELDATE		QBM1_DELDATE,
		QBM8_OPID			QBM1_OPID,
		QBM8_WSID			QBM1_WSID,
		Null				QBM1_LINKUKENO
	From QBM8_WORKMEMOV
	where  SUBSTR(QBM8_MEMOCD,1,3) = '019'
	  and  QBM8_DELDATE Is Null
union all	-- 既存入会メモテーブル --
	Select
		QBMA_UKETSUKENO		QBM1_UKETSUKENO,
		QBM1_MAKEDATE,
		'05800' || SUBSTR(QBM1_MEMOCD,1,3) QBM1_MEMOCD,
		QBM1_TSUUCHIKBN,
		QBM1_MEMOBNR,
		QBM1_RIREKIKBN,
		QBM1_USERNAME,
		QBM1_STRDATE,
		QBM1_UPDDATE,
		QBM1_DELDATE,
		QBM1_OPID,
		QBM1_WSID,
		QBMA_LINKUKETSUKE	QBM1_LINKUKENO
	from QBMA_LINKMEMOT,QBM1_MEMOT
	where  QBMA_LINKUKETSUKE  =      QBM1_UKETSUKENO
	  and  QBMA_MEMOCD        =      '15900002' --既存入会紐付けメモ
	  and  QBMA_DELDATE Is Null
/
--CREATE OR REPLACE VIEW TCCUSER.QBQ6_HAITATSUKV
--    (QBQ6_KEYCOMPUTERMEI,QBQ6_KAIINNO,QBQ6_ATENA,QBQ6_MAISU,QBQ6_YUUBINRYO,
--    QBQ6_SEQNO)
--AS
--SELECT
--		QBQ5_KEYCOMPUTERMEI,
--		QBQ5_KAIINNO,
--		QBQ5_ATENA,
--		NVL(QBQ5_MAISU,' '),
--		NVL(QSA3_MEI,' '),
--		QBQ5_SeqNo
--	FROM
--		QBQ5_HaitatsuKT,	--配達記録出力テーブル
--		(SELECT QSA3_PRMCODENO,
--				QSA3_MEI
--			FROM QSA3_CodeV
--			WHERE QSA3_PRMCODEKBN = 'DS6'
--		) QSA3_CodeV		--コードＶＩＥＷ
--	WHERE
--		QBQ5_MAISU		= QSA3_PRMCODENO(+)
--	AND	QBQ5_KAIINNO	<> '9999999999999999'
--	UNION ALL SELECT
--		QBQ5_KEYCOMPUTERMEI,
--		QBQ5_KAIINNO,
--		QBQ5_ATENA,
--		NVL(QBQ5_MAISU,' '),
--		' ',
--		999999
--	FROM
--		QBQ5_HaitatsuKT		--配達記録出力テーブル
--	WHERE
--		QBQ5_KAIINNO	= '9999999999999999'
--/
CREATE OR REPLACE VIEW TCCUSER.QBV1_USERIDV
    (QUA1_USERID,QUA1_USERMEI)
AS
select
 rtrim(QUA1_USERID) as QUA1_USERID,
QUA1_USERMEI
from QUA1_SECURITYT@link_secu.tcc.card
/
CREATE OR REPLACE VIEW TCCUSER.QBV2_MENUGRPV
    (QBV2_MENUID,QBV2_MENUMEI,QBV2_MODULEATR,QBV2_JOBKBN)
AS
SELECT
 substr(QUA1_MenuId,3) QBV2_MenuId, QuA1_MenuMei QBv2_MenuMei,QUA1_MODULEATR  QBv2_MODULEATR,QUA1_JOBKBN QBv2_JOBKBN
From QUA1_MENUGRPM@link_secu.tcc.card
/
--CREATE OR REPLACE VIEW TCCUSER.QBV3_COURIERLOGV
--    (TRANSACTION_NO,ACT_NAME,COURIER_ID,COURIER_INST_ID,NODE_ID,MAP_NAME_ID,
--    ACT_NAME_ID,RETURN_STATE,USER_ID,MACH_ID,IN_ACT_DATE,REQUEST_DATE,RETURN_DATE,
--    ROOT_LOGIN,USER_TAG,LOGIN_NAME,USER_NAME)
--AS
--select
--	a.TRANSACTION_NO 	,
--	b.ACT_NAME	,
--	a.COURIER_ID 	,
--	a.COURIER_INST_ID ,
--	a.NODE_ID 	,
--	a.MAP_NAME_ID 	,
--	a.ACT_NAME_ID 	,
--	a.RETURN_STATE 	,
--	a.USER_ID 	,
--	a.MACH_ID 	,
--	a.IN_ACT_DATE 	,
--	a.REQUEST_DATE 	,
--	a.RETURN_DATE 	,
--	a.ROOT_LOGIN 	,
--	a.USER_TAG 	,
--	c.LOGIN_NAME ,
--	c.LOGIN_NAME as User_Name
--from ifam.Courier_LOG a,ifam.ACTIVITY_NAMES b,ifam.USERS c
--where a.ACT_NAME_ID = b.ACT_NAME_ID
--  and a.USER_ID = c.USER_ID(+)
--/
--CREATE OR REPLACE VIEW TCCUSER.QBV6_MOSHIKOMIV
--    (QBA1_UKETSUKENO,QBA1_COURIERID,QBA1_KAKUTOKUTEN,QBA1_EIGYOTEN,QBA1_KAKUTOKUROUT,
--    QBA1_INPUTROUTE,QBA1_CARDKBN,QBA1_CARDSYURUI,QBA1_CARDHAKKOKEITAI,QBA1_IMAGESTRDATE,
--    QBA1_IMAGEFILE,QBA1_HONFACEKBN,QBA1_HONTEIKEIKBN,QBA1_HONKNNAME,QBA1_HONKJNAME,
--    QBA1_HONRMNAME,QBA1_HONJUSHOCD,QBA1_HONCHIBAN,QBA1_HONYUBINNO,QBA1_HONKNTODOFUKEN,
--    QBA1_HONKNSHIKCHOSN,QBA1_HONKNBANCHI,QBA1_HONKNKATAGAKI,QBA1_HONKJJUSHO,
--    QBA1_HONKJBANCHI,QBA1_HONKJKATAGAKI,QBA1_HONTEL1,QBA1_HONTEL2,QBA1_HONTEL3,
--    QBA1_HONKEITAITEL1,QBA1_HONKEITAITEL2,QBA1_HONKEITAITEL3,QBA1_HONSEX,
--    QBA1_HONBIRTHDAY,QBA1_HONSUMAIKBN,QBA1_HONSUMAINENSU,QBA1_HONHAIGUUM,
--    QBA1_HONCHILDSU,QBA1_HONDOKYOKBN,QBA1_HONCASHKIBOKG,QBA1_HONZANDAKACNT,
--    QBA1_HONZANDAKAKG,QBA1_HONPASSWORD,QBA1_HONCALLKBN,QBA1_HONCALLNAME,
--    QBA1_KINSHOKUSHU,QBA1_KINKINMUKBN,QBA1_KINKNHAIGUNAME,QBA1_KINKJHAIGUNAME,
--    QBA1_KINHAIGUZOKGR,QBA1_KINHAIGUBIRTH,QBA1_KINKNNAME,QBA1_KINKJNAME,
--    QBA1_KINJUSHOCD,QBA1_KINCHIBAN,QBA1_KINYUBINNO,QBA1_KINKNTODOFUKEN,
--    QBA1_KINKNSHIKCHOSN,QBA1_KINKNBANCHI,QBA1_KINKNKATAGAKI,QBA1_KINKJJUSHO,
--    QBA1_KINKJBANCHI,QBA1_KINKJKATAGAKI,QBA1_KINTEL1,QBA1_KINTEL2,QBA1_KINTEL3,
--    QBA1_KINNAISEN,QBA1_KINHONTEL1,QBA1_KINHONTEL2,QBA1_KINHONTEL3,QBA1_KINNENSHUKBN,
--    QBA1_KINSHUNYUKBN,QBA1_KINKJMAENAME,QBA1_KINMAENENSUKBN,QBA1_KINMAERIYU,
--    QBA1_KINSHOZOKUBUKA,QBA1_KINYAKUSHOKU,QBA1_KINNYUSHADATE,QBA1_KINSETSURITSU,
--    QBA1_KINSHIHONKG,QBA1_KINJUGYOCNT,QBA1_KINNENSUKBN,QBA1_KINJIEINAIYO,
--    QBA1_KINELSENENSHU,QBA1_KINELSESHUNYU,QBA1_SKISHOKAISHA,QBA1_SKIKACD,
--    QBA1_SKIKOJINCD,QBA1_SKINAISEN,QBA1_SKIMISECD,QBA1_SKIBUHANCD,QBA1_SKICORNERDATE,
--    QBA1_ELSTOZAIKBN,QBA1_ELSCLABUCD,QBA1_ELSFUNYUSKB,QBA1_ELSHENSAIHOHO,
--    QBA1_ELSCARDSOUFU,QBA1_ELSSEIKYUSOFU,QBA1_ELSCARDHAKKOKBN,QBA1_ELSCARDYUSOKBN,
--    QBA1_ELSBUBIKIKBN,QBA1_ELSYOSINRANK,QBA1_ELSCARDUMUFLG,QBA1_ELSCARDSINPAN,
--    QBA1_ELSCARDSONOTA,QBA1_CTLCANS,QBA1_CTLCANRIYU,QBA1_CTLCANTUIKI,QBA1_CTLHENKYAKUS,
--    QBA1_CTLCANSOKUJIKBN,QBA1_CTLSEISADATE,QBA1_CTLFSTSGDATE,QBA1_CTLSCDSNSDATE,
--    QBA1_CTLMSTSTRDATE,QBA1_CTLHAKKENDATE,QBA1_CTLRONEDATE,QBA1_CTLHONKNNAME,
--    QBA1_CTLKINKNNAME,QBA1_CTLKANRITEN,QBA1_CTLKAISHATEN,QBA1_CTLJIGYOTEN,
--    QBA1_CTLDMTEN,QBA1_CTLFLOKBN,QBA1_NOCIFNO,QBA1_NOKAIINNO,QBA1_NOBLACKNO,
--    QBA1_NOCICINQNO,QBA1_RONSYURUI,QBA1_RONKNG,QBA1_RONSHIHARAICNT,QBA1_RONATAMAKNG,
--    QBA1_RONKAIINNO,QBA1_RONSKTKBN,QBA1_RONSKTKESSAICD,QBA1_HENSAIKNG,QBA1_BOUNASKNG,
--    QBA1_LINKKAIIN,QBA1_STRDATE,QBA1_UPDDATE,QBA1_DELDATE,QBA1_OPID,QBA1_WSID)
--AS
--select
--	QBA1_UketsukeNO		,
--	QBA1_CourierID		,
--	QBAP_ENTRYPKG.QBAP_GetETenMei(QBA1_KakutokuTen)	QBA1_KakutokuTen,
--	QBAP_ENTRYPKG.QBAP_GetETenMei(QBA1_EigyoTen)  QBA1_EigyoTen,
--	QBA1_KakutokuRout	,
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('DGI',QBA1_InputRoute) QBA1_InputRoute,
--	QBA1_CardKBN		,
--	QBA1_CardSyurui		,
--	QBA1_CardHakkoKeitai,
--	QBA1_ImageStrDate	,
--	QBA1_ImageFile		,
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('C82',QBA1_HonFaceKBN) QBA1_HonFaceKBN,
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('C81',QBA1_HonTeikeiKBN) QBA1_HonTeikeiKBN,
--	QBA1_HonKNName,
--	QBA1_HonKJName,
--	QBA1_HonRMName,
--	QBA1_HonJushoCD,
--	QBA1_HonChiban,
--	QBA1_HonYubinNo,
--	QBA1_HonKNTodofuken,
--	QBA1_HonKNShikchosn,
--	QBA1_HonKNBanchi,
--	QBA1_HonKNKatagaki,
--	QBA1_HonKJJusho,
--	QBA1_HonKJBanchi,
--	QBA1_HonKJKatagaki,
--	QBA1_HonTel1,
--	QBA1_HonTel2,
--	QBA1_HonTel3,
--	QBA1_HonKeitaiTel1,
--	QBA1_HonKeitaiTel2,
--	QBA1_HonKeitaiTel3,
--	QBA1_HonSex,
--	QBA1_HonBirthday,
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('DG1',QBA1_HonSumaiKBN) QBA1_HonSumaiKBN,
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('C25',QBA1_HonSumaiNensu) QBA1_HonSumaiNensu,
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('DGL',QBA1_HonHaiguUM) QBA1_HonHaiguUM,
--	QBA1_HonChildSU,
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('DGM',QBA1_HonDokyoKBN) QBA1_HonDokyoKBN,
--	QBAP_ENTRYPKG.QBAP_GetCashingKG(QBA1_HonCashKiboKG) QBA1_HonCashKiboKG,
--	QBA1_HonZandakaCNT,
--	QBA1_HonZandakaKG,
--	QBA1_HonPassWord,
--	QBA1_HonCallKBN,
--	QBA1_HonCallName,
--/*******  勤務先情報  *******/
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('DG3',QBA1_KinShokushu) QBA1_KinShokushu,
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('DG2',QBA1_KinKinmuKBN) QBA1_KinKinmuKBN,
--	QBA1_KinKNHaiguName,
--	QBA1_KinKJHaiguName,
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('C18',QBA1_KinHaiguZokgr) QBA1_KinHaiguZokgr,
--	QBA1_KinHaiguBirth,
--	QBA1_KinKNName,
--	QBA1_KinKJName,
--	QBA1_KinJushoCD,
--	QBA1_KinChiban,
--	QBA1_KinYubinNO,
--	QBA1_KinKNTodofuken,
--	QBA1_KinKNShikchosn,
--	QBA1_KinKNBanchi,
--	QBA1_KinKNKatagaki,
--	QBA1_KinKJJusho,
--	QBA1_KinKJBanchi,
--	QBA1_KinKJKatagaki,
--	QBA1_KinTel1,
--	QBA1_KinTel2,
--	QBA1_KinTel3,
--	QBA1_KinNaisen,
--	QBA1_KinHonTel1,
--	QBA1_KinHonTel2,
--	QBA1_KinHonTel3,
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('DGN',QBA1_KinNenshuKBN) QBA1_KinNenshuKBN,
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('DG4',QBA1_KinShunyuKBN) QBA1_KinShunyuKBN,
--	QBA1_KinKJMaeName,
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('C29',QBA1_KinMaeNensuKBN) QBA1_KinMaeNensuKBN,
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('DG5',QBA1_KinMaeRiyu) QBA1_KinMaeRiyu,
--	QBA1_KinShozokuBuka,
--	QBA1_KinYakushoku,
--	QBA1_KinNyushaDate,
--	QBA1_KinSetsuritsu,
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('C26',QBA1_KinShihonKG) QBA1_KinShihonKG,
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('C27',QBA1_KinJugyoCNT) QBA1_KinJugyoCNT,
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('C29',QBA1_KinNensuKBN) QBA1_KinNensuKBN,
--	QBA1_KinJieiNaiyo,
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('DGN',QBA1_KinElseNenshu) QBA1_KinElseNenshu,
--	QBA1_KinElseShunyu,
--/*******  紹介情報  *******/
--	QBA1_SkiShokaisha,
--	QBA1_SkiKaCD,
--	QBA1_SkiKojinCD,
--	QBA1_SkiNaisen,
--	QBA1_SkiMiseCD,
--	QBA1_SkiBuhanCD,
--	QBA1_SkiCornerDate,
--/*******  その他情報  *******/
--	QBA1_ELSTozaiKBN,
--	QBA1_ELSClabuCD,
--	QBA1_ELSFunyuSKB,
--	QBA1_ELSHensaiHoHo,
--	QBA1_ELSCardSoufu,
--	QBA1_ELSSeikyuSofu,
--	QBA1_ELSCardHakkoKBN,
--	QBA1_ELSCardYusoKBN,
--	QBA1_ELSBubikiKBN,
--	QBA1_ELSYosinRank,
--	QBA1_ELSCardUmuFlg,
--	QBA1_ELSCardSinpan,
--	QBA1_ELSCardSonota,
--/*******  制御情報  *******/
--	QBA1_CTLCanS,
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('C21',QBA1_CTLCanRiyu) QBA1_CTLCanRiyu,
--	QBA1_CTLCanTuiki,
--	QBA1_CTLHenkyakuS,
--	QBA1_CTLCansokujiKBN,
--	QBA1_CTLSeisaDate,
--	QBA1_CTLFstSGDate,
--	QBA1_CTLScdSNSDate,
--	QBA1_CTLMstSTRDate,
--	QBA1_CTLHakkenDate,
--	QBA1_CTLRoneDate,
--	QBA1_CTLHonKNName,
--	QBA1_CTLKinKNName,
--	QBA1_CTLKanriTEN,
--	QBA1_CTLKaishaTEN,
--	QBA1_CTLJigyoTEN,
----	2001/06/01 SQT.YAMADA ＤＭ店対応
----	QBA1_CTLDMTEN,
--	QBAP_ENTRYPKG.QBAP_GetETenMei(QBA1_CTLDMTEN)	QBA1_CTLDMTEN,
--	QBA1_CTLFloKBN,
--/*******  番号情報  *******/
--	QBA1_NoCIFNO,
--	QBA1_NoKaiinNO,
--	QBA1_NoBlackNO,
--	QBA1_NoCICInqNO,
--/*******  ローン情報  *******/
--	QBAP_ENTRYPKG.QBAP_GetCodeMei('C60',QBA1_RONSyurui) QBA1_RONSyurui,
--	QBA1_RONKNG,
--	QBA1_RONShiharaiCNT,
--	QBA1_RONAtamaKNG,
--	QBA1_RONKaiinNO,
--	QBA1_RONSktKbn,
--	QBA1_RONSktKessaiCD,
---- 2001.08.01 カードローン二次対応 SQT.YAMADA -->
--/*******  ＷＩＳＨ情報  *******/
--	Nvl(QBA1_HENSAIKNG,0) QBA1_HENSAIKNG,
--	Nvl(QBA1_BOUNASKNG,0) QBA1_BOUNASKNG,
--	QBAP_MEMO_MEIPKG.QBAP_MEMOGET_LINKKAIIN(QBA1_UketsukeNO) QBA1_LINKKAIIN,
---- 2001.08.01 SQT.YAMADA <--
--/*******  レコード情報  *******/
--	QBA1_STRDate,
--	QBA1_UPDDate,
--	QBA1_DELDate,
--	QBA1_OPID,
--	QBA1_WSID
--from QBA1_MoshikomiT
--/
CREATE OR REPLACE VIEW TCCUSER.QBV7_KESSAIMEMOV
    (QBV7_UKETSUKENO,QBV7_KAIINNO,QBV7_HONKNNAME,QBV7_HONKJNAME,QBV7_MEMO,
    QBV7_KAISTRDATE,QBV7_MEMOSTRDATE,QBV7_MEMOCD,QBV7_CARDMEI,QBV7_CARDKBN)
AS
select
	QBM1_UKETSUKENO    QBV7_UKETSUKENO ,
	QBAP_CENT200PKG.QBAP_GetGaibuKaiinNo(QBA1_CARDKBN,substr(QBA1_NOKAIINNO,1,12),substr(QBA1_NOKAIINNO,13,1)) QBV7_KaiinNo ,
	QBA1_HONKNNAME     QBV7_HONKNNAME ,
	QBA1_HONKJNAME     QBV7_HONKJNAME ,
	QBM8_MEMO          QBV7_MEMO      ,
        to_char(QBA1_CTLMSTSTRDATE,'yyyy/mm/dd') QBV7_KaiStrDate,
        to_char(QBM1_StrDate,'yyyy/mm/dd')       QBV7_MemoStrDate,
        QBM1_MEMOCD        QBV7_MEMOCD,
	QTA6_CARDMEI       QBV7_CARDMEI,
	QTA6_PRMCARDKBN    QBV7_CARDKBN
from QBM1_MEMOT a,QBM8_WORKMEMOT b,QBA1_MOSHIKOMIT c,QTA6_CARDCTRLT d
where QBM1_UKETSUKENO = QBM8_UKETSUKENO
  and QBM1_MAKEDATE   = QBM8_MAKEDATE
  and QBM1_MEMOCD     = QBM8_MEMOCD
  and QBM1_UKETSUKENO = QBA1_UKETSUKENO
  and QTA6_PRMCARDKBN = QBA1_CARDKBN
/* 2000/11/08 （障害対応）条件追加 */
  and QBM1_DELDATE is Null
/
CREATE OR REPLACE VIEW TCCUSER.QBVA_QB00001P
    (QBVA_UKETSUKEDATE,QBVA_ETNMEIKAN,QBVA_CARDMEI,QBVA_UKETSUKECOUNT)
AS
Select
A1                               QBVA_UKETSUKEDATE,  /* 受付年月日 */
DECODE(B5,Null,'* ','  ') || A2  QBVA_ETNMEIKAN,     /* 営業店 */
A3                               QBVA_CARDMEI,       /* カード名 */
A4                               QBVA_UKETSUKECOUNT  /* 受付件数 */
From (
SELECT   TO_CHAR(QBE4_MakeDate,'YYYY/MM/DD')  A1,
         QTAB_ETNMeiKan                       A2,
         QTA6_CardMei                         A3,
         COUNT(QBE4_UketsukeNo)               A4,
         QBA1_CardKbn                         A5
FROM     QBA1_MoshikomiT,                         /* 申込書テーブル */
         QBE4_PrinttShijiT,                       /* 帳票指示テーブル */
         QTAB_MiseT,                              /* 店テーブル */
         QTA6_CardCTRLT                           /* カード管理テーブル */
WHERE    QBA1_Eigyoten   = QTAB_PRMEigyouTenCd
AND      QBA1_CardKbn    = QTA6_PRMCardKbn
AND      QBE4_UketsukeNo = QBA1_UketsukeNo
AND      QBE4_ChohyoID   = 'QB00001P'
GROUP BY TO_CHAR(QBE4_MakeDate,'YYYY/MM/DD'),
         QTAB_ETNMeiKan,
         QBA1_CardKbn,
         QTA6_CardMei),(
SELECT   SUBSTR(QSA3_MEI, 7,6)                B5
FROM     QSA3_CODEV
WHERE    QSA3_PRMCODEKBN = 'DC2'
AND      SUBSTR(QSA3_MEI,13,1) = '1'
GROUP BY SUBSTR(QSA3_MEI, 7,6) )
Where A5 = B5(+)
/
CREATE OR REPLACE VIEW TCCUSER.QBVB_QB00002P
    (QBVB_UKETSUKENO,QBVB_ETNMEIKAN,QBVB_CARDMEI,QBVB_MAKEDATE,QBVB_ERRNAIYOU)
AS
SELECT QBE4_UketsukeNo,                             /* 受付番号 */
       QTAB_ETNMeiKan,                              /* 営業店 */
       QTA6_CardMei,                                /* カード管理テーブル */
       TO_CHAR(QBE4_MakeDate,'YYYY/MM/DD HH24:MI'),  /* 作成日 */
       QBE4_ERRNAIYOU                               /* エラー内容 */
FROM   QBE4_PrinttShijiT,                           /* 帳票指示テーブル */
       QBA1_MoshikomiT,                             /* 申込書テーブル */
       QTA6_CardCTRLT,                              /* カード管理テーブル */
       QTAB_MiseT                                   /* 店テーブル */
WHERE  QBA1_CardKbn = QTA6_PRMCardKbn
AND    QBA1_EigyoTen = QTAB_PRMEigyouTenCd
AND    QBE4_UketsukeNo = QBA1_UketsukeNo
AND    QBE4_ChohyoID = 'QB00002P'  /* 1999.04.23 */
UNION
SELECT QBE4_UketsukeNo,
       NVL(QTAB_ETNMeiKan,NULL),
       NVL(QTA6_CardMei,NULL),
       TO_CHAR(QBE4_MakeDate,'YYYY/MM/DD HH24:MI'),
       QBE4_ERRNAIYOU
FROM   QTA1_KAIINM,
       QTA6_CardCTRLT,
       QTAB_MiseT,
       (SELECT QBE4_UketsukeNo,
               QBE4_MakeDate,
               QBE4_ERRNAIYOU
        FROM   QBE4_PrinttShijiT
        WHERE  QBE4_ChohyoID = 'QB00002P'
        AND    QBE4_UketsukeNo NOT IN(SELECT QBA1_UKETSUKENO FROM QBA1_MOSHIKOMIT))
WHERE  QBE4_UketsukeNo = QTA1_NYKUKETSUKENO(+)
       AND     QTA1_CARDKBN = QTA6_PRMCardKbn(+)
       AND     QTA1_TENEIGYOU = QTAB_PRMEigyouTenCd(+)
/
CREATE OR REPLACE VIEW TCCUSER.QBVC_QB00003P
    (QBVC_UKETSUKENO,QBVC_HONKJNAME,QBVC_ETNMEIKAN,QBVC_KTNMEIKAN,QBVC_RONKNG,
    QBVC_MAKEDATE)
AS
SELECT QBE4_UketsukeNo,                     /* 受付番号 */
       QBA1_HONKJName,                      /* 氏名漢字 */
       Mise1.QTAB_ETNMeiKan,                /* 営業店 */
       Mise2.QTAB_ETNMeiKan,                /* 獲得店 */
       QBA1_RONKng,                         /* ローン金額 */
       TO_CHAR(QBE4_MakeDate,'YYYY/MM/DD')  /* 作成日 */
FROM   QBE4_PrinttShijiT,                   /* 帳票指示テーブル */
       QBA1_MoshikomiT,                     /* 申込書テーブル */
       QTAB_MiseT Mise1,                    /* 店テーブル */
       QTAB_MiseT Mise2                     /* 店テーブル */
WHERE  QBA1_KakutokuTen = Mise2.QTAB_PRMEigyouTenCd
AND    QBA1_EigyoTen = Mise1.QTAB_PRMEigyouTenCd
AND    QBE4_UketsukeNo = QBA1_UketsukeNo
AND    QBE4_ChohyoID = 'QB00003P'  /* 1999.04.23 */
/
--CREATE OR REPLACE VIEW TCCUSER.QBVD_QB00004P
--    (QBVD_UKETSUKENO,QBVD_RONSYURUI,QBVD_NOKAIINNO,QBVD_HONKNNAME,QBVD_ETNMEIKAN,
--    QBVD_CARDMEI,QBVD_AESKESSAITANTO,QBVD_MAKEDATE)
--AS
--SELECT QBE4_UketsukeNo QBVD_UketsukeNo,         /* 受付番号 */
--       QBA1_RonSyurui QBVD_RonSyurui,           /* ローン種類 */
----       REPLACE(QSAP_EdKaiinNoPkg.QSAP_EdKaiinNoFnc(2, QBA1_NOKaiinNo),'---',' ') QBVD_NOKaiinNo,
--       QBAP_CENT200PKG.QBAP_GETGAIBUKAIINNO(QBA1_CardKbn, substr(QBA1_NOKaiinNo, 1, 12), substr(QBA1_NOKaiinNo, 13, 1)) QBVD_NOKaiinNo,
--       QBA1_HONKNName QBVD_HONKNName,           /* カナ氏名 */
--       QTAB_ETNMeiKan QBVD_ETNMeiKan,           /* 営業店 */
--       QTA6_CardMei QBVD_CardMei,               /* カード名称 */
--       QBA7_AESKessaiTanto QBVD_AESKessaiTanto, /* 決裁担当者 */
----       '自動審査' QBVD_UserMei,                 /* ユーザ名 */
--       QBE4_MAKEDATE QBVD_MakeDate              /* 作成日 */
--FROM   QBA1_MoshikomiT,                         /* 申込書テーブル */
--       QBA7_ShinsaKekkaT,                       /* 審査結果テーブル */
--       QBE4_PrinttShijiT,                       /* 帳票指示テーブル */
--       QTAB_MiseT,                              /* 店テーブル */
--       QTA6_CardCTRLT                           /* カード管理テーブル */
--WHERE  QBA1_EigyoTen = QTAB_PRMEigyouTenCd
--AND    QBA1_CardKbn = QTA6_PRMCardKbn
--AND    QBA7_KankeiKbn = '1'
--AND    QBA7_KazokuRbn = '0'
----AND    QBA7_AESKessaiTanto IS NULL              /* 決裁担当者がＮＵＬＬの場合 */
--AND    QBA1_UketsukeNo = QBA7_UketsukeNo
--AND    QBE4_UketsukeNo = QBA7_UketsukeNo
--AND    QBE4_UketsukeNo = QBA1_UketsukeNo
--AND    QBE4_ChohyoID = 'QB00004P'
--
--/
CREATE OR REPLACE VIEW TCCUSER.QBVE_QB00005P
    (QBVE_UKETSUKENO,QBVE_CARDMEI,QBVE_HONKJNAME,QBVE_CTLCANS,QBVE_MAKEDATE,
    QBVE_IMAGESTRDATE)
AS
SELECT QBA1_UketsukeNo,                         /* 受付番号 */
       QTA6_CardMei,                            /* カード名 */
       QBA1_HONKJName,                          /* 名前 */
       QBA1_CTLCans,                            /* 却下・キャンセル */
       TO_CHAR(QBE4_MakeDate, 'YYYY/MM/DD'),    /* 作成日 */
       TO_CHAR(QBA1_ImageSTRDate, 'YYYY/MM/DD') /* イメージ登録日 5/27*/
FROM   QBA1_MoshikomiT,                         /* 申込書テーブル */
       QBE4_PrinttShijiT,                       /* 帳票指示テーブル */
       QTA6_CardCTRLT                           /* カード管理テーブル */
WHERE  QBA1_CardKbn = QTA6_PRMCardKbn
AND    QBE4_UketsukeNo = QBA1_UketsukeNo
AND    QBE4_ChohyoID = 'QB00005P'
/
--CREATE OR REPLACE VIEW TCCUSER.QBVF_QB00006P
--    (QBVF_UKETSUKENO,QBVF_HONKNNAME,QBVF_AESKESSAITANTO,QBVF_ETNMEIKAN,
--    QBVF_CARDMEI,QBVF_ERRNAIYOU,QBVF_MAKEDATE)
--AS
--SELECT   QBE4_UketsukeNo QBVF_UketsukeNo,                            /* 受付番号 */
--         QBA1_HONKNName QBVF_HONKNName,                              /* カナ氏名 */
--         QBA7_AESKessaiTanto QBVF_AESKessaiTanto,                    /* 決裁担当者 */
--         QBAP_EntryPKG.QBAP_GetETenMei(QBE4_ErrKbn) QBVF_ETNMeiKan,  /* 営業店 */
--         substr(QBE4_ERRNAIYOU, 21, 10) QBVF_CardMei,                /* カード区分名称 */
--         substr(QBE4_ErrNaiyou, 1, 20) QBVF_ErrNaiyou,               /* エラー内容 */
--         QBE4_MakeDate QBVF_MakeDate                                 /* 作成日 */
--FROM     QBA1_MoshikomiT,                                            /* 申込書テーブル */
--         QBA7_ShinsaKekkaT,                                          /* 審査結果テーブル */
--         QBE4_PrinttShijiT                                           /* 帳票指示テーブル */
--WHERE    QBA7_KankeiKbn = '1'
--AND      QBA7_KazokuRbn = '0'
--AND      QBA1_UketsukeNo = QBA7_UketsukeNo
--AND      QBE4_UketsukeNo = QBA7_UketsukeNo
--AND      QBE4_UketsukeNo = QBA1_UketsukeNo
--AND      QBE4_ChohyoID = 'QB00006P'
--/
CREATE OR REPLACE VIEW TCCUSER.QBVG_QB00007P
    (QBVG_UKETSUKENO,QBVG_MAKEDATE,QBVG_TOUROKUYMD,QBVG_USERMEI,QBVG_MEMONAME)
AS
SELECT QBE4_UketsukeNo,                                             /* 受付番号 */
       TO_CHAR(QBE4_MakeDate, 'YYYY/MM/DD'),                        /* 作成日 */
       SUBSTR(QBE4_ErrNaiyou, 1, 10),                               /* エラー内容 */
       SUBSTR(QBE4_ErrNaiyou, 11, (LENGTH(QBE4_ErrNaiyou) - 18)),   /* ユーザ名 */
       QBT3_MemoName                                                /* メモ内容 */
FROM   QBE4_PrinttShijiT,                                           /* 帳票指示テーブル */
--       QUA2_UserIDV,                                                /* ユーザＩＤビュー */
       QBT3_MemoCodeT                                               /* メモコードテーブル */
WHERE  SUBSTR(QBE4_ErrNaiyou, (LENGTH(QBE4_ErrNaiyou) - 7), 8) = QBT3_MemoCd2
--AND    SUBSTR(QBE4_ErrNaiyou, 11, (LENGTH(QBE4_ErrNaiyou) - 18)) = RTRIM(QUA1_UserID)
AND    QBE4_ChohyoID = 'QB00007P'
/
--CREATE OR REPLACE VIEW TCCUSER.QBVH_QB00006P
--    (QBVH_COURIER_ID,QBVH_NISSU)
--AS
--SELECT   Courier_ID,    /* クーリアＩＤ */
--         MAX(RETURN_DATE)
--FROM     QBV3_CourierLogV
--WHERE    RETURN_STATE LIKE  'QB%'  /* アクティビティ名 */
--GROUP BY Courier_ID
--
--/
--CREATE OR REPLACE VIEW TCCUSER.QBVH_QB00007P
--    (QBVH_COURIER_ID,QBVH_NISSU)
--AS
--SELECT   Courier_ID,    /* クーリアＩＤ */
--         MAX(RETURN_DATE)
--FROM     QBV3_CourierLogV
--WHERE    RETURN_STATE  not LIKE  'IF%'  /* アクティビティ名 */
--GROUP BY Courier_ID
--
--/
--CREATE OR REPLACE VIEW TCCUSER.QBVH_QB00008P
--    (QBVH_COURIER_ID,QBVH_ACT_NAME,QBVH_NISSU)
--AS
--SELECT   a.Courier_ID,    /* クーリアＩＤ */
--         a.RETURN_STATE, /* アクティビティ名 */
--         QBAP_UkeMemoArameListPKG.QBAP_GetNissuCount(c.QBVH_Nissu)
--    FROM     QBV3_CourierLogV a, QBVH_QB00006P b , QBVH_QB00007P c
--    WHERE    a.Courier_ID = b.QBVH_Courier_ID
--    and      a.RETURN_DATE = b.QBVH_Nissu
--    and      b.QBVH_Courier_ID = c.QBVH_Courier_ID
--    and      b.QBVH_Nissu = c.QBVH_Nissu
--union
--SELECT   a.Courier_ID,    /* クーリアＩＤ */
--         a.ACT_NAME, /* アクティビティ名 */
--         QBAP_UkeMemoArameListPKG.QBAP_GetNissuCount(c.QBVH_Nissu)
--    FROM     QBV3_CourierLogV a, QBVH_QB00006P b , QBVH_QB00007P c
--    WHERE    a.Courier_ID = b.QBVH_Courier_ID
--    and      a.RETURN_DATE = b.QBVH_Nissu
--    and      b.QBVH_Courier_ID = c.QBVH_Courier_ID
--    and      b.QBVH_Nissu <> c.QBVH_Nissu
--
--/
CREATE OR REPLACE VIEW TCCUSER.QBVI_QB00009P
    (CARDKBN,CARDMEI,STR_YEAR,NUM_MON,NUM_DAYS)
AS
SELECT
QBE3_CARDKBN CARDKBN,
QTA6_CARDMEI CARDMEI,
-- 99/12/20 計上日の変更　登録日　→　発券日
to_char(add_months(QBE3_HAKKENDATE,-2),'YYYY') STR_YEAR,
to_number(to_char(add_months(QBE3_HAKKENDATE,-2),'MM')) NUM_MON,
-- to_char(add_months(QBE3_WFSTRDATE,-2),'YYYY') STR_YEAR,
-- to_number(to_char(add_months(QBE3_WFSTRDATE,-2),'MM')) NUM_MON,
-- 99/12/09 日数の計算方法の変更
to_date(to_char(QBE3_HAKKENDATE,'yyyy/mm/dd')) - to_date(to_char(QBE3_WFSTRDATE,'yyyy/mm/dd')) NUM_DAYS
--to_number(to_char(to_char(QBE3_HAKKENDATE,'yyyymmdd') -
--to_char(QBE3_WFSTRDATE,'yyyymmdd'))) NUM_DAYS
from qbe3_tokeit, qta6_cardctrlt
where QBE3_CARDKBN = QTA6_PRMCARDKBN
  and QBE3_HAKKENDATE is not null
  and QBE3_WFSTRDATE is not null
/
CREATE OR REPLACE VIEW TCCUSER.QBVJ_QB00010P
    (NO,CODE,STRYEAR,NUMMONTH)
AS
select
QBE3_UKETSUKENO NO,
'01' CODE,
to_char(add_months(a.QBE3_WFSTRDATE,-2),'YYYY') strYear,
to_number(to_char(add_months(a.QBE3_WFSTRDATE,-2),'MM')) numMonth
from QBE3_TOKEIT a
where a.QBE3_WFSTRDATE is not null
union
select
QBE3_UKETSUKENO NO,
'02' CODE,
to_char(add_months(b.QBE3_PASSWORDNRKDATE,-2),'YYYY') strYear,
to_number(to_char(add_months(b.QBE3_PASSWORDNRKDATE,-2),'MM')) numMonth
from QBE3_TOKEIT b
where b.QBE3_PASSWORDNRKDATE is not null
union
select
QBE3_UKETSUKENO NO,
'03' CODE,
to_char(add_months(c.QBE3_PASSWORDSISDATE,-2),'YYYY') strYear,
to_number(to_char(add_months(c.QBE3_PASSWORDSISDATE,-2),'MM')) numMonth
from QBE3_TOKEIT c
where c.QBE3_PASSWORDSISDATE is not null
union
select
QBE3_UKETSUKENO NO,
'04' CODE,
to_char(add_months(d.QBE3_MOUSINRKDATE,-2),'YYYY') strYear,
to_number(to_char(add_months(d.QBE3_MOUSINRKDATE,-2),'MM')) numMonth
from QBE3_TOKEIT d
where d.QBE3_MOUSINRKDATE is not null
union
select
QBE3_UKETSUKENO NO,
'05' CODE,
to_char(add_months(e.QBE3_MOUSISISDATE,-2),'YYYY') strYear,
to_number(to_char(add_months(e.QBE3_MOUSISISDATE,-2),'MM')) numMonth
from QBE3_TOKEIT e
where e.QBE3_MOUSISISDATE is not null
union
select
QBE3_UKETSUKENO NO,
'06' CODE,
to_char(add_months(f.QBE3_INQIRAIDATE,-2),'YYYY') strYear,
to_number(to_char(add_months(f.QBE3_INQIRAIDATE,-2),'MM')) numMonth
from QBE3_TOKEIT f
where f.QBE3_INQIRAIDATE is not null
union
select
QBE3_UKETSUKENO NO,
'07' CODE,
to_char(add_months(g.QBE3_INQKAKUTEIDATE,-2),'YYYY') strYear,
to_number(to_char(add_months(g.QBE3_INQKAKUTEIDATE,-2),'MM')) numMonth
from QBE3_TOKEIT g
where g.QBE3_INQKAKUTEIDATE is not null
union
select
QBE3_UKETSUKENO NO,
'08' CODE,
to_char(add_months(h.QBE3_ZAIKAKUWAKEDATE,-2),'YYYY') strYear,
to_number(to_char(add_months(h.QBE3_ZAIKAKUWAKEDATE,-2),'MM')) numMonth
from QBE3_TOKEIT h
where h.QBE3_ZAIKAKUWAKEDATE is not null
union
select
QBE3_UKETSUKENO NO,
'09' CODE,
to_char(add_months(i.QBE3_ZAIKAKUDATE,-2),'YYYY') strYear,
to_number(to_char(add_months(i.QBE3_ZAIKAKUDATE,-2),'MM')) numMonth
from QBE3_TOKEIT i
where i.QBE3_ZAIKAKUDATE is not null
union
select
QBE3_UKETSUKENO NO,
'10' CODE,
to_char(add_months(j.QBE3_JIDOUSINSADATE,-2),'YYYY') strYear,
to_number(to_char(add_months(j.QBE3_JIDOUSINSADATE,-2),'MM')) numMonth
from QBE3_TOKEIT j
where j.QBE3_JIDOUSINSADATE is not null
union
select
QBE3_UKETSUKENO NO,
'11' CODE,
to_char(add_months(k.QBE3_2JISINSAIRAIDATE,-2),'YYYY') strYear,
to_number(to_char(add_months(k.QBE3_2JISINSAIRAIDATE,-2),'MM')) numMonth
from QBE3_TOKEIT k
where k.QBE3_2JISINSAIRAIDATE is not null
union
select
QBE3_UKETSUKENO NO,
'12' CODE,
to_char(add_months(l.QBE3_2JISINSAKNRDATE,-2),'YYYY') strYear,
to_number(to_char(add_months(l.QBE3_2JISINSAKNRDATE,-2),'MM')) numMonth
from QBE3_TOKEIT l
where l.QBE3_2JISINSAKNRDATE is not null
union
select
QBE3_UKETSUKENO NO,
'13' CODE,
to_char(add_months(m.QBE3_ISHIKAKUWAKEDATE,-2),'YYYY') strYear,
to_number(to_char(add_months(m.QBE3_ISHIKAKUWAKEDATE,-2),'MM')) numMonth
from QBE3_TOKEIT m
where m.QBE3_ISHIKAKUWAKEDATE is not null
union
select
QBE3_UKETSUKENO NO,
'14' CODE,
to_char(add_months(n.QBE3_ISHIKAKUDATE,-2),'YYYY') strYear,
to_number(to_char(add_months(n.QBE3_ISHIKAKUDATE,-2),'MM')) numMonth
from QBE3_TOKEIT n
where n.QBE3_ISHIKAKUDATE is not null
union
select
QBE3_UKETSUKENO NO,
'15' CODE,
to_char(add_months(o.QBE3_MASTERSTRIRAIDATE,-2),'YYYY') strYear,
to_number(to_char(add_months(o.QBE3_MASTERSTRIRAIDATE,-2),'MM')) numMonth
from QBE3_TOKEIT o
where o.QBE3_MASTERSTRIRAIDATE is not null
union
select
QBE3_UKETSUKENO NO,
'16' CODE,
to_char(add_months(p.QBE3_MASTERSTRKNRDATE,-2),'YYYY') strYear,
to_number(to_char(add_months(p.QBE3_MASTERSTRKNRDATE,-2),'MM')) numMonth
from QBE3_TOKEIT p
where p.QBE3_MASTERSTRKNRDATE is not null
/
CREATE OR REPLACE VIEW TCCUSER.QBVK_QB00011P
    (NO,STR_KBN,STR_YEAR,NUM_MON,STR_TANTOCD)
AS
select
      QBE3_UKETSUKENO NO,
      '0' STR_KBN,
      to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'YYYY') STR_YEAR,
      to_number(to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'MM')) NUM_MON,
      rpad(QBE3_KESSAITANTOU,8) STR_TANTOCD
 from QBE3_TOKEIT
where QBE3_KESSAITANTOU != 'JIDO0000'
  and QBE3_KESSAIKEKKA = '01'
union
select
      QBE3_UKETSUKENO NO,
      '0' STR_KBN,
      to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'YYYY') STR_YEAR,
      to_number(to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'MM')) NUM_MON,
      NULL STR_TANTOCD
 from QBE3_TOKEIT
where QBE3_KESSAITANTOU = 'JIDO0000'
  and QBE3_KESSAIKEKKA = '01'
union
select
      QBE3_UKETSUKENO NO,
      '1' STR_KBN,
      to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'YYYY') STR_YEAR,
      to_number(to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'MM')) NUM_MON,
      rpad(QBE3_KESSAITANTOU,8) STR_TANTOCD
 from QBE3_TOKEIT,QSA2_SCODET
where QBE3_KESSAITANTOU != 'JIDO0000'
  and QBE3_KESSAIKEKKA = '13'
  and QSA2_PRMCODEKBN = 'DI8'
  and QSA2_PRMCODENO = '1'
  and QSA2_MEI = QBE3_AESRESULTCD
union
select
      QBE3_UKETSUKENO NO,
      '2' STR_KBN,
      to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'YYYY') STR_YEAR,
      to_number(to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'MM')) NUM_MON,
      rpad(QBE3_KESSAITANTOU,8) STR_TANTOCD
 from QBE3_TOKEIT,QSA2_SCODET
where QBE3_KESSAITANTOU != 'JIDO0000'
  and QBE3_KESSAIKEKKA = '13'
  and QSA2_PRMCODEKBN = 'DI8'
  and QSA2_PRMCODENO = '2'
  and QSA2_MEI = QBE3_AESRESULTCD
union
select
      QBE3_UKETSUKENO NO,
      '3' STR_KBN,
      to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'YYYY') STR_YEAR,
      to_number(to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'MM')) NUM_MON,
      rpad(QBE3_KESSAITANTOU,8) STR_TANTOCD
 from QBE3_TOKEIT,QSA2_SCODET
where QBE3_KESSAITANTOU != 'JIDO0000'
  and QBE3_KESSAIKEKKA = '13'
  and QSA2_PRMCODEKBN = 'DI8'
  and QSA2_PRMCODENO = '3'
  and QSA2_MEI = QBE3_AESRESULTCD
union
select
      QBE3_UKETSUKENO NO,
      '4' STR_KBN,
      to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'YYYY') STR_YEAR,
      to_number(to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'MM')) NUM_MON,
      rpad(QBE3_KESSAITANTOU,8) STR_TANTOCD
 from QBE3_TOKEIT,QSA2_SCODET
where QBE3_KESSAITANTOU != 'JIDO0000'
  and QBE3_KESSAIKEKKA = '13'
  and QSA2_PRMCODEKBN = 'DI8'
  and QSA2_PRMCODENO = '4'
  and QSA2_MEI = QBE3_AESRESULTCD
union
select
      QBE3_UKETSUKENO NO,
      '5' STR_KBN,
      to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'YYYY') STR_YEAR,
      to_number(to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'MM')) NUM_MON,
      rpad(QBE3_KESSAITANTOU,8) STR_TANTOCD
 from QBE3_TOKEIT,QSA2_SCODET ATBL,QSA2_SCODET BTBL,QSA2_SCODET CTBL,QSA2_SCODET DTBL
where QBE3_KESSAITANTOU != 'JIDO0000'
  and QBE3_KESSAIKEKKA = '13'
  and ATBL.QSA2_PRMCODEKBN = 'DI8'
  and ATBL.QSA2_PRMCODENO = '1'
  and ATBL.QSA2_MEI != QBE3_AESRESULTCD
  and BTBL.QSA2_PRMCODEKBN = 'DI8'
  and BTBL.QSA2_PRMCODENO = '2'
  and BTBL.QSA2_MEI != QBE3_AESRESULTCD
  and CTBL.QSA2_PRMCODEKBN = 'DI8'
  and CTBL.QSA2_PRMCODENO = '3'
  and CTBL.QSA2_MEI != QBE3_AESRESULTCD
  and DTBL.QSA2_PRMCODEKBN = 'DI8'
  and DTBL.QSA2_PRMCODENO = '4'
  and DTBL.QSA2_MEI != QBE3_AESRESULTCD
union
select
      QBE3_UKETSUKENO NO,
      '6' STR_KBN,
      to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'YYYY') STR_YEAR,
      to_number(to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'MM')) NUM_MON,
      NULL STR_TANTOCD
 from QBE3_TOKEIT
where QBE3_KESSAITANTOU = 'JIDO0000'
  and QBE3_KESSAIKEKKA = '12'
union
select
      QBE3_UKETSUKENO NO,
      '7' STR_KBN,
      to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'YYYY') STR_YEAR,
      to_number(to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'MM')) NUM_MON,
      rpad(QBE3_KESSAITANTOU,8) STR_TANTOCD
 from QBE3_TOKEIT
where QBE3_KESSAITANTOU != 'JIDO0000'
  and QBE3_KESSAIKEKKA = '18'
union
select
      QBE3_UKETSUKENO NO,
      '7' STR_KBN,
      to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'YYYY') STR_YEAR,
      to_number(to_char(add_months(QBE3_MASTERSTRIRAIDATE,-2),'MM')) NUM_MON,
      NULL STR_TANTOCD
 from QBE3_TOKEIT
where QBE3_KESSAITANTOU = 'JIDO0000'
  and QBE3_KESSAIKEKKA = '13'
/
CREATE OR REPLACE VIEW TCCUSER.QBVL_QB00013P
    (QBVL_UKETSUKENO,QBVL_KAKUTOKUTEN,QBVL_ETNMEIKAN,QBVL_CARDKBN,QBVL_CARDMEI,
    QBVL_DATE,QBVL_HONKNNAME,QBVL_UKETSUKEYMD,QBVL_HORYUYMD,QBVL_MEMOYMD)
AS
Select
A.A1                             QBVL_UKETSUKENO,    --受付番号
A.A2                             QBVL_KAKUTOKUTEN,   --獲得店
B.QTAB_ETNMEIKAN                 QBVL_ETNMEIKAN,     --獲得店名
A.A3                             QBVL_CARDKBN,       --カード区分
C.QTA6_CARDMEI                   QBVL_CARDMEI,       --カード区分名称
A.A4                             QBVL_DATE,          --スキャン日
A.A5                             QBVL_HONKNNAME,     --申込者カナ氏名
A.A6                             QBVL_UKETSUKEYMD,   --入会受付日
A.A7                             QBVL_HORYUYMD,      --審査保留日
A.A8                             QBVL_MEMOYMD        --別メモ登録日
From     (
SELECT   M.QBA1_UKETSUKENO                                            A1, --受付番号
         M.QBA1_KAKUTOKUTEN                                           A2, --獲得店
         M.QBA1_CARDKBN                                               A3, --カード区分
         Nvl(To_Char(M.QBA1_IMAGESTRDATE ,'YYYY/MM/DD'),' ')          A4, --スキャン日
         Nvl(M.QBA1_HONKNNAME,' ')                                    A5, --申込者カナ氏名
         Nvl(To_Char(M.QBA1_CTLSEISADATE ,'YYYY/MM/DD'),' ')          A6, --入会受付日
         Memo1.YMD                                                    A7, --審査保留日
         Memo2.YMD                                                    A8  --別メモ登録日
FROM     QBE4_PRINTTSHIJIT MM,
         QBA1_MOSHIKOMIT M,
         (Select QBM1_UKETSUKENO                                      UKETSUKENO,
                 Nvl(To_Char(Max(QBM1_MAKEDATE),'YYYY/MM/DD'),' ')    YMD
            From QBM1_MEMOT
           Where QBM1_OPID       = 'JCBITAKU'
             And QBM1_DELDATE    IS Null
           Group by QBM1_UKETSUKENO)                                  Memo1,
         (Select QBM1_UKETSUKENO                                      UKETSUKENO,
                 Nvl(To_Char(Max(QBM1_MAKEDATE),'YYYY/MM/DD'),' ')    YMD
            From QBM1_MEMOT
           Where QBM1_OPID       <> 'JCBITAKU'
             And QBM1_DELDATE    IS Null
           Group by QBM1_UKETSUKENO)                                  Memo2
Where    MM.QBE4_CHOHYOID   =  'QB00013P'
  And    MM.QBE4_UKETSUKENO =  M.QBA1_UKETSUKENO
  And    M.QBA1_UKETSUKENO  =  Memo1.UKETSUKENO(+)
  And    M.QBA1_UKETSUKENO  =  Memo2.UKETSUKENO(+)
) A,
QTAB_MISET B,
QTA6_CardCTRLT C
WHERE    A.A2   = QTAB_PRMEigyouTenCd
AND      A.A3   = QTA6_PRMCardKbn

/
CREATE OR REPLACE VIEW TCCUSER.QBVM_QB00014P
    (QBVM_UKETSUKENO,QBVM_KAKUTOKUTEN,QBVM_ETNMEIKAN,QBVM_CARDKBN,QBVM_CARDMEI,
    QBVM_DATE,QBVM_HONKNNAME,QBVM_SHINSAYMD,QBVM_BANKCD,QBVM_MEMOYMD)
AS
Select
A.A1                             QBVM_UKETSUKENO,    --受付番号
A.A2                             QBVM_KAKUTOKUTEN,   --獲得店
B.QTAB_ETNMEIKAN                 QBVM_ETNMEIKAN,     --獲得店名
A.A3                             QBVM_CARDKBN,       --カード区分
C.QTA6_CARDMEI                   QBVM_CARDMEI,       --カード区分名称
A.A4                             QBVM_DATE,          --スキャン日
A.A5                             QBVM_HONKNNAME,     --申込者カナ氏名
A.A6                             QBVM_SHINSAYMD,     --審査判定日
A.A7                             QBVM_BANKCD,        --銀行ＣＤ
A.A8                             QBVM_MEMOYMD        --別メモ登録日
From     (
SELECT   M.QBA1_UKETSUKENO                                            A1, --受付番号
         M.QBA1_KAKUTOKUTEN                                           A2, --獲得店
         M.QBA1_CARDKBN                                               A3, --カード区分
         Nvl(To_Char(M.QBA1_IMAGESTRDATE ,'YYYY/MM/DD'),' ')          A4, --スキャン日
         Nvl(M.QBA1_HONKNNAME,' ')                                    A5, --申込者カナ氏名
         Nvl(To_Char(M.QBA1_CTLFSTSGDATE ,'YYYY/MM/DD'),' ')          A6, --審査判定日
         JIF.QBA4_BANKCD                                              A7, --銀行ＣＤ
         Memo2.YMD                                                    A8  --別メモ登録日
FROM     QBE4_PRINTTSHIJIT MM,
         QBA1_MOSHIKOMIT M,
         QBA4_JIFURIT JIF,
         (Select QBM1_UKETSUKENO                                      UKETSUKENO,
                 Nvl(To_Char(Max(QBM1_MAKEDATE),'YYYY/MM/DD'),' ')    YMD
            From QBM1_MEMOT
           Where QBM1_OPID       <> 'JCBITAKU'
             And QBM1_DELDATE    IS Null
           Group by QBM1_UKETSUKENO)                                  Memo2
Where    MM.QBE4_CHOHYOID   =  'QB00014P'
  And    MM.QBE4_UKETSUKENO =  M.QBA1_UKETSUKENO
  And    M.QBA1_UKETSUKENO  =  JIF.QBA4_UKETSUKENO(+)
  And    M.QBA1_UKETSUKENO  =  Memo2.UKETSUKENO(+)
) A,
QTAB_MISET B,
QTA6_CardCTRLT C
WHERE    A.A2   = QTAB_PRMEigyouTenCd
AND      A.A3   = QTA6_PRMCardKbn

/
CREATE OR REPLACE VIEW TCCUSER.QBVN_QB00015P
    (QBVN_UKETSUKENO,QBVN_KAKUTOKUTEN,QBVN_ETNMEIKAN,QBVN_CARDKBN,QBVN_CARDMEI,
    QBVN_DATE,QBVN_HONKNNAME,QBVN_FUBIYMD,QBVN_SAIYMD,QBVN_MEMOYMD)
AS
Select
A.A1                             QBVN_UKETSUKENO,    --受付番号
A.A2                             QBVN_KAKUTOKUTEN,   --獲得店
B.QTAB_ETNMEIKAN                 QBVN_ETNMEIKAN,     --獲得店名
A.A3                             QBVN_CARDKBN,       --カード区分
C.QTA6_CARDMEI                   QBVN_CARDMEI,       --カード区分名称
A.A4                             QBVN_DATE,          --スキャン日
A.A5                             QBVN_HONKNNAME,     --申込者カナ氏名
A.A6                             QBVN_FUBIYMD,       --戻り登録日
A.A7                             QBVN_SAIYMD,        --再依頼日
A.A8                             QBVN_MEMOYMD        --別メモ登録日
From     (
SELECT   M.QBA1_UKETSUKENO                                            A1, --受付番号
         M.QBA1_KAKUTOKUTEN                                           A2, --獲得店
         M.QBA1_CARDKBN                                               A3, --カード区分
         Nvl(To_Char(M.QBA1_STRDATE      ,'YYYY/MM/DD'),' ')          A4, --スキャン日
         Nvl(M.QBA1_HONKNNAME,' ')                                    A5, --申込者カナ氏名
         Nvl(To_Char(M.QBA1_UPDDATE      ,'YYYY/MM/DD'),' ')          A6, --戻り登録日
         Nvl(To_Char(M.QBA1_IMAGESTRDATE ,'YYYY/MM/DD'),' ')          A7, --再依頼日
         Memo2.YMD                                                    A8  --別メモ登録日
FROM     QBE4_PRINTTSHIJIT MM,
         QBA1_MOSHIKOMIT M,
         (Select QBM1_UKETSUKENO                                      UKETSUKENO,
                 Nvl(To_Char(Max(QBM1_MAKEDATE),'YYYY/MM/DD'),' ')    YMD
            From QBM1_MEMOT
           Where QBM1_OPID       <> 'JCBITAKU'
             And QBM1_DELDATE    IS Null
           Group by QBM1_UKETSUKENO)                                  Memo2
Where    MM.QBE4_CHOHYOID   =  'QB00015P'
  And    MM.QBE4_UKETSUKENO =  M.QBA1_UKETSUKENO
  And    M.QBA1_UKETSUKENO  =  Memo2.UKETSUKENO(+)
) A,
QTAB_MISET B,
QTA6_CardCTRLT C
WHERE    A.A2   = QTAB_PRMEigyouTenCd
AND      A.A3   = QTA6_PRMCardKbn

/
CREATE OR REPLACE VIEW TCCUSER.QBVQ_QB00018P
    (QBVQ_MAKEDATE,QBVQ_UKETSUKENO,QBVQ_ERRKBN,QBVQ_KANANM,QBVQ_ALERM)
AS
SELECT
	 TO_DATE(TO_CHAR(QBE4_MAKEDATE,'YYYY/MM/DD'),'YYYY/MM/DD') QBVQ_MAKEDATE   -- 作成日
	,QBE4_UKETSUKENO                                           QBVQ_UKETSUKENO -- 受付番号
	,QBE4_ERRKBN                                               QBVQ_ERRKBN     -- アラーム区分
	,SUBSTR(RPAD(QBE4_ERRNAIYOU,31,' '),1,30)                  QBVQ_KANANM     -- アラーム氏名カナ
	,SUBSTR(RPAD(QBE4_ERRNAIYOU,81,' '),31,80)                 QBVQ_ALERM      -- アラーム内容
FROM
	QBE4_PRINTTSHIJIT
WHERE
	QBE4_CHOHYOID = 'QB00018P'
/
CREATE OR REPLACE VIEW TCCUSER.QCS6_KAIINITIRANV
    (QCS1_GKNSHIKIBETSUNO,QCS1_GKNEDABAN,QCS1_TKSCARDNO,QCS1_TENEIGYOU,
    QCS1_TENKAKUTOKU,QCS1_CARDKBN,QCS1_HONSHIMEIKANA,QCS1_HONSHIMEIKAN,
    QCS1_HONSEINENGAPPI,QCS1_HONSEX,QCS1_JTKTELSHIGAI,QCS1_JTKTELKYOKU,
    QCS1_JTKTELNO,QCS1_JTKJUSHOKANA,QCS1_JTKJUSHOKAN,QCS1_JTKBANCHIKANA,
    QCS1_JTKBANCHIKAN,QCS1_JTKKATAKANA,QCS1_JTKKATAKAN,QCS1_CIFNO,QCS1_KOZGINKOUCD,
    QCS1_KOZGINKOUMEI,QCS1_KOZSHITENCD,QCS1_KOZSHITENMEI,QCS1_KOZSHUMOKU,
    QCS1_KOZNO,QCS1_KOZMEIGI,QCS1_ATUKAKARI,QCS8_SHIMEI,QCS8_TELNO,QCS8_HONMAESHIMEI,
    QCS8_HONMAETELNO,QCS8_PRMCIFNO,QCS8_KIGYOUCD,QCS8_SUBRANGEKEY,QCS8_NOJNAIBUKAIINNO,
    QCS8_HONSEINENGAPPI)
AS
SELECT
	--QCS1_KIKKYUUNO QCS1_GKNShikibetsuNo,
	Replace(QBAP_CENT200PKG.QBAP_GetGaibuKaiinNo(QCS1_CARDKBN,QCS1_KIKKYUUNO,'1'),'-',null),
	'1' QCS1_GKNEdaban,
	--QCS1_TKSCARDNO,
	RTrim(QCS1_TKSCARDNO),
	' ' QCS1_TENEigyou,
	QCS1_TENKakutoku,
	QCS1_CardKbn,
	QCS1_HONShimeiKana,
	QCS1_HONShimeiKan,
	QCS1_HONSeinengappi,
	QCS1_HONSex,
	QCS1_JTKTelShigai,
	QCS1_JTKTelKyoku,
	QCS1_JTKTelNo,
	QCS1_JTKJushokana,
	QCS1_JTKJushoKan,
	QCS1_JTKBanchiKana,
	QCS1_JTKBanchiKan,
	QCS1_JTKKataKana,
	QCS1_JTKKataKan,
	QCS1_CIFNo,
	' ' QCS1_KOZGinkouCD,
	' ' QCS1_KOZGinkouMei,
	' ' QCS1_KOZShitenCd,
	' ' QCS1_KOZShitenMei,
	' ' QCS1_KOZShumoku,
	' ' QCS1_KOZNo,
	' ' QCS1_KOZMeigi,
	' ' QCS1_ATUKakari,
	QCS8_Shimei,
	QCS8_TelNo,
	QCS8_HONMaeShimei,
	QCS8_HONMaeTelNo,
	QCS8_PRMCIFNo,
	QCS8_KigyouCd,
	QCS8_SubRangeKey,
	QCS8_NOJNaibuKaiinNo,
	QCS8_HONSeinengappi
 FROM  	QCS1_KAIINM KainM, QCS8_NameSearchMS NameS
 WHERE 	(NameS.QCS8_KigyouCd = KainM.QCS1_PRMKigyouCd(+)
 AND	NameS.QCS8_SubRangeKey = KainM.QCS1_PRMSubRangeKey(+)
 AND	NameS.QCS8_NOJNaibuKaiinNo = KainM.QCS1_PRMNaibuKaiinNo(+))

/
CREATE OR REPLACE VIEW TCCUSER.QCS9_TOGOMEMOV
    (QCS9_KBN,QCS9_MAKEDATE,QCS9_SYSTEMSKBCD,QCS9_MEMOBNRCD,QCS9_MEMOCD,
    QCS9_NKNO,QCS9_BLACKNO,QCS9_UKETSUKENO,QCS9_TANTOID,QCS9_TANTONM,QCS9_MEMONM,
    QCS9_MEMO,QCS9_DELDATE)
AS
select	/*+ INDEX(QSA7_TOGOMEMOT,XIE1QSA7_TOGOMEMOT) */
		'2'              VCS9_KBN,
		QSA7_MAKEDATE    VCS9_MAKEDATE,
		QSA7_SYSTEMSKBCD VCS9_SYSTEMSKBCD,
		QSA7_MEMOBNRCD   VCS9_MEMOBNRCD,
		QSA7_MEMOCD      VCS9_MEMOCD,
		QSA7_NKNO        VCS9_NKNO,
		QSA7_BLACKNO     VCS9_BLACKNO,
		QSA7_UKETSUKENO  VCS9_UKETSUKENO,
		QSA7_TANTOID     VCS9_TANTOID ,
		nvl(QSA7_TANTONM,QSA7_TANTOID) VCS9_TANTONM,
		QSA7_MEMONM      VCS9_MEMONM,
		QSA7_MEMO        VCS9_MEMO,
		To_Char(QSA7_DELDate,'YYYY/MM/DD')   VCS9_DELDate
		from QSA7_TOGOMEMOT
		--Where QSA7_DELDate is null
union all
select	/*+ INDEX(QCS9_TOGOMEMOT,XIE1QCS9_TOGOMEMOT) */
		'1'              VCS9_KBN,
		QCS9_MAKEDATE    VCS9_MAKEDATE,
		QCS9_SYSTEMSKBCD VCS9_SYSTEMSKBCD,
		QCS9_MEMOBNRCD   VCS9_MEMOBNRCD,
		QCS9_MEMOCD      VCS9_MEMOCD,
		QCS9_NKNO        VCS9_NKNO,
		QCS9_BLACKNO     VCS9_BLACKNO,
		QCS9_UKETSUKENO  VCS9_UKETSUKENO,
		QCS9_TANTOID     VCS9_TANTOID ,
		nvl(QCS9_TANTONM,QCS9_TANTOID) VCS9_TANTONM,
		QCS9_MEMONM      VCS9_MEMONM,
		QCS9_MEMO        VCS9_MEMO,
		To_Char(QCS9_DELDate,'YYYY/MM/DD')   VCS9_DELDate
		from QCS9_TOGOMEMOT
		--Where QCS9_DELDate is null

/
CREATE OR REPLACE VIEW TCCUSER.QCS9_TOGOMEMOV2
    (QCS9_KBN,QCS9_MAKEDATE,QCS9_SYSTEMSKBCD,QCS9_MEMOBNRCD,QCS9_MEMOCD,
    QCS9_NKNO,QCS9_BLACKNO,QCS9_UKETSUKENO,QCS9_TANTOID,QCS9_TANTONM,QCS9_MEMONM,
    QCS9_MEMO,QCS9_DELDATE,QWA3_PRMKIGYOUCD,QWA3_PRMSUBRANGEKEY,QWA3_PRMNAIBUKAIINNO)
AS
select	'2'                  VCS9_KBN,
		QWA3_PRMSAKUSEIBI    VCS9_MAKEDATE,
		'W'                  VCS9_SYSTEMSKBCD,
		null                 VCS9_MEMOBNRCD,
		QWA3_BUNSHOKANRINO   VCS9_MEMOCD,
		QWA3_PRMNAIBUKAIINNO VCS9_NKNO,
		null                 VCS9_BLACKNO,
		null                 VCS9_UKETSUKENO,
		QWA3_TOUTANTOUSHACD  VCS9_TANTOID ,
		QWA3_TOUTANTOUSHAMEI VCS9_TANTONM,
		substr(QWA3_BUNSHOMEI || '　　　　　　　　　　',1,10) ||
						'  発送日 ' || nvl(to_char(QWA3_HASSOUYMD,'yyyy/mm/dd'),'          ') ||
						'  返却日 ' || nvl(to_char(QWA3_HENKYAKUYMD,'yyyy/mm/dd'),'          ')
								VCS9_MEMONM,
		'手紙名　　：' || QWA3_BUNSHOMEI || chr(13) || chr(10) ||
			'・発送日　：' || to_char(QWA3_HASSOUYMD,'yyyy/mm/dd') || '　　　　　' ||
			'・返却日　：' || to_char(QWA3_HENKYAKUYMD,'yyyy/mm/dd') || '　　　　　' || chr(13) || chr(10) ||
			'・整理番号：' || QWA3_SEIRINO || '　　　　　' || chr(13) || chr(10) ||
			'・戻り理由：' || QWA3_HENKYAKURIYU || ' ' || a.QSA2_MEI || chr(13) || chr(10) ||
			'・状況区分：' || QWA3_JOKYOKBN || ' ' || b.QSA2_MEI
								VCS9_MEMO,
		Null                 VCS9_DELDate,
		QWA3_PRMKIGYOUCD,
		QWA3_PRMSUBRANGEKEY,
		QWA3_PRMNAIBUKAIINNO
		from QWA3_KIJITSUT,QSA2_SCODET a,QSA2_SCODET b
		Where  QWA3_PRMNAIBUKAIINNO <> '99999999'
		  and  a.QSA2_PRMCODEKBN(+) = 'DE2' and  QWA3_HENKYAKURIYU = a.QSA2_PRMCODENO(+)
		  and  b.QSA2_PRMCODEKBN(+) = 'DE5' and  QWA3_JOKYOKBN     = b.QSA2_PRMCODENO(+)

/
CREATE OR REPLACE VIEW TCCUSER.QHAB_SEIRIREKIV
    (QHAB_SEIKYUYM,QHAB_SEQNO,QHAB_BUNKATSUNO,QHAB_VERSIONNO,QHAB_KAIINNO,
    QHAB_SAGYOKBN,QHAB_TOUZAIKBN,QHAB_SEIKYUKNG,QHAB_SEIKYUKNGMOTO,QHAB_MEMO,
    QHAB_HONSHIMEIKAN,QHAB_KANRITENCD,QHAB_KANRITENMEI,QHAB_KOUSHINTANTOCD,
    QHAB_KOUSHINTANTOMEI,QHAB_KOUSHINYMD,QHAB_KOUSHINTIME,QHAB_SAKUJOTANTOCD,
    QHAB_SAKUJOTANTOMEI,QHAB_SAKUJOYMD,QHAB_SAKUJOTIME,QHAB_TOUROKUTANTOCD,
    QHAB_TOUROKUTANTOMEI,QHAB_TOUROKUYMD,QHAB_TOUROKUTIME)
AS
SELECT
  T1.QHA5_KeySeikyuYm,
  T1.QHA5_KeySeqNo,
  TO_CHAR(T1.QHA5_KeyBunkatsuNo,'FM00'),
  TO_CHAR(T1.QHA5_KeyVersionNo,'FM00'),
  T1.QHA5_KaiinNo,
  T1.QHA5_SagyoKbn,
  T1.QHA5_TouzaiKbn,
  T1.QHA5_SeikyuKng,
  DECODE(T2.QHA5_SeikyuKng,NULL,T3.QHA3_SeikyuKng,T2.QHA5_SeikyuKng),
  NVL(T1.QHA5_Memo,' '),
  NVL(RTRIM(QTA1_HonshimeiKan),' '),
  T1.QHA5_TenCd,
  NVL(RTRIM(QTAB_CtnmeiKan1),' '),
  NVL(RTRIM(T1.QHA5_KoushinTantoCd),' '),
  NVL(T1.QHA5_KoushinTantoMei,' '),
  DECODE(T1.QHA5_KoushinDateTime,NULL,' ',TO_CHAR(T1.QHA5_KoushinDateTime,'YYYYMMDD')),
  DECODE(T1.QHA5_KoushinDateTime,NULL,' ',TO_CHAR(T1.QHA5_KoushinDateTime,'HH24MISS')),
  NVL(RTRIM(T1.QHA5_SakujoTantoCd),' '),
  NVL(T1.QHA5_SakujoTantoMei,' '),
  DECODE(T1.QHA5_SakujoDateTime,NULL,' ',TO_CHAR(T1.QHA5_SakujoDateTime,'YYYYMMDD')),
  DECODE(T1.QHA5_SakujoDateTime,NULL,' ',TO_CHAR(T1.QHA5_SakujoDateTime,'HH24MISS')),
  NVL(RTRIM(T1.QHA5_TourokuTantoCd),' '),
  NVL(T1.QHA5_TourokuTantoMei,' '),
  DECODE(T1.QHA5_TourokuDateTime,NULL,' ',TO_CHAR(T1.QHA5_TourokuDateTime,'YYYYMMDD')),
  DECODE(T1.QHA5_TourokuDateTime,NULL,' ',TO_CHAR(T1.QHA5_TourokuDateTime,'HH24MISS'))
 FROM
  QHA5_SeiRirekiT T1, --請求書更新履歴テーブル
  QHA5_SeiRirekiT T2, --請求書更新履歴テーブル(修正前)
  QHA3_SeikyuKaiT T3, --請求書会員情報テーブル
  QTA1_KaiinM,  --会員マスタ
  QTAB_MiseT   --店テーブル
 WHERE
  T1.QHA5_KeySeikyuYm  = T2.QHA5_KeySeikyuYm(+)  AND
  T1.QHA5_KeySeqNo  = T2.QHA5_KeySeqNo(+)   AND
  T1.QHA5_MotoBunkatsuNo = T2.QHA5_KeyBunkatsuNo(+)  AND
  T1.QHA5_MotoVersionNo = T2.QHA5_KeyVersionNo(+)  AND
  '1'      = T3.QHA3_KeyRecShikibetsu(+) AND
  T1.QHA5_KeySeikyuYm  = T3.QHA3_KeySeikyuYm(+)  AND
  T1.QHA5_KeySeqNo  = T3.QHA3_KeySeqNo(+)   AND
  T1.QHA5_MotoBunkatsuNo = T3.QHA3_KeyBunkatsuNo(+)  AND
  T1.QHA5_MotoVersionNo = T3.QHA3_KeyVersionNo(+)  AND
  1      = T3.QHA3_KeyRecNo(+)   AND
  T1.QHA5_KigyoCd   = QTA1_PrmKigyouCd(+)   AND
  T1.QHA5_SubRng   = QTA1_PrmSubRangeKey(+)  AND
  T1.QHA5_NaibuKaiin  = QTA1_PrmNaibuKaiinNo(+)  AND
  T1.QHA5_KigyoCd   = QTAB_PrmKigyouCd(+)   AND
  T1.QHA5_TenCd   = QTAB_PrmEigyoutenCd(+)  AND
  T1.QHA5_SakujoDateTime IS NULL
/
CREATE OR REPLACE VIEW TCCUSER.QJA1_NYURYOV
    (QTAL_PRMKIGYOUCD,QTAL_PRMSUBRANJEKEY,QTAL_PRMNAIBUKAIINNO,QTAL_PRMMEISAINO,
    QTAL_PRMKEIJYOUTUUBAN,QTAL_NYUKINBI,QTAL_NYUKINHASSEIRIYU,QTAL_NYUKINKEIRO,
    QTAL_KNG,QTAL_TOUZAIKBN,QTAL_DENPYOUSHUBETSU,QJA3_PRMRYOUSHUNO,QJA3_HAKKOUKBN,
    QJA3_TORIKESHIKBN,QJA3_HAKKOUBI,QJA3_MOTORYOSHUNO,QJA3_RYJYUBINNO,QJA3_RYJJYUSYO1,
    QJA3_RYJJYUSYO2,QJA3_RYJJYUSYO3,QJA3_RYJJYUSYO4,QJA3_RYJATENA,QJA3_RYJMEIGI1,
    QJA3_RYJMEIGI2,QJA3_RYJKENMEICD,QJA3_RYJKENMEI,QJA3_RYJNYUUKINBI,QJA3_RYJRYOUSHUKNG)
AS
SELECT N.QTAL_PRMKigyouCd,
        N.QTAL_PRMSubRanjeKey,
        N.QTAL_PRMNaibuKaiinNo,
        N.QTAL_PRMMeisaiNo,
	N.QTAL_PRMKeijyouTuuBan,
        N.QTAL_NyukinBi,
        N.QTAL_NyukinHasseiriyu,
        N.QTAL_NyukinKeiro,
        N.QTAL_Kng,
        N.QTAL_TouzaiKbn,
        N.QTAL_DenpyouShubetsu,
        R.QJA3_PRMRyoushuNo,
        R.QJA3_HakkouKbn,
        R.QJA3_TorikeshiKbn,
        R.QJA3_HakkouBi,
        R.QJA3_MotoRyoshuNo,
        R.QJA3_RYJYubinNo,
        R.QJA3_RYJJyusyo1,
        R.QJA3_RYJJyusyo2,
        R.QJA3_RYJJyusyo3,
        R.QJA3_RYJJyusyo4,
        R.QJA3_RYJAtena,
        R.QJA3_RYJMeigi1,
        R.QJA3_RYJMeigi2,
        R.QJA3_RYJKenmeiCd,
        R.QJA3_RYJKenmei,
        R.QJA3_RYJNyuukinBi,
        R.QJA3_RYJRyoushuKng
  FROM  QTAL_NyukinKJT N, QJA3_RyoushushoT R
  WHERE N.QTAL_PRMKigyouCd = R.QJA3_KigyouCd(+)
    AND N.QTAL_PRMSubRanjeKey = R.QJA3_SubRangeKey(+)
    AND N.QTAL_PRMNaibuKaiinNo = R.QJA3_NaibuKaiinNo(+)
    AND N.QTAL_PRMMeisaiNo = R.QJA3_NyukinMeisai(+)
    AND N.QTAL_PRMKeijyouTuuBan = R.QJA3_ShoriNo(+)
    AND R.QJA3_PRMAkaKuroKbn(+) = '0'

/
CREATE OR REPLACE VIEW TCCUSER.QPAV_KASITUKEV
    (QPAV_TORIHIKIYMD,QPAV_TORIHIKIHMS,QPAV_SYAINCD,QPAV_SIMEIKANJI,QPAV_KINGAKU,
    QPAV_DATEYMD,QPAV_WSNAME,QPAV_USERMEI,QPAV_MISECD,QPAV_MISENM,QPAV_BUMONCD,
    QPAV_BUMONNM)
AS
SELECT
		 QPA6_TORIHIKIYMD
		,QPA6_TORIHIKIHMS
		,QPA6_SYAINCD
		,QPAC_SIMEIKANJI
		,QPA6_KINGAKU
		,QPA6_DATEYMD
		,QPA6_WSNAME
		,QUA1_USERMEI
		,QPAC_MISECD
		,QPAE_MISENM
		,QPAC_BUMONCD
		,QPAF_BUMONNM
	FROM
		 QPA6_KGCKASITUKET
		,QPAC_SYAINM
		,QPAE_MISEM
		,QPAF_BUMONM
		,QUA2_USERIDV
	WHERE	QPA6_KGCKASITUKET.QPA6_HOSTSEQ = 'SY'
	AND		QPA6_KGCKASITUKET.QPA6_SYAINCD = QPAC_SYAINM.QPAC_PRMSYAINCD2
	AND		RTRIM(QPA6_KGCKASITUKET.QPA6_WSNAME)  = RTRIM(QUA2_USERIDV.QUA1_USERID)
	AND		QPAC_SYAINM.QPAC_MISECD  = QPAE_MISEM.QPAE_PRMMISECD(+)
	AND		QPAC_SYAINM.QPAC_MISECD  = QPAF_BUMONM.QPAF_PRMMISECD(+)
	AND		QPAC_SYAINM.QPAC_BUMONCD = QPAF_BUMONM.QPAF_PRMBUMONCD(+)

/
CREATE OR REPLACE VIEW TCCUSER.QPAV_MISEV
    (QPAV_MISECD,QPAV_MISENM,QPAV_TOZAIKBNE,QPAV_TOZAIKBNW,QPAV_CODE)
AS
SELECT
   QPAE_MISEM.QPAE_PRMMISECD
  ,QPAE_MISEM.QPAE_MISENM
  ,QPAE_MISEM.QPAE_TOZAIKBNE
  ,QPAE_MISEM.QPAE_TOZAIKBNW
  ,NVL(QPAV_TAKASHIMAV.QPAV_CODE,'OTHER')
 FROM
    QPAE_MISEM
   ,QPAV_TAKASHIMAV
 WHERE QPAE_MISEM.QPAE_PRMMISECD = QPAV_TAKASHIMAV.QPAV_MISECD (+)
/
CREATE OR REPLACE VIEW TCCUSER.QPAV_ZANDAKASUMV
    (QPAV_USERID,QPAV_COMPUTERNM,QPAV_MISECD,QPAV_SYUBETU,QPAV_SYAINCD1,
    QPAV_SYAINCD2,QPAV_SYOSYOZANDAKA,QPAV_KOGUCHIZANDAKA,QPAV_SYOSYOMISYUK,
    QPAV_SYOSYOMISYUS,QPAV_KOGUCHIMISYU)
AS
SELECT
   QPAQ_USERID
  ,QPAQ_COMPUTERNM
  ,QPAQ_MISECD
  ,QPAQ_SYUBETU
  ,QPAQ_SYAINCD1
  ,QPAQ_SYAINCD2
  ,SUM(QPAQ_SYOSYOZANDAKA)
  ,SUM(QPAQ_KOGUCHIZANDAKA)
  ,SUM(QPAQ_SYOSYOMISYUK)
  ,SUM(QPAQ_SYOSYOMISYUS)
  ,SUM(QPAQ_KOGUCHIMISYU)
 FROM QPAQ_ZANDAKAW
 WHERE  (QPAQ_SYOSYOZANDAKA <> 0
 OR  QPAQ_KOGUCHIZANDAKA <> 0)
 GROUP BY QPAQ_USERID,QPAQ_COMPUTERNM,QPAQ_MISECD,QPAQ_SYUBETU
  ,QPAQ_SYAINCD1,QPAQ_SYAINCD2
/
CREATE OR REPLACE VIEW TCCUSER.QRAE_KESSANLISTV
    (QRAE_COMPNM,QRAE_OPEID,QRAE_NENDOKI,QRAE_KAISYA,QRAE_BUSYO,QRAE_TANTONM,
    QRAE_ERRKOUZANM,QRAE_ERRKOUZANO,QRAE_ESTKOUZANM,QRAE_ESTKOUZANO,QRAE_WSTKOUZANM,
    QRAE_WSTKOUZANO,QRAE_KIKAN01,QRAE_GYOSUMCNT01,QRAE_GYOSUMKNG01,QRAE_ERRCN01,
    QRAE_ERRKNG01,QRAE_ESTCN01,QRAE_ESTKNG01,QRAE_WSTCN01,QRAE_WSTKNG01,
    QRAE_KIKAN02,QRAE_GYOSUMCNT02,QRAE_GYOSUMKNG02,QRAE_ERRCN02,QRAE_ERRKNG02,
    QRAE_ESTCN02,QRAE_ESTKNG02,QRAE_WSTCN02,QRAE_WSTKNG02,QRAE_KIKAN03,
    QRAE_GYOSUMCNT03,QRAE_GYOSUMKNG03,QRAE_ERRCN03,QRAE_ERRKNG03,QRAE_ESTCN03,
    QRAE_ESTKNG03,QRAE_WSTCN03,QRAE_WSTKNG03,QRAE_KIKAN04,QRAE_GYOSUMCNT04,
    QRAE_GYOSUMKNG04,QRAE_ERRCN04,QRAE_ERRKNG04,QRAE_ESTCN04,QRAE_ESTKNG04,
    QRAE_WSTCN04,QRAE_WSTKNG04,QRAE_KIKAN05,QRAE_GYOSUMCNT05,QRAE_GYOSUMKNG05,
    QRAE_ERRCN05,QRAE_ERRKNG05,QRAE_ESTCN05,QRAE_ESTKNG05,QRAE_WSTCN05,
    QRAE_WSTKNG05,QRAE_KIKAN06,QRAE_GYOSUMCNT06,QRAE_GYOSUMKNG06,QRAE_ERRCN06,
    QRAE_ERRKNG06,QRAE_ESTCN06,QRAE_ESTKNG06,QRAE_WSTCN06,QRAE_WSTKNG06,
    QRAE_KIKAN07,QRAE_GYOSUMCNT07,QRAE_GYOSUMKNG07,QRAE_ERRCN07,QRAE_ERRKNG07,
    QRAE_ESTCN07,QRAE_ESTKNG07,QRAE_WSTCN07,QRAE_WSTKNG07,QRAE_KIKAN08,
    QRAE_GYOSUMCNT08,QRAE_GYOSUMKNG08,QRAE_ERRCN08,QRAE_ERRKNG08,QRAE_ESTCN08,
    QRAE_ESTKNG08,QRAE_WSTCN08,QRAE_WSTKNG08,QRAE_KIKAN09,QRAE_GYOSUMCNT09,
    QRAE_GYOSUMKNG09,QRAE_ERRCN09,QRAE_ERRKNG09,QRAE_ESTCN09,QRAE_ESTKNG09,
    QRAE_WSTCN09,QRAE_WSTKNG09,QRAE_KIKAN10,QRAE_GYOSUMCNT10,QRAE_GYOSUMKNG10,
    QRAE_ERRCN10,QRAE_ERRKNG10,QRAE_ESTCN10,QRAE_ESTKNG10,QRAE_WSTCN10,
    QRAE_WSTKNG10,QRAE_KIKAN11,QRAE_GYOSUMCNT11,QRAE_GYOSUMKNG11,QRAE_ERRCN11,
    QRAE_ERRKNG11,QRAE_ESTCN11,QRAE_ESTKNG11,QRAE_WSTCN11,QRAE_WSTKNG11,
    QRAE_KIKAN12,QRAE_GYOSUMCNT12,QRAE_GYOSUMKNG12,QRAE_ERRCN12,QRAE_ERRKNG12,
    QRAE_ESTCN12,QRAE_ESTKNG12,QRAE_WSTCN12,QRAE_WSTKNG12,QRAE_KIKAN13,
    QRAE_GYOSUMCNT13,QRAE_GYOSUMKNG13,QRAE_ERRCN13,QRAE_ERRKNG13,QRAE_ESTCN13,
    QRAE_ESTKNG13,QRAE_WSTCN13,QRAE_WSTKNG13,QRAE_KIKAN14,QRAE_GYOSUMCNT14,
    QRAE_GYOSUMKNG14,QRAE_ERRCN14,QRAE_ERRKNG14,QRAE_ESTCN14,QRAE_ESTKNG14,
    QRAE_WSTCN14,QRAE_WSTKNG14,QRAE_KIKAN15,QRAE_GYOSUMCNT15,QRAE_GYOSUMKNG15,
    QRAE_ERRCN15,QRAE_ERRKNG15,QRAE_ESTCN15,QRAE_ESTKNG15,QRAE_WSTCN15,
    QRAE_WSTKNG15,QRAE_KIKAN16,QRAE_GYOSUMCNT16,QRAE_GYOSUMKNG16,QRAE_ERRCN16,
    QRAE_ERRKNG16,QRAE_ESTCN16,QRAE_ESTKNG16,QRAE_WSTCN16,QRAE_WSTKNG16,
    QRAE_KIKAN17,QRAE_GYOSUMCNT17,QRAE_GYOSUMKNG17,QRAE_ERRCN17,QRAE_ERRKNG17,
    QRAE_ESTCN17,QRAE_ESTKNG17,QRAE_WSTCN17,QRAE_WSTKNG17,QRAE_KIKAN18,
    QRAE_GYOSUMCNT18,QRAE_GYOSUMKNG18,QRAE_ERRCN18,QRAE_ERRKNG18,QRAE_ESTCN18,
    QRAE_ESTKNG18,QRAE_WSTCN18,QRAE_WSTKNG18,QRAE_KIKAN19,QRAE_GYOSUMCNT19,
    QRAE_GYOSUMKNG19,QRAE_ERRCN19,QRAE_ERRKNG19,QRAE_ESTCN19,QRAE_ESTKNG19,
    QRAE_WSTCN19,QRAE_WSTKNG19,QRAE_KIKAN20,QRAE_GYOSUMCNT20,QRAE_GYOSUMKNG20,
    QRAE_ERRCN20,QRAE_ERRKNG20,QRAE_ESTCN20,QRAE_ESTKNG20,QRAE_WSTCN20,
    QRAE_WSTKNG20,QRAE_KIKAN21,QRAE_GYOSUMCNT21,QRAE_GYOSUMKNG21,QRAE_ERRCN21,
    QRAE_ERRKNG21,QRAE_ESTCN21,QRAE_ESTKNG21,QRAE_WSTCN21,QRAE_WSTKNG21,
    QRAE_KIKAN22,QRAE_GYOSUMCNT22,QRAE_GYOSUMKNG22,QRAE_ERRCN22,QRAE_ERRKNG22,
    QRAE_ESTCN22,QRAE_ESTKNG22,QRAE_WSTCN22,QRAE_WSTKNG22,QRAE_KIKAN23,
    QRAE_GYOSUMCNT23,QRAE_GYOSUMKNG23,QRAE_ERRCN23,QRAE_ERRKNG23,QRAE_ESTCN23,
    QRAE_ESTKNG23,QRAE_WSTCN23,QRAE_WSTKNG23,QRAE_KIKAN24,QRAE_GYOSUMCNT24,
    QRAE_GYOSUMKNG24,QRAE_ERRCN24,QRAE_ERRKNG24,QRAE_ESTCN24,QRAE_ESTKNG24,
    QRAE_WSTCN24,QRAE_WSTKNG24,QRAE_KIKAN25,QRAE_GYOSUMCNT25,QRAE_GYOSUMKNG25,
    QRAE_ERRCN25,QRAE_ERRKNG25,QRAE_ESTCN25,QRAE_ESTKNG25,QRAE_WSTCN25,
    QRAE_WSTKNG25,QRAE_KIKAN26,QRAE_GYOSUMCNT26,QRAE_GYOSUMKNG26,QRAE_ERRCN26,
    QRAE_ERRKNG26,QRAE_ESTCN26,QRAE_ESTKNG26,QRAE_WSTCN26,QRAE_WSTKNG26,
    QRAE_KIKAN27,QRAE_GYOSUMCNT27,QRAE_GYOSUMKNG27,QRAE_ERRCN27,QRAE_ERRKNG27,
    QRAE_ESTCN27,QRAE_ESTKNG27,QRAE_WSTCN27,QRAE_WSTKNG27,QRAE_KIKAN28,
    QRAE_GYOSUMCNT28,QRAE_GYOSUMKNG28,QRAE_ERRCN28,QRAE_ERRKNG28,QRAE_ESTCN28,
    QRAE_ESTKNG28,QRAE_WSTCN28,QRAE_WSTKNG28,QRAE_KIKAN29,QRAE_GYOSUMCNT29,
    QRAE_GYOSUMKNG29,QRAE_ERRCN29,QRAE_ERRKNG29,QRAE_ESTCN29,QRAE_ESTKNG29,
    QRAE_WSTCN29,QRAE_WSTKNG29,QRAE_KIKAN30,QRAE_GYOSUMCNT30,QRAE_GYOSUMKNG30,
    QRAE_ERRCN30,QRAE_ERRKNG30,QRAE_ESTCN30,QRAE_ESTKNG30,QRAE_WSTCN30,
    QRAE_WSTKNG30,QRAE_KIKAN31,QRAE_GYOSUMCNT31,QRAE_GYOSUMKNG31,QRAE_ERRCN31,
    QRAE_ERRKNG31,QRAE_ESTCN31,QRAE_ESTKNG31,QRAE_WSTCN31,QRAE_WSTKNG31,
    QRAE_KIKAN32,QRAE_GYOSUMCNT32,QRAE_GYOSUMKNG32,QRAE_ERRCN32,QRAE_ERRKNG32,
    QRAE_ESTCN32,QRAE_ESTKNG32,QRAE_WSTCN32,QRAE_WSTKNG32,QRAE_KIKAN33,
    QRAE_GYOSUMCNT33,QRAE_GYOSUMKNG33,QRAE_ERRCN33,QRAE_ERRKNG33,QRAE_ESTCN33,
    QRAE_ESTKNG33,QRAE_WSTCN33,QRAE_WSTKNG33,QRAE_KIKAN34,QRAE_GYOSUMCNT34,
    QRAE_GYOSUMKNG34,QRAE_ERRCN34,QRAE_ERRKNG34,QRAE_ESTCN34,QRAE_ESTKNG34,
    QRAE_WSTCN34,QRAE_WSTKNG34,QRAE_KIKAN35,QRAE_GYOSUMCNT35,QRAE_GYOSUMKNG35,
    QRAE_ERRCN35,QRAE_ERRKNG35,QRAE_ESTCN35,QRAE_ESTKNG35,QRAE_WSTCN35,
    QRAE_WSTKNG35,QRAE_KIKAN36,QRAE_GYOSUMCNT36,QRAE_GYOSUMKNG36,QRAE_ERRCN36,
    QRAE_ERRKNG36,QRAE_ESTCN36,QRAE_ESTKNG36,QRAE_WSTCN36,QRAE_WSTKNG36,
    QRAE_KIKAN37,QRAE_GYOSUMCNT37,QRAE_GYOSUMKNG37,QRAE_ERRCN37,QRAE_ERRKNG37,
    QRAE_ESTCN37,QRAE_ESTKNG37,QRAE_WSTCN37,QRAE_WSTKNG37,QRAE_KIKAN38,
    QRAE_GYOSUMCNT38,QRAE_GYOSUMKNG38,QRAE_ERRCN38,QRAE_ERRKNG38,QRAE_ESTCN38,
    QRAE_ESTKNG38,QRAE_WSTCN38,QRAE_WSTKNG38,QRAE_KIKAN39,QRAE_GYOSUMCNT39,
    QRAE_GYOSUMKNG39,QRAE_ERRCN39,QRAE_ERRKNG39,QRAE_ESTCN39,QRAE_ESTKNG39,
    QRAE_WSTCN39,QRAE_WSTKNG39,QRAE_KIKAN40,QRAE_GYOSUMCNT40,QRAE_GYOSUMKNG40,
    QRAE_ERRCN40,QRAE_ERRKNG40,QRAE_ESTCN40,QRAE_ESTKNG40,QRAE_WSTCN40,
    QRAE_WSTKNG40,QRAE_KIKAN41,QRAE_GYOSUMCNT41,QRAE_GYOSUMKNG41,QRAE_ERRCN41,
    QRAE_ERRKNG41,QRAE_ESTCN41,QRAE_ESTKNG41,QRAE_WSTCN41,QRAE_WSTKNG41,
    QRAE_KIKAN42,QRAE_GYOSUMCNT42,QRAE_GYOSUMKNG42,QRAE_ERRCN42,QRAE_ERRKNG42,
    QRAE_ESTCN42,QRAE_ESTKNG42,QRAE_WSTCN42,QRAE_WSTKNG42,QRAE_KIKAN43,
    QRAE_GYOSUMCNT43,QRAE_GYOSUMKNG43,QRAE_ERRCN43,QRAE_ERRKNG43,QRAE_ESTCN43,
    QRAE_ESTKNG43,QRAE_WSTCN43,QRAE_WSTKNG43)
AS
select
	N01.QRAC_COMPNM
,	N01.QRAC_OPEID
,	N01.QRAC_NENDOKI
,	N01.QRAC_KAISYA
,	N01.QRAC_BUSYO
,	N01.QRAC_TANTONM
,	N01.QRAC_ERRKOUZANM
,	N01.QRAC_ERRKOUZANO
,	N01.QRAC_ESTKOUZANM
,	N01.QRAC_ESTKOUZANO
,	N01.QRAC_WSTKOUZANM
,	N01.QRAC_WSTKOUZANO
,	N01.QRAC_KIKAN	,	N01.QRAC_GYOSUMCNT,	N01.QRAC_GYOSUMKNG
,	N01.QRAC_ERRCNT   ,	N01.QRAC_ERRKNG
,	N01.QRAC_ESTCNT   ,	N01.QRAC_ESTKNG
,	N01.QRAC_WSTCNT   ,	N01.QRAC_WSTKNG
,	N02.QRAC_KIKAN    ,	N02.QRAC_GYOSUMCNT,	N02.QRAC_GYOSUMKNG
,	N02.QRAC_ERRCNT   ,	N02.QRAC_ERRKNG
,	N02.QRAC_ESTCNT   ,	N02.QRAC_ESTKNG
,	N02.QRAC_WSTCNT   ,	N02.QRAC_WSTKNG
,	N03.QRAC_KIKAN    ,	N03.QRAC_GYOSUMCNT,	N03.QRAC_GYOSUMKNG
,	N03.QRAC_ERRCNT   ,	N03.QRAC_ERRKNG
,	N03.QRAC_ESTCNT   ,	N03.QRAC_ESTKNG
,	N03.QRAC_WSTCNT   ,	N03.QRAC_WSTKNG
,	N04.QRAC_KIKAN    ,	N04.QRAC_GYOSUMCNT,	N04.QRAC_GYOSUMKNG
,	N04.QRAC_ERRCNT   ,	N04.QRAC_ERRKNG
,	N04.QRAC_ESTCNT   ,	N04.QRAC_ESTKNG
,	N04.QRAC_WSTCNT   ,	N04.QRAC_WSTKNG
,	N05.QRAC_KIKAN    ,	N05.QRAC_GYOSUMCNT,	N05.QRAC_GYOSUMKNG
,	N05.QRAC_ERRCNT   ,	N05.QRAC_ERRKNG
,	N05.QRAC_ESTCNT   ,	N05.QRAC_ESTKNG
,	N05.QRAC_WSTCNT   ,	N05.QRAC_WSTKNG
,	N06.QRAC_KIKAN    ,	N06.QRAC_GYOSUMCNT,	N06.QRAC_GYOSUMKNG
,	N06.QRAC_ERRCNT   ,	N06.QRAC_ERRKNG
,	N06.QRAC_ESTCNT   ,	N06.QRAC_ESTKNG
,	N06.QRAC_WSTCNT   ,	N06.QRAC_WSTKNG
,	N07.QRAC_KIKAN    ,	N07.QRAC_GYOSUMCNT,	N07.QRAC_GYOSUMKNG
,	N07.QRAC_ERRCNT   ,	N07.QRAC_ERRKNG
,	N07.QRAC_ESTCNT   ,	N07.QRAC_ESTKNG
,	N07.QRAC_WSTCNT   ,	N07.QRAC_WSTKNG
,	N08.QRAC_KIKAN    ,	N08.QRAC_GYOSUMCNT,	N08.QRAC_GYOSUMKNG
,	N08.QRAC_ERRCNT   ,	N08.QRAC_ERRKNG
,	N08.QRAC_ESTCNT   ,	N08.QRAC_ESTKNG
,	N08.QRAC_WSTCNT   ,	N08.QRAC_WSTKNG
,	N09.QRAC_KIKAN    ,	N09.QRAC_GYOSUMCNT,	N09.QRAC_GYOSUMKNG
,	N09.QRAC_ERRCNT   ,	N09.QRAC_ERRKNG
,	N09.QRAC_ESTCNT   ,	N09.QRAC_ESTKNG
,	N09.QRAC_WSTCNT   ,	N09.QRAC_WSTKNG
,	N10.QRAC_KIKAN    ,	N10.QRAC_GYOSUMCNT,	N10.QRAC_GYOSUMKNG
,	N10.QRAC_ERRCNT   ,	N10.QRAC_ERRKNG
,	N10.QRAC_ESTCNT   ,	N10.QRAC_ESTKNG
,	N10.QRAC_WSTCNT   ,	N10.QRAC_WSTKNG
,	N11.QRAC_KIKAN    ,	N11.QRAC_GYOSUMCNT,	N11.QRAC_GYOSUMKNG
,	N11.QRAC_ERRCNT   ,	N11.QRAC_ERRKNG
,	N11.QRAC_ESTCNT   ,	N11.QRAC_ESTKNG
,	N11.QRAC_WSTCNT   ,	N11.QRAC_WSTKNG
,	N12.QRAC_KIKAN    ,	N12.QRAC_GYOSUMCNT,	N12.QRAC_GYOSUMKNG
,	N12.QRAC_ERRCNT   ,	N12.QRAC_ERRKNG
,	N12.QRAC_ESTCNT   ,	N12.QRAC_ESTKNG
,	N12.QRAC_WSTCNT   ,	N12.QRAC_WSTKNG
,	N13.QRAC_KIKAN    ,	N13.QRAC_GYOSUMCNT,	N13.QRAC_GYOSUMKNG
,	N13.QRAC_ERRCNT   ,	N13.QRAC_ERRKNG
,	N13.QRAC_ESTCNT   ,	N13.QRAC_ESTKNG
,	N13.QRAC_WSTCNT   ,	N13.QRAC_WSTKNG
,	N14.QRAC_KIKAN    ,	N14.QRAC_GYOSUMCNT,	N14.QRAC_GYOSUMKNG
,	N14.QRAC_ERRCNT   ,	N14.QRAC_ERRKNG
,	N14.QRAC_ESTCNT   ,	N14.QRAC_ESTKNG
,	N14.QRAC_WSTCNT   ,	N14.QRAC_WSTKNG
,	N15.QRAC_KIKAN    ,	N15.QRAC_GYOSUMCNT,	N15.QRAC_GYOSUMKNG
,	N15.QRAC_ERRCNT   ,	N15.QRAC_ERRKNG
,	N15.QRAC_ESTCNT   ,	N15.QRAC_ESTKNG
,	N15.QRAC_WSTCNT   ,	N15.QRAC_WSTKNG
,	N16.QRAC_KIKAN    ,	N16.QRAC_GYOSUMCNT,	N16.QRAC_GYOSUMKNG
,	N16.QRAC_ERRCNT   ,	N16.QRAC_ERRKNG
,	N16.QRAC_ESTCNT   ,	N16.QRAC_ESTKNG
,	N16.QRAC_WSTCNT   ,	N16.QRAC_WSTKNG
,	N17.QRAC_KIKAN    ,	N17.QRAC_GYOSUMCNT,	N17.QRAC_GYOSUMKNG
,	N17.QRAC_ERRCNT   ,	N17.QRAC_ERRKNG
,	N17.QRAC_ESTCNT   ,	N17.QRAC_ESTKNG
,	N17.QRAC_WSTCNT   ,	N17.QRAC_WSTKNG
,	N18.QRAC_KIKAN    ,	N18.QRAC_GYOSUMCNT,	N18.QRAC_GYOSUMKNG
,	N18.QRAC_ERRCNT   ,	N18.QRAC_ERRKNG
,	N18.QRAC_ESTCNT   ,	N18.QRAC_ESTKNG
,	N18.QRAC_WSTCNT   ,	N18.QRAC_WSTKNG
,	N19.QRAC_KIKAN    ,	N19.QRAC_GYOSUMCNT,	N19.QRAC_GYOSUMKNG
,	N19.QRAC_ERRCNT   ,	N19.QRAC_ERRKNG
,	N19.QRAC_ESTCNT   ,	N19.QRAC_ESTKNG
,	N19.QRAC_WSTCNT   ,	N19.QRAC_WSTKNG
,	N20.QRAC_KIKAN    ,	N20.QRAC_GYOSUMCNT,	N20.QRAC_GYOSUMKNG
,	N20.QRAC_ERRCNT   ,	N20.QRAC_ERRKNG
,	N20.QRAC_ESTCNT   ,	N20.QRAC_ESTKNG
,	N20.QRAC_WSTCNT   ,	N20.QRAC_WSTKNG
,	N21.QRAC_KIKAN    ,	N21.QRAC_GYOSUMCNT,	N21.QRAC_GYOSUMKNG
,	N21.QRAC_ERRCNT   ,	N21.QRAC_ERRKNG
,	N21.QRAC_ESTCNT   ,	N21.QRAC_ESTKNG
,	N21.QRAC_WSTCNT   ,	N21.QRAC_WSTKNG
,	N22.QRAC_KIKAN    ,	N22.QRAC_GYOSUMCNT,	N22.QRAC_GYOSUMKNG
,	N22.QRAC_ERRCNT   ,	N22.QRAC_ERRKNG
,	N22.QRAC_ESTCNT   ,	N22.QRAC_ESTKNG
,	N22.QRAC_WSTCNT   ,	N22.QRAC_WSTKNG
,	N23.QRAC_KIKAN    ,	N23.QRAC_GYOSUMCNT,	N23.QRAC_GYOSUMKNG
,	N23.QRAC_ERRCNT   ,	N23.QRAC_ERRKNG
,	N23.QRAC_ESTCNT   ,	N23.QRAC_ESTKNG
,	N23.QRAC_WSTCNT   ,	N23.QRAC_WSTKNG
,	N24.QRAC_KIKAN    ,	N24.QRAC_GYOSUMCNT,	N24.QRAC_GYOSUMKNG
,	N24.QRAC_ERRCNT   ,	N24.QRAC_ERRKNG
,	N24.QRAC_ESTCNT   ,	N24.QRAC_ESTKNG
,	N24.QRAC_WSTCNT   ,	N24.QRAC_WSTKNG
,	N25.QRAC_KIKAN    ,	N25.QRAC_GYOSUMCNT,	N25.QRAC_GYOSUMKNG
,	N25.QRAC_ERRCNT   ,	N25.QRAC_ERRKNG
,	N25.QRAC_ESTCNT   ,	N25.QRAC_ESTKNG
,	N25.QRAC_WSTCNT   ,	N25.QRAC_WSTKNG
,	N26.QRAC_KIKAN    ,	N26.QRAC_GYOSUMCNT,	N26.QRAC_GYOSUMKNG
,	N26.QRAC_ERRCNT   ,	N26.QRAC_ERRKNG
,	N26.QRAC_ESTCNT   ,	N26.QRAC_ESTKNG
,	N26.QRAC_WSTCNT   ,	N26.QRAC_WSTKNG
,	N27.QRAC_KIKAN    ,	N27.QRAC_GYOSUMCNT,	N27.QRAC_GYOSUMKNG
,	N27.QRAC_ERRCNT   ,	N27.QRAC_ERRKNG
,	N27.QRAC_ESTCNT   ,	N27.QRAC_ESTKNG
,	N27.QRAC_WSTCNT   ,	N27.QRAC_WSTKNG
,	N28.QRAC_KIKAN    ,	N28.QRAC_GYOSUMCNT,	N28.QRAC_GYOSUMKNG
,	N28.QRAC_ERRCNT   ,	N28.QRAC_ERRKNG
,	N28.QRAC_ESTCNT   ,	N28.QRAC_ESTKNG
,	N28.QRAC_WSTCNT   ,	N28.QRAC_WSTKNG
,	N29.QRAC_KIKAN    ,	N29.QRAC_GYOSUMCNT,	N29.QRAC_GYOSUMKNG
,	N29.QRAC_ERRCNT   ,	N29.QRAC_ERRKNG
,	N29.QRAC_ESTCNT   ,	N29.QRAC_ESTKNG
,	N29.QRAC_WSTCNT   ,	N29.QRAC_WSTKNG
,	N30.QRAC_KIKAN    ,	N30.QRAC_GYOSUMCNT,	N30.QRAC_GYOSUMKNG
,	N30.QRAC_ERRCNT   ,	N30.QRAC_ERRKNG
,	N30.QRAC_ESTCNT   ,	N30.QRAC_ESTKNG
,	N30.QRAC_WSTCNT   ,	N30.QRAC_WSTKNG
,	N31.QRAC_KIKAN    ,	N31.QRAC_GYOSUMCNT,	N31.QRAC_GYOSUMKNG
,	N31.QRAC_ERRCNT   ,	N31.QRAC_ERRKNG
,	N31.QRAC_ESTCNT   ,	N31.QRAC_ESTKNG
,	N31.QRAC_WSTCNT   ,	N31.QRAC_WSTKNG
,	N32.QRAC_KIKAN    ,	N32.QRAC_GYOSUMCNT,	N32.QRAC_GYOSUMKNG
,	N32.QRAC_ERRCNT   ,	N32.QRAC_ERRKNG
,	N32.QRAC_ESTCNT   ,	N32.QRAC_ESTKNG
,	N32.QRAC_WSTCNT   ,	N32.QRAC_WSTKNG
,	N33.QRAC_KIKAN    ,	N33.QRAC_GYOSUMCNT,	N33.QRAC_GYOSUMKNG
,	N33.QRAC_ERRCNT   ,	N33.QRAC_ERRKNG
,	N33.QRAC_ESTCNT   ,	N33.QRAC_ESTKNG
,	N33.QRAC_WSTCNT   ,	N33.QRAC_WSTKNG
,	N34.QRAC_KIKAN    ,	N34.QRAC_GYOSUMCNT,	N34.QRAC_GYOSUMKNG
,	N34.QRAC_ERRCNT   ,	N34.QRAC_ERRKNG
,	N34.QRAC_ESTCNT   ,	N34.QRAC_ESTKNG
,	N34.QRAC_WSTCNT   ,	N34.QRAC_WSTKNG
,	N35.QRAC_KIKAN    ,	N35.QRAC_GYOSUMCNT,	N35.QRAC_GYOSUMKNG
,	N35.QRAC_ERRCNT   ,	N35.QRAC_ERRKNG
,	N35.QRAC_ESTCNT   ,	N35.QRAC_ESTKNG
,	N35.QRAC_WSTCNT   ,	N35.QRAC_WSTKNG
,	N36.QRAC_KIKAN    ,	N36.QRAC_GYOSUMCNT,	N36.QRAC_GYOSUMKNG
,	N36.QRAC_ERRCNT   ,	N36.QRAC_ERRKNG
,	N36.QRAC_ESTCNT   ,	N36.QRAC_ESTKNG
,	N36.QRAC_WSTCNT   ,	N36.QRAC_WSTKNG
,	N37.QRAC_KIKAN    ,	N37.QRAC_GYOSUMCNT,	N37.QRAC_GYOSUMKNG
,	N37.QRAC_ERRCNT   ,	N37.QRAC_ERRKNG
,	N37.QRAC_ESTCNT   ,	N37.QRAC_ESTKNG
,	N37.QRAC_WSTCNT   ,	N37.QRAC_WSTKNG
,	N38.QRAC_KIKAN    ,	N38.QRAC_GYOSUMCNT,	N38.QRAC_GYOSUMKNG
,	N38.QRAC_ERRCNT   ,	N38.QRAC_ERRKNG
,	N38.QRAC_ESTCNT   ,	N38.QRAC_ESTKNG
,	N38.QRAC_WSTCNT   ,	N38.QRAC_WSTKNG
,	N39.QRAC_KIKAN    ,	N39.QRAC_GYOSUMCNT,	N39.QRAC_GYOSUMKNG
,	N39.QRAC_ERRCNT   ,	N39.QRAC_ERRKNG
,	N39.QRAC_ESTCNT   ,	N39.QRAC_ESTKNG
,	N39.QRAC_WSTCNT   ,	N39.QRAC_WSTKNG
,	N40.QRAC_KIKAN    ,	N40.QRAC_GYOSUMCNT,	N40.QRAC_GYOSUMKNG
,	N40.QRAC_ERRCNT   ,	N40.QRAC_ERRKNG
,	N40.QRAC_ESTCNT   ,	N40.QRAC_ESTKNG
,	N40.QRAC_WSTCNT   ,	N40.QRAC_WSTKNG
,	N41.QRAC_KIKAN    ,	N41.QRAC_GYOSUMCNT,	N41.QRAC_GYOSUMKNG
,	N41.QRAC_ERRCNT   ,	N41.QRAC_ERRKNG
,	N41.QRAC_ESTCNT   ,	N41.QRAC_ESTKNG
,	N41.QRAC_WSTCNT   ,	N41.QRAC_WSTKNG
,	N42.QRAC_KIKAN    ,	N42.QRAC_GYOSUMCNT,	N42.QRAC_GYOSUMKNG
,	N42.QRAC_ERRCNT   ,	N42.QRAC_ERRKNG
,	N42.QRAC_ESTCNT   ,	N42.QRAC_ESTKNG
,	N42.QRAC_WSTCNT   ,	N42.QRAC_WSTKNG
,	N43.QRAC_KIKAN    ,	N43.QRAC_GYOSUMCNT,	N43.QRAC_GYOSUMKNG
,	N43.QRAC_ERRCNT   ,	N43.QRAC_ERRKNG
,	N43.QRAC_ESTCNT   ,	N43.QRAC_ESTKNG
,	N43.QRAC_WSTCNT   ,	N43.QRAC_WSTKNG
from
	(select * from QRAC_KessanRepWT where QRAC_SEQNO =  1) N01
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO =  2) N02
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO =  3) N03
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO =  4) N04
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO =  5) N05
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO =  6) N06
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO =  7) N07
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO =  8) N08
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO =  9) N09
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 10) N10
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 11) N11
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 12) N12
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 13) N13
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 14) N14
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 15) N15
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 16) N16
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 17) N17
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 18) N18
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 19) N19
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 20) N20
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 21) N21
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 22) N22
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 23) N23
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 24) N24
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 25) N25
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 26) N26
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 27) N27
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 28) N28
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 29) N29
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 30) N30
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 31) N31
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 32) N32
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 33) N33
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 34) N34
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 35) N35
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 36) N36
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 37) N37
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 38) N38
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 39) N39
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 40) N40
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 41) N41
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 42) N42
,	(select * from QRAC_KessanRepWT where QRAC_SEQNO = 43) N43
where
	(N01.QRAC_COMPNM	=	N02.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N02.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N03.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N03.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N04.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N04.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N05.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N05.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N06.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N06.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N07.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N07.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N08.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N08.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N09.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N09.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N10.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N10.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N11.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N11.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N12.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N12.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N13.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N13.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N14.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N14.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N15.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N15.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N16.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N16.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N17.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N17.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N18.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N18.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N19.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N19.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N20.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N20.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N21.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N21.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N22.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N22.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N23.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N23.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N24.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N24.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N25.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N25.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N26.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N26.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N27.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N27.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N28.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N28.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N29.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N29.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N30.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N30.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N31.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N31.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N32.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N32.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N33.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N33.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N34.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N34.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N35.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N35.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N36.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N36.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N37.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N37.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N38.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N38.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N39.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N39.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N40.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N40.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N41.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N41.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N42.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N42.QRAC_OPEID)
and	(N01.QRAC_COMPNM	=	N43.QRAC_COMPNM
and	N01.QRAC_OPEID	=	N43.QRAC_OPEID)

/
CREATE OR REPLACE VIEW TCCUSER.QSA6_KAIINITIRANV
    (QTA1_GKNSHIKIBETSUNO,QTA1_GKNEDABAN,QTA1_TENEIGYOU,QTA1_TENKAKUTOKU,
    QTA1_CARDKBN,QTA1_HONSHIMEIKANA,QTA1_HONSHIMEIKAN,QTA1_HONSEINENGAPPI,
    QTA1_HONSEX,QTA1_JTKTELSHIGAI,QTA1_JTKTELKYOKU,QTA1_JTKTELNO,QTA1_JTKJUSHOKANA,
    QTA1_JTKJUSHOKAN,QTA1_JTKBANCHIKANA,QTA1_JTKBANCHIKAN,QTA1_JTKKATAKANA,
    QTA1_JTKKATAKAN,QTA1_CIFNO,QTA1_KOZGINKOUCD,QTA1_KOZGINKOUMEI,QTA1_KOZSHITENCD,
    QTA1_KOZSHITENMEI,QTA1_KOZSHUMOKU,QTA1_KOZNO,QTA1_KOZMEIGI,QTA1_ATUKAKARI,
    QTA2_KZKSHIMEIKANA,QTA2_KZKSHIMEIKAN,QTA2_KZKSEX,QTA2_CIFNO,QTA2_EDABAN,
    QTA2_KZKSEINENGAPPI,QTAC_PRMBLACKNO,QTAC_TENEIGYOUCD,QTAC_TENKAKUTOKU,
    QTAC_BLACKRIYU,QTAC_BLACKRIYUTUIKI,QTAC_CIFNO,QTAC_HONSHIMEIKANA,QTAC_HONSHIMEIKAN,
    QTAC_HONSEINENGAPPI,QTAC_HONSEX,QTAC_JTKTELSHIGAI,QTAC_JTKTELKYOKU,
    QTAC_JTKTELNO,QTAC_JTKJUSHOCD,QTAC_JTKBANCHIKANA,QTAC_JTKBANCHIKAN,
    QTAC_JTKKATAKANA,QTAC_JTKKATAKAN,QTAC_CARDKBN,QTAC_KAIINNO,QTAS_SHIMEI,
    QTAS_TELNO,QTAS_HONMAESHIMEI,QTAS_HONMAETELNO,QTAS_PRMCIFNO,QTAS_KIGYOUCD,
    QTAS_SUBRANGEKEY,QTAS_NOJNAIBUKAIINNO,QTAS_HONSEINENGAPPI)
AS
SELECT QTA1_GKNShikibetsuNo,QTA1_GKNEdaban,
	QTA1_TENEigyou,QTA1_TENKakutoku,
	QTA1_CardKbn,QTA1_HONShimeiKana,
	QTA1_HONShimeiKan,QTA1_HONSeinengappi,
	QTA1_HONSex,QTA1_JTKTelShigai,
	QTA1_JTKTelKyoku,QTA1_JTKTelNo,
	QTA1_JTKJushokana,QTA1_JTKJushoKan,
	QTA1_JTKBanchiKana,QTA1_JTKBanchiKan,
	QTA1_JTKKataKana,QTA1_JTKKataKan,
	QTA1_CIFNo,QTA1_KOZGinkouCD,
	QTA1_KOZGinkouMei,QTA1_KOZShitenCd,
	QTA1_KOZShitenMei,QTA1_KOZShumoku,
	QTA1_KOZNo,QTA1_KOZMeigi,QTA1_ATUKakari,
	QTA2_KZKShimeiKana,QTA2_KZKShimeiKan,
	QTA2_KZKSex,QTA2_CIFNo,QTA2_Edaban,
	QTA2_KZKSeinengappi,
	QTAC_PRMBlackNo,QTAC_TENEigyouCd,
	QTAC_TENKakutoku,QTAC_BlackRiyu,
	QTAC_BlackRiyuTuiki,QTAC_CIFNo,
	QTAC_HONShimeiKana,QTAC_HONShimeiKan,
	QTAC_HONSeinengappi,QTAC_HONSex,
	QTAC_JTKTelShigai,QTAC_JTKTelKyoku,
	QTAC_JTKTelNo,QTAC_JTKJushoCd,
	QTAC_JTKBanchiKana,QTAC_JTKBanchiKan,
	QTAC_JTKKataKana,QTAC_JTKKataKan,
	QTAC_CardKbn,QTAC_KaiinNo,
	QTAS_Shimei,QTAS_TelNo,QTAS_HONMaeShimei,
	QTAS_HONMaeTelNo,QTAS_PRMCIFNo,
	QTAS_KigyouCd,QTAS_SubRangeKey,QTAS_NOJNaibuKaiinNo,
	QTAS_HONSeinengappi
 FROM  	QTA1_KaiinM KainM, QTA2_KaiinKazokM KazokuM,
	QTAC_BlackT BlackT,QTAS_NameSearchMS NameS
 WHERE 	(NameS.QTAS_KigyouCd = KainM.QTA1_PRMKigyouCd(+)
 AND	NameS.QTAS_SubRangeKey = KainM.QTA1_PRMSubRangeKey(+)
 AND	NameS.QTAS_NOJNaibuKaiinNo = KainM.QTA1_PRMNaibuKaiinNo(+))
 AND 	(NameS.QTAS_PRMCIFNo = KazokuM.QTA2_CIFNo(+)
 AND	NameS.QTAS_KigyouCd = KazokuM.QTA2_PRMKigyouCd(+)
 AND	NameS.QTAS_SubRangeKey = KazokuM.QTA2_PRMSubRangeKey(+)
 AND	NameS.QTAS_NOJNaibuKaiinNo = KazokuM.QTA2_PRMNaibuKaiinNo(+))
 AND	(NameS.QTAS_NOJBlackNo = BlackT.QTAC_PRMBlackNo(+))

/
CREATE OR REPLACE VIEW TCCUSER.QSA7_TOGOMEMOV
    (VSA7_MAKEDATE,VSA7_SYSTEMSKBCD,VSA7_MEMOBNRCD,VSA7_MEMOCD,VSA7_NKNO,
    VSA7_BLACKNO,VSA7_UKETSUKENO,VSA7_TANTOID,VSA7_TANTONM,VSA7_MEMONM,
    VSA7_MEMO)
AS
select 		QSA7_MAKEDATE    VSA7_MAKEDATE,
		QSA7_SYSTEMSKBCD VSA7_SYSTEMSKBCD,
		QSA7_MEMOBNRCD   VSA7_MEMOBNRCD,
		QSA7_MEMOCD      VSA7_MEMOCD,
		rtrim(QSA7_NKNO) VSA7_NKNO,
		QSA7_BLACKNO     VSA7_BLACKNO,
		QSA7_UKETSUKENO  VSA7_UKETSUKENO,
		QSA7_TANTOID     VSA7_TANTOID ,
		nvl(QSA7_TANTONM,QSA7_TANTOID) VSA7_TANTONM,
		QSA7_MEMONM      VSA7_MEMONM,
		QSA7_MEMO        VSA7_MEMO
		from QSA7_TOGOMEMOT
		Where QSA7_DELDate is null
union all
select 		QWA3_PRMSAKUSEIBI    VSA7_MAKEDATE,
		'W'                  VSA7_SYSTEMSKBCD,
		null                 VSA7_MEMOBNRCD,
		QWA3_BUNSHOKANRINO   VSA7_MEMOCD,
		QWA3_PRMNAIBUKAIINNO VSA7_NKNO,
		null                 VSA7_BLACKNO,
		null                 VSA7_UKETSUKENO,
		QWA3_TOUTANTOUSHACD  VSA7_TANTOID ,
		QWA3_TOUTANTOUSHAMEI VSA7_TANTONM,
		substr(QWA3_BUNSHOMEI || '　　　　　　　　　　',1,10) ||
						'  発送日 ' || nvl(to_char(QWA3_HASSOUYMD,'yyyy/mm/dd'),'          ') ||
						'  返却日 ' || nvl(to_char(QWA3_HENKYAKUYMD,'yyyy/mm/dd'),'          ')
                                 VSA7_MEMONM,
		'手紙名　　：' || QWA3_BUNSHOMEI || chr(13) || chr(10) ||
			'・発送日　：' || to_char(QWA3_HASSOUYMD,'yyyy/mm/dd') || '　　　　　' ||
			'・返却日　：' || to_char(QWA3_HENKYAKUYMD,'yyyy/mm/dd') || '　　　　　' || chr(13) || chr(10) ||
			'・整理番号：' || QWA3_SEIRINO || '　　　　　' || chr(13) || chr(10) ||
			'・戻り理由：' || QWA3_HENKYAKURIYU || ' ' || a.QSA2_MEI || chr(13) || chr(10) ||
			'・状況区分：' || QWA3_JOKYOKBN || ' ' || b.QSA2_MEI
                                 VSA7_MEMO
		from QWA3_KIJITSUT,QSA2_SCODET a,QSA2_SCODET b
		Where  QWA3_PRMNAIBUKAIINNO <> '99999999'
		  and  a.QSA2_PRMCODEKBN(+) = 'DE2' and  QWA3_HENKYAKURIYU = a.QSA2_PRMCODENO(+)
		  and  b.QSA2_PRMCODEKBN(+) = 'DE5' and  QWA3_JOKYOKBN     = b.QSA2_PRMCODENO(+)
union all
select 	QBK1_PRMHASOUINYMD VSA7_MAKEDATE,
		'K' VSA7_SYSTEMSKBCD,
		null VSA7_MEMOBNRCD,
		null VSA7_MEMOCD,
		QBK1_PRMNAIBUKAIINNO VSA7_NKNO,
		null VSA7_BLACKNO,
		null VSA7_UKETSUKENO,
		null VSA7_TANTOID ,
		QBK1_KOUHASOTANTOMEI VSA7_TANTONM,
		'発送日 ' || nvl(to_char(QBK1_DATHASOUYMD,'yyyy/mm/dd'),'          ') ||
			'  返却日 ' || nvl(to_char(QBK1_DATHENKYAKUYMD,'yyyy/mm/dd'),'          ') ||
			'  結果 ' || QBK1_HEKHENKYAKUKBN VSA7_MEMONM,
		QSAP_ActX701PKG.QSAP_ActX7011 ( QBK1_SOHGINKOUCD	,
							            QBK1_SOHSHITENCD	,
							            QBK1_SOHKAKUNINKBN	,
							            QBK1_HEKHENKYAKUKBN	,
							            QBK1_HEKRIYUCD1		,
							            QBK1_HEKRIYUCD2		,
							            QBK1_HEKRIYUCD3		,
							            QBK1_HEKRIYUCD4		,
							            QBK1_HEKRIYUCD5		,
							            QBK1_HEKRIYUCD6		,
							            QBK1_KOZGINKOUCD	,
							            QBK1_KOZSHITENCD	,
							            QBK1_KOZSHUMOKU		,
							            QBK1_KOZYUCHOSAIHATU,
							            QBK1_KOZNO			,
							            QBK1_KOZMEIGI		,
							            QBK1_DATHASOUYMD	,
							            QBK1_DATHENKYAKUYMD	,
							            QBK1_GYOUMUKBN		,
							            QBK1_JFHSEIKYUYM	,
							            QBK1_JFHHURIKAEKEKACD,
										QBK1_SOHTOUZAIKBN	,
										QBK1_SOHSOUFUSAKIKBN
									  ) VSA7_MEMO
		from QBK1_KFURIT
		Where  QBK1_PRMNAIBUKAIINNO <> '99999999'
/
--CREATE OR REPLACE VIEW TCCUSER.QTAF_RIYOUDTV
--    (QTAF_PRMKIGYOUCD,QTAF_PRMSUBRANGEKEY,QTAF_PRMNAIBUKAIINNO,QTAF_PRMTORIHIKINO,
--    QTAF_RECKBN,QTAF_AKAKUROKBN,QTAF_SEIKYUHORYUKBN,QTAF_RIYOUBI,QTAF_KEIJYOUBI,
--    QTAF_HASSEITEN,QTAF_GYOUSU,QTAF_GKGSHIHARAIHOHO,QTAF_GKGATOSHOUHIZEI,
--    QTAF_GKGATAMAKIN,QTAF_GKGRIYOUSHACD,QTAF_GENTIKAKAKU_MIDASI,QTAF_ISOTUUKA,
--    QTAF_GKGGENTIKAKAKU,QTAF_GKGKOKUNAIKAIGAI,QTAG_PRMGYOUNO,QTAG_GMSSEIKYUKANJI,
--    QTAG_GMSSURYOU,QTAG_GMSKNG,QTAG_GMSBUBIKIGAKU,QTAG_GMSZEIKBN)
--AS
--SELECT
--         A.QTAF_PRMKIGYOUCD
--        ,A.QTAF_PRMSUBRANGEKEY
--        ,A.QTAF_PRMNAIBUKAIINNO
--        ,A.QTAF_PRMTORIHIKINO
--        ,A.QTAF_RECKBN
--        ,A.QTAF_AKAKUROKBN
--        ,A.QTAF_SEIKYUHORYUKBN
--        ,A.QTAF_RIYOUBI
--        ,A.QTAF_KEIJYOUBI
--        ,A.QTAF_HASSEITEN
--        ,A.QTAF_GYOUSU
--        ,A.QTAF_GKGSHIHARAIHOHO
--        ,A.QTAF_GKGATOSHOUHIZEI
--        ,A.QTAF_GKGATAMAKIN
--        ,A.QTAF_GKGRIYOUSHACD
--        ,'（現地価格　'
--        ,A.QTAF_ISOTUUKA
--        ,A.QTAF_GKGGENTIKAKAKU
--        ,A.QTAF_GKGKOKUNAIKAIGAI
--        ,B.QTAG_PRMGYOUNO
--        ,B.QTAG_GMSSEIKYUKANJI
--        ,B.QTAG_GMSSURYOU
--        ,B.QTAG_GMSKNG
--        ,B.QTAG_GMSBUBIKIGAKU
--        ,B.QTAG_GMSZEIKBN
--FROM     QTAF_RIYOUDTLT A
--        ,QTAG_RIYOUDTLGT B
--WHERE    A.QTAF_PRMKIGYOUCD     = B.QTAG_PRMKIGYOUCD (+)
--AND      A.QTAF_PRMSUBRANGEKEY  = B.QTAG_PRMSUBRANGEKEY (+)
--AND      A.QTAF_PRMNAIBUKAIINNO = B.QTAG_PRMNAIBUKAIINNO (+)
--AND      A.QTAF_PRMTORIHIKINO   = B.QTAG_PRMTORIHIKINO (+)
--AND      A.QTAF_AKAKUROKBN     != '1'
--AND      A.QTAF_AKAKUROKBN     != '2'
--AND      A.QTAF_SEIKYUHORYUKBN != '1'
--/
CREATE OR REPLACE VIEW TCCUSER.QTAT_NYUKINLISTV
    (QTAT_PRMKIGYOUCD,QTAT_PRMSUBRANJEKEY,QTAT_PRMNAIBUKAIINNO,QTAT_PRMMEISAINO,
    QTAT_PRMSHORITOORIBAN,QTAT_TOUZAIKBN,QTAT_NYUKINHASSEITEN,QTAT_KEIJYOUBI,
    QTAT_NYUKINBI,QTAT_NYUKINHASSEIRIYU,QTAT_NYUKINKEIRO,QTAT_KEIROHONYAKUCHI,
    QTAT_DENPYOUSHUBETSU,QTAT_DENPYOUNO,QTAT_KNG,QTAT_BUNKAIKBN,QTAT_BUNKAIKBNHONYAKU,
    QTAT_SEIKYUNENGETSU,QTAT_SHIHARAIHOHO,QTAT_HOUHOUHONYAKUCHI,QTAT_JTJGENPON,
    QTAT_JTJTESURYOU,QTAT_JTJSONGAIKIN,QTAT_JTJMODOSIRISOKU)
AS
select
QTAL_PRMKigyouCd,QTAL_PRMSubRanjeKey,
QTAL_PRMNaibuKaiinNo, QTAL_PRMMeisaiNo, QTAL_PRMKeijyouTuuBan,
QTAL_TouzaiKbn, QTAL_NyukinHasseiTen,
QTAL_KeijyouBi, QTAL_NyukinBi, QTAL_NyukinHasseiRiyu,
QTAL_NyukinKeiro, QTAL_KeiroHonyakuchi, QTAL_DenpyouShubetsu, QTAL_DenpyouNo,
QTAL_Kng,
' ', ' ', 0,' ',
' ',0,
0,0,0
from QTAL_NyukinKJT
union
select
QTAM_PRMKigyouCd,QTAM_PRMSubRanjiKey,
QTAM_PRMNaibuKaiinNo, QTAM_PRMNyukinMeisai, QTAM_PRMShoriTuuBan,
QTAM_TouzaiKbn, QTAM_NyukinHasseiTen,
QTAM_BunkaiBi, QTAM_NyukinBi, ' ',
' ', ' ', QTAM_DenpyouSyubetsu, ' ',
0,
QTAM_BunkaiKbn, QTAM_BunkaiKbnHonyaku, QTAM_SeikyuNengetsu, QTAM_ShiharaiHoho,
QTAM_HouhouHonyakuChi, QTAM_JTJGenpon,
QTAM_JTJTesuryou76 + QTAM_JTJTesuryou16  + QTAM_JTJJimTesuryou,
QTAM_JTJSongaikin, QTAM_JTJModosiRisoku
from QTAM_NyukinSPT
/
CREATE OR REPLACE VIEW TCCUSER.QTB1_KAIINMV
    (QTA1_PRMKIGYOUCD,QTA1_PRMSUBRANGEKEY,QTA1_PRMNAIBUKAIINNO,QTA1_RECKBN,
    QTA1_ZANDAKAKANRIKBN,QTA1_KAIJOKBN,QTA1_10TO16KBN,QTA1_GKNSHIKIBETSUNO,
    QTA1_GKNEDABAN,QTA1_TENKAISHA,QTA1_TENSAIKENKANRI,QTA1_TENEIGYOU,QTA1_TENDM,
    QTA1_TENJIGYOHONBU,QTA1_TENKAKUTOKU,QTA1_CARDKBN,QTA1_TRSSYOKU1,QTA1_TRSSYOKU2,
    QTA1_TRSSBONUS1,QTA1_TRSSBONUS2,QTA1_TRSSKAPPU,QTA1_TRSSREVOLVING,QTA1_TRSSHANBAI,
    QTA1_TRSSKAKEURI,QTA1_TRSCREVOLVING,QTA1_TRSCYOKU1,QTA1_CARDLOANUSEKBN,
    QTA1_HENSAIHOUHOU,QTA1_SIHARAIYOTEIBI,QTA1_REVSMAITSUKI,QTA1_REVSBONUS,
    QTA1_REVCMAITSUKI,QTA1_REVCBONUS,QTA1_BBKSHUBETSU,QTA1_BBKRITSU,QTA1_ASNGEN,
    QTA1_ANSKYUU,QTA1_ANSHENKOUYMD,QTA1_NYKUKETSUKENO,QTA1_NYKUKETSUKEYMD,
    QTA1_NYKKESSAIYMD,QTA1_YUKOKIGEN,QTA1_KTKROUTE,QTA1_KTKSHOUKAISHACD,
    QTA1_YSNRANK,QTA1_YSNSOUGENDO,QTA1_YSNNOBEGENDO,QTA1_YSNKYUBONUSGENDO,
    QTA1_YSNCASHGENDO,QTA1_YSNIKKATSUGENDO,QTA1_YSNKAPPUGENDO,QTA1_YSNBONUSGENDO,
    QTA1_YSNYUKOKAISHI,QTA1_YSNYUKOOWARI,QTA1_CIFDOUITSUNINNO,QTA1_CIFNO,
    QTA1_CIFSHOUKAINO,QTA1_HONSHIMEIKANA,QTA1_HONSHIMEIROMA,QTA1_HONSHIMEIKAN,
    QTA1_HONSEINENGAPPI,QTA1_HONSEX,QTA1_JTKTELSHIGAI,QTA1_JTKTELKYOKU,
    QTA1_JTKTELNO,QTA1_JTKJUSHOCD,QTA1_JTKYUUBINNO,QTA1_JTKKENKANA,QTA1_JTKJUSHOKANA,
    QTA1_JTKBANCHIKANA,QTA1_JTKKATAKANA,QTA1_JTKJUSHOKAN,QTA1_JTKBANCHIKAN,
    QTA1_JTKKATAKAN,QTA1_KOZHENKOUYMD,QTA1_KOZGINKOUCD,QTA1_KOZGINKOUMEI,
    QTA1_KOZSHITENCD,QTA1_KOZSHITENMEI,QTA1_KOZSHUMOKU,QTA1_KOZNO,QTA1_KOZMEIGI,
    QTA1_CLUBCD,QTA1_STSKOZATOROKUYMD,QTA1_STSKOZA,QTA1_STSCARDTOROKUYMD,
    QTA1_STSCARD,QTA1_EDJRIYOUSHACD1,QTA1_EDJJIKOYMD1,QTA1_EDJCARDJYOKYO1,
    QTA1_EDJRIYOUSHACD2,QTA1_EDJJIKOYMD2,QTA1_EDJCARDJYOKYO2,QTA1_EDJRIYOUSHACD3,
    QTA1_EDJJIKOYMD3,QTA1_EDJCARDJYOKYO3,QTA1_EDJRIYOUSHACD4,QTA1_EDJJIKOYMD4,
    QTA1_EDJCARDJYOKYO4,QTA1_EDJRIYOUSHACD5,QTA1_EDJJIKOYMD5,QTA1_EDJCARDJYOKYO5,
    QTA1_EDJRIYOUSHACD6,QTA1_EDJJIKOYMD6,QTA1_EDJCARDJYOKYO6,QTA1_EDJRIYOUSHACD7,
    QTA1_EDJJIKOYMD7,QTA1_EDJCARDJYOKYO7,QTA1_EDJRIYOUSHACD8,QTA1_EDJJIKOYMD8,
    QTA1_EDJCARDJYOKYO8,QTA1_EDJRIYOUSHACD9,QTA1_EDJJIKOYMD9,QTA1_EDJCARDJYOKYO9,
    QTA1_SOHCARD,QTA1_SOHSEIKYU,QTA1_CDHHAKKOUKBN,QTA1_CDHYUSOKBN,QTA1_CDHYMD,
    QTA1_CDHYUCHOSAIHATU,QTA1_KIKYMD,QTA1_KIKKYUUNO,QTA1_KIK10KETANO,QTA1_TKSHENREIYMD,
    QTA1_TKSCARDNO,QTA1_TKSKEKKACD,QTA1_TKSRIYUCD,QTA1_EDBSAISHURIYOU,QTA1_EDBYUKOMUKO1,
    QTA1_EDBYUKOMUKO2,QTA1_EDBYUKOMUKO3,QTA1_EDBYUKOMUKO4,QTA1_EDBYUKOMUKO5,
    QTA1_EDBYUKOMUKO6,QTA1_EDBYUKOMUKO7,QTA1_EDBYUKOMUKO8,QTA1_EDBYUKOMUKO9,
    QTA1_ATUKAKARI,QTA1_ATUKOUSHINMAE,QTA1_ATUHENKOUYMD,QTA1_PNTSHINNO,
    QTA1_PNTKYUUNO,QTA1_PNTHENKOUYMD,QTA1_PNTKBN,QTA1_PNTCARDFACE,QTA1_PNTTEIKEIKBN,
    QTA1_IKANMAECARDKBN,QTA1_KMSKBN,QTA1_KMSMEIKANA,QTA1_KMSMEIKAN,QTA1_KMSBUKA,
    QTA1_KMSTELSHIGAI,QTA1_KMSTELKYOKU,QTA1_KMSTELNO,QTA1_KMSJUSHOCD,QTA1_KMSYUUBINNO,
    QTA1_KMSKENKANA,QTA1_KMSJUSHOKANA,QTA1_KMSBANCHIKANA,QTA1_KMSKATAKANA,
    QTA1_KMSJUSHOKAN,QTA1_KMSBANCHIKAN,QTA1_KMSKATAKAN,QTA1_HOSTSHORIYMD,
    QTA1_HOSTSHORITIME,QTA1_SVRKOUSHINYMD,QTAR_PRMKIGYOUCD,QTAR_PRMSUBRANGEKEY,
    QTAR_PRMNAIBUKAIINNO,QTAR_PRMRIYOUSHACD,QTAR_SEQNO,QTAR_WEBKAIINID,
    QTAR_GAIBUKAIINNO,QTAR_KAIINKEY,QTAR_NMOSHIKOMIDATE,QTAR_SMOSHIKOMIDATE,
    QTAR_SMOSHIKOMIKAISU,QTAR_STRDATE,QTAR_UPDDATE,QTAR_DELDATE,QBE9_UKETSUKENO)
AS
Select
QTA1_PRMKIGYOUCD,         -- 会員マスタ.主キー・企業コード
QTA1_PRMSUBRANGEKEY,      -- 会員マスタ.主キー・サブレンジキー
QTA1_PRMNAIBUKAIINNO,     -- 会員マスタ.主キー・内部会員番号
QTA1_RECKBN,              -- 会員マスタ.レコード区分
QTA1_ZANDAKAKANRIKBN,     -- 会員マスタ.残高管理区分
QTA1_KAIJOKBN,            -- 会員マスタ.解除区分
QTA1_10TO16KBN,           -- 会員マスタ.10桁16桁区分
QTA1_GKNSHIKIBETSUNO,     -- 会員マスタ.外部会員番号・識別番号
QTA1_GKNEDABAN,           -- 会員マスタ.外部会員番号・本人枝番
QTA1_TENKAISHA,           -- 会員マスタ.店情報・会社店
QTA1_TENSAIKENKANRI,      -- 会員マスタ.店情報・債権管理店
QTA1_TENEIGYOU,           -- 会員マスタ.店情報・営業店
QTA1_TENDM,               -- 会員マスタ.店情報・ＤＭ店
QTA1_TENJIGYOHONBU,       -- 会員マスタ.店情報・事業本部コード
QTA1_TENKAKUTOKU,         -- 会員マスタ.店情報・獲得店
QTA1_CARDKBN,             -- 会員マスタ.カード区分
QTA1_TRSSYOKU1,           -- 会員マスタ.取扱商品・Ｓ翌一回払
QTA1_TRSSYOKU2,           -- 会員マスタ.取扱商品・Ｓ翌二回払
QTA1_TRSSBONUS1,          -- 会員マスタ.取扱商品・Ｓボーナス一回払
QTA1_TRSSBONUS2,          -- 会員マスタ.取扱商品・Ｓボーナス二回払
QTA1_TRSSKAPPU,           -- 会員マスタ.取扱商品・Ｓ割賦
QTA1_TRSSREVOLVING,       -- 会員マスタ.取扱商品・Ｓリボルビング
QTA1_TRSSHANBAI,          -- 会員マスタ.取扱商品・Ｓ職員販売
QTA1_TRSSKAKEURI,         -- 会員マスタ.取扱商品・Ｓ職員掛売
QTA1_TRSCREVOLVING,       -- 会員マスタ.取扱商品・Ｃリボルビング
QTA1_TRSCYOKU1,           -- 会員マスタ.取扱商品・Ｃ翌一回払
QTA1_CARDLOANUSEKBN,      -- 会員マスタ.カードローン使用区分
QTA1_HENSAIHOUHOU,        -- 会員マスタ.返済方法
QTA1_SIHARAIYOTEIBI,      -- 会員マスタ.支払予定日
QTA1_REVSMAITSUKI,        -- 会員マスタ.リボルビング・Ｓ毎月分
QTA1_REVSBONUS,           -- 会員マスタ.リボルビング・Ｓボーナス分
QTA1_REVCMAITSUKI,        -- 会員マスタ.リボルビング・Ｃ毎月分
QTA1_REVCBONUS,           -- 会員マスタ.リボルビング・Ｃボーナス分
QTA1_BBKSHUBETSU,         -- 会員マスタ.歩引情報・種別
QTA1_BBKRITSU,            -- 会員マスタ.歩引情報・率
QTA1_ASNGEN,              -- 会員マスタ.暗証番号・現
QTA1_ANSKYUU,             -- 会員マスタ.暗証番号・旧
QTA1_ANSHENKOUYMD,        -- 会員マスタ.暗証番号・変更日
QTA1_NYKUKETSUKENO,       -- 会員マスタ.入会情報・受付番号
QTA1_NYKUKETSUKEYMD,      -- 会員マスタ.入会情報・受付日
QTA1_NYKKESSAIYMD,        -- 会員マスタ.入会情報・決裁日
QTA1_YUKOKIGEN,           -- 会員マスタ.有効期限
QTA1_KTKROUTE,            -- 会員マスタ.獲得情報・ルート
QTA1_KTKSHOUKAISHACD,     -- 会員マスタ.獲得情報・紹介者コード
QTA1_YSNRANK,             -- 会員マスタ.与信情報・与信ランク
QTA1_YSNSOUGENDO,         -- 会員マスタ.与信情報・総限度額
QTA1_YSNNOBEGENDO,        -- 会員マスタ.与信情報・延払限度額
QTA1_YSNKYUBONUSGENDO,    -- 会員マスタ.与信情報・旧ボーナス限度額
QTA1_YSNCASHGENDO,        -- 会員マスタ.与信情報・キャッシング限度額
QTA1_YSNIKKATSUGENDO,     -- 会員マスタ.与信情報・一時一括限度額
QTA1_YSNKAPPUGENDO,       -- 会員マスタ.与信情報・一時割賦限度額
QTA1_YSNBONUSGENDO,       -- 会員マスタ.与信情報・一時ボーナス限度額
QTA1_YSNYUKOKAISHI,       -- 会員マスタ.与信情報・一時限度額有効期限開始
QTA1_YSNYUKOOWARI,        -- 会員マスタ.与信情報・一時限度額有効期限終了
QTA1_CIFDOUITSUNINNO,     -- 会員マスタ.CIF情報・同一人番号
QTA1_CIFNO,               -- 会員マスタ.CIF情報・ＣＩＦ番号
QTA1_CIFSHOUKAINO,        -- 会員マスタ.CIF情報・ＣＩＣ照会番号
QTA1_HONSHIMEIKANA,       -- 会員マスタ.本人情報・氏名カナ
QTA1_HONSHIMEIROMA,       -- 会員マスタ.本人情報・氏名ローマ字
QTA1_HONSHIMEIKAN,        -- 会員マスタ.本人情報・氏名漢字
QTA1_HONSEINENGAPPI,      -- 会員マスタ.本人情報・生年月日
QTA1_HONSEX,              -- 会員マスタ.本人情報・性別
QTA1_JTKTELSHIGAI,        -- 会員マスタ.自宅情報・市外局番
QTA1_JTKTELKYOKU,         -- 会員マスタ.自宅情報・電話局番
QTA1_JTKTELNO,            -- 会員マスタ.自宅情報・電話番号
QTA1_JTKJUSHOCD,          -- 会員マスタ.自宅情報・住所コード
QTA1_JTKYUUBINNO,         -- 会員マスタ.自宅情報・郵便番号
QTA1_JTKKENKANA,          -- 会員マスタ.自宅情報・県名カナ
QTA1_JTKJUSHOKANA,        -- 会員マスタ.自宅情報・住所名カナ
QTA1_JTKBANCHIKANA,       -- 会員マスタ.自宅情報・番地カナ
QTA1_JTKKATAKANA,         -- 会員マスタ.自宅情報・方書カナ
QTA1_JTKJUSHOKAN,         -- 会員マスタ.自宅情報・住所名漢字
QTA1_JTKBANCHIKAN,        -- 会員マスタ.自宅情報・番地漢字
QTA1_JTKKATAKAN,          -- 会員マスタ.自宅情報・方書漢字
QTA1_KOZHENKOUYMD,        -- 会員マスタ.口座情報・登録変更日
QTA1_KOZGINKOUCD,         -- 会員マスタ.口座情報・銀行コード
QTA1_KOZGINKOUMEI,        -- 会員マスタ.口座情報・銀行名
QTA1_KOZSHITENCD,         -- 会員マスタ.口座情報・支店コード
QTA1_KOZSHITENMEI,        -- 会員マスタ.口座情報・支店名
QTA1_KOZSHUMOKU,          -- 会員マスタ.口座情報・預金種目
QTA1_KOZNO,               -- 会員マスタ.口座情報・口座番号
QTA1_KOZMEIGI,            -- 会員マスタ.口座情報・口座名義
QTA1_CLUBCD,              -- 会員マスタ.クラブコード
QTA1_STSKOZATOROKUYMD,    -- 会員マスタ.ステータス情報・口座ステータス登録日
QTA1_STSKOZA,             -- 会員マスタ.ステータス情報・口座ステータス
QTA1_STSCARDTOROKUYMD,    -- 会員マスタ.ステータス情報・カードステータス登録日
QTA1_STSCARD,             -- 会員マスタ.ステータス情報・カードステータス
QTA1_EDJRIYOUSHACD1,      -- 会員マスタ.枝番情報・利用者コード１
QTA1_EDJJIKOYMD1,         -- 会員マスタ.枝番情報・事故発生日１
QTA1_EDJCARDJYOKYO1,      -- 会員マスタ.枝番情報・カード状況１
QTA1_EDJRIYOUSHACD2,      -- 会員マスタ.枝番情報・利用者コード２
QTA1_EDJJIKOYMD2,         -- 会員マスタ.枝番情報・事故発生日２
QTA1_EDJCARDJYOKYO2,      -- 会員マスタ.枝番情報・カード状況２
QTA1_EDJRIYOUSHACD3,      -- 会員マスタ.枝番情報・利用者コード３
QTA1_EDJJIKOYMD3,         -- 会員マスタ.枝番情報・事故発生日３
QTA1_EDJCARDJYOKYO3,      -- 会員マスタ.枝番情報・カード状況３
QTA1_EDJRIYOUSHACD4,      -- 会員マスタ.枝番情報・利用者コード４
QTA1_EDJJIKOYMD4,         -- 会員マスタ.枝番情報・事故発生日４
QTA1_EDJCARDJYOKYO4,      -- 会員マスタ.枝番情報・カード状況４
QTA1_EDJRIYOUSHACD5,      -- 会員マスタ.枝番情報・利用者コード５
QTA1_EDJJIKOYMD5,         -- 会員マスタ.枝番情報・事故発生日５
QTA1_EDJCARDJYOKYO5,      -- 会員マスタ.枝番情報・カード状況５
QTA1_EDJRIYOUSHACD6,      -- 会員マスタ.枝番情報・利用者コード６
QTA1_EDJJIKOYMD6,         -- 会員マスタ.枝番情報・事故発生日６
QTA1_EDJCARDJYOKYO6,      -- 会員マスタ.枝番情報・カード状況６
QTA1_EDJRIYOUSHACD7,      -- 会員マスタ.枝番情報・利用者コード７
QTA1_EDJJIKOYMD7,         -- 会員マスタ.枝番情報・事故発生日７
QTA1_EDJCARDJYOKYO7,      -- 会員マスタ.枝番情報・カード状況７
QTA1_EDJRIYOUSHACD8,      -- 会員マスタ.枝番情報・利用者コード８
QTA1_EDJJIKOYMD8,         -- 会員マスタ.枝番情報・事故発生日８
QTA1_EDJCARDJYOKYO8,      -- 会員マスタ.枝番情報・カード状況８
QTA1_EDJRIYOUSHACD9,      -- 会員マスタ.枝番情報・利用者コード９
QTA1_EDJJIKOYMD9,         -- 会員マスタ.枝番情報・事故発生日９
QTA1_EDJCARDJYOKYO9,      -- 会員マスタ.枝番情報・カード状況９
QTA1_SOHCARD,             -- 会員マスタ.送付先情報・カード
QTA1_SOHSEIKYU,           -- 会員マスタ.送付先情報・請求書
QTA1_CDHHAKKOUKBN,        -- 会員マスタ.カード発券情報・発行区分
QTA1_CDHYUSOKBN,          -- 会員マスタ.カード発券情報・郵送区分
QTA1_CDHYMD,              -- 会員マスタ.カード発券情報・日
QTA1_CDHYUCHOSAIHATU,     -- 会員マスタ.カード発券情報・郵貯再発行回数
QTA1_KIKYMD,              -- 会員マスタ.口座移管情報・移管日
QTA1_KIKKYUUNO,           -- 会員マスタ.口座移管情報・旧会員番号
QTA1_KIK10KETANO,         -- 会員マスタ.口座移管情報・10桁会員番号
QTA1_TKSHENREIYMD,        -- 会員マスタ.提携先情報・返戻日
QTA1_TKSCARDNO,           -- 会員マスタ.提携先情報・カード番号
QTA1_TKSKEKKACD,          -- 会員マスタ.提携先情報・結果コード
QTA1_TKSRIYUCD,           -- 会員マスタ.提携先情報・理由コード
QTA1_EDBSAISHURIYOU,      -- 会員マスタ.枝番情報・最終利用者コード
QTA1_EDBYUKOMUKO1,        -- 会員マスタ.枝番情報・有効無効表示1
QTA1_EDBYUKOMUKO2,        -- 会員マスタ.枝番情報・有効無効表示2
QTA1_EDBYUKOMUKO3,        -- 会員マスタ.枝番情報・有効無効表示3
QTA1_EDBYUKOMUKO4,        -- 会員マスタ.枝番情報・有効無効表示4
QTA1_EDBYUKOMUKO5,        -- 会員マスタ.枝番情報・有効無効表示5
QTA1_EDBYUKOMUKO6,        -- 会員マスタ.枝番情報・有効無効表示6
QTA1_EDBYUKOMUKO7,        -- 会員マスタ.枝番情報・有効無効表示7
QTA1_EDBYUKOMUKO8,        -- 会員マスタ.枝番情報・有効無効表示8
QTA1_EDBYUKOMUKO9,        -- 会員マスタ.枝番情報・有効無効表示9
QTA1_ATUKAKARI,           -- 会員マスタ.扱部係情報・扱部課係
QTA1_ATUKOUSHINMAE,       -- 会員マスタ.扱部係情報・更新前扱部課係
QTA1_ATUHENKOUYMD,        -- 会員マスタ.扱部係情報・変更日
QTA1_PNTSHINNO,           -- 会員マスタ.交換番号情報・新交換番号
QTA1_PNTKYUUNO,           -- 会員マスタ.交換番号情報・旧交換番号
QTA1_PNTHENKOUYMD,        -- 会員マスタ.交換番号情報・交換番号変更日
QTA1_PNTKBN,              -- 会員マスタ.ポイント情報・区分
QTA1_PNTCARDFACE,         -- 会員マスタ.ポイント情報・カードフェース
QTA1_PNTTEIKEIKBN,        -- 会員マスタ.ポイント情報・提携区分
QTA1_IKANMAECARDKBN,      -- 会員マスタ.移管前カード区分
QTA1_KMSKBN,              -- 会員マスタ.勤務先情報・区分
QTA1_KMSMEIKANA,          -- 会員マスタ.勤務先情報・名称カナ
QTA1_KMSMEIKAN,           -- 会員マスタ.勤務先情報・名称漢字
QTA1_KMSBUKA,             -- 会員マスタ.勤務先情報・所属部課
QTA1_KMSTELSHIGAI,        -- 会員マスタ.勤務先情報・市外局番
QTA1_KMSTELKYOKU,         -- 会員マスタ.勤務先情報・電話局番
QTA1_KMSTELNO,            -- 会員マスタ.勤務先情報・電話番号
QTA1_KMSJUSHOCD,          -- 会員マスタ.勤務先情報・住所コード
QTA1_KMSYUUBINNO,         -- 会員マスタ.勤務先情報・郵便番号
QTA1_KMSKENKANA,          -- 会員マスタ.勤務先情報・県名カナ
QTA1_KMSJUSHOKANA,        -- 会員マスタ.勤務先情報・住所名カナ
QTA1_KMSBANCHIKANA,       -- 会員マスタ.勤務先情報・番地カナ
QTA1_KMSKATAKANA,         -- 会員マスタ.勤務先情報・方書カナ
QTA1_KMSJUSHOKAN,         -- 会員マスタ.勤務先情報・住所名漢字
QTA1_KMSBANCHIKAN,        -- 会員マスタ.勤務先情報・番地漢字
QTA1_KMSKATAKAN,          -- 会員マスタ.勤務先情報・方書漢字
QTA1_HOSTSHORIYMD,        -- 会員マスタ.ホスト処理日
QTA1_HOSTSHORITIME,       -- 会員マスタ.ホスト処理時刻
QTA1_SVRKOUSHINYMD,       -- 会員マスタ.サーバ更新日
QTAR_PRMKIGYOUCD,         -- Ｗｅｂ会員マスタ.主キー・企業コード
QTAR_PRMSUBRANGEKEY,      -- Ｗｅｂ会員マスタ.主キー・サブレンジキー
QTAR_PRMNAIBUKAIINNO,     -- Ｗｅｂ会員マスタ.主キー・内部会員番号
QTAR_PRMRIYOUSHACD,       -- Ｗｅｂ会員マスタ.主キー・利用者コード
QTAR_SEQNO,               -- Ｗｅｂ会員マスタ.ＳＥＱ
QTAR_WEBKAIINID,          -- Ｗｅｂ会員マスタ.Web会員ＩＤ
QTAR_GAIBUKAIINNO,        -- Ｗｅｂ会員マスタ.外部会員番号
QTAR_KAIINKEY,            -- Ｗｅｂ会員マスタ.ＴＣＣ会員マスタキー
QTAR_NMOSHIKOMIDATE,      -- Ｗｅｂ会員マスタ.申込登録日時
QTAR_SMOSHIKOMIDATE,      -- Ｗｅｂ会員マスタ.請求登録日時
QTAR_SMOSHIKOMIKAISU,     -- Ｗｅｂ会員マスタ.請求確認回数
QTAR_STRDATE,             -- Ｗｅｂ会員マスタ.作成日時
QTAR_UPDDATE,             -- Ｗｅｂ会員マスタ.更新日時
QTAR_DELDATE,             -- Ｗｅｂ会員マスタ.削除日時
QBE9_UKETSUKENO           -- 申込書テーブル.受付番号
From QTA1_KAIINM,QTAR_WEBSEIKYUKAIINM,QBE9_UKETSUKENOT
Where
QTA1_PRMKIGYOUCD         = QTAR_PRMKIGYOUCD(+)     AND
QTA1_PRMSUBRANGEKEY      = QTAR_PRMSUBRANGEKEY(+)  AND
QTA1_PRMNAIBUKAIINNO     = QTAR_PRMNAIBUKAIINNO(+) AND
QTAR_PRMRIYOUSHACD(+)    = '1'                     AND
QTA1_NYKUKETSUKENO       = QBE9_UKETSUKENO(+)
/
CREATE OR REPLACE VIEW TCCUSER.QTB1_MOSHIKOMITV
    (QBA1_UKETSUKENO,QBA1_COURIERID,QBA1_KAKUTOKUTEN,QBA1_EIGYOTEN,QBA1_KAKUTOKUROUT,
    QBA1_INPUTROUTE,QBA1_CARDKBN,QBA1_CARDSYURUI,QBA1_CARDHAKKOKEITAI,QBA1_IMAGESTRDATE,
    QBA1_IMAGEFILE,QBA1_HONFACEKBN,QBA1_HONTEIKEIKBN,QBA1_HONKNNAME,QBA1_HONKJNAME,
    QBA1_HONRMNAME,QBA1_HONJUSHOCD,QBA1_HONCHIBAN,QBA1_HONYUBINNO,QBA1_HONKNTODOFUKEN,
    QBA1_HONKNSHIKCHOSN,QBA1_HONKNBANCHI,QBA1_HONKNKATAGAKI,QBA1_HONKJJUSHO,
    QBA1_HONKJBANCHI,QBA1_HONKJKATAGAKI,QBA1_HONTEL1,QBA1_HONTEL2,QBA1_HONTEL3,
    QBA1_HONKEITAITEL1,QBA1_HONKEITAITEL2,QBA1_HONKEITAITEL3,QBA1_HONSEX,
    QBA1_HONBIRTHDAY,QBA1_HONSUMAIKBN,QBA1_HONSUMAINENSU,QBA1_HONHAIGUUM,
    QBA1_HONCHILDSU,QBA1_HONDOKYOKBN,QBA1_HONCASHKIBOKG,QBA1_HONZANDAKACNT,
    QBA1_HONZANDAKAKG,QBA1_HONPASSWORD,QBA1_HONCALLKBN,QBA1_HONCALLNAME,
    QBA1_KINSHOKUSHU,QBA1_KINKINMUKBN,QBA1_KINKNHAIGUNAME,QBA1_KINKJHAIGUNAME,
    QBA1_KINHAIGUZOKGR,QBA1_KINHAIGUBIRTH,QBA1_KINKNNAME,QBA1_KINKJNAME,
    QBA1_KINJUSHOCD,QBA1_KINCHIBAN,QBA1_KINYUBINNO,QBA1_KINKNTODOFUKEN,
    QBA1_KINKNSHIKCHOSN,QBA1_KINKNBANCHI,QBA1_KINKNKATAGAKI,QBA1_KINKJJUSHO,
    QBA1_KINKJBANCHI,QBA1_KINKJKATAGAKI,QBA1_KINTEL1,QBA1_KINTEL2,QBA1_KINTEL3,
    QBA1_KINNAISEN,QBA1_KINHONTEL1,QBA1_KINHONTEL2,QBA1_KINHONTEL3,QBA1_KINNENSHUKBN,
    QBA1_KINSHUNYUKBN,QBA1_KINKJMAENAME,QBA1_KINMAENENSUKBN,QBA1_KINMAERIYU,
    QBA1_KINSHOZOKUBUKA,QBA1_KINYAKUSHOKU,QBA1_KINNYUSHADATE,QBA1_KINSETSURITSU,
    QBA1_KINSHIHONKG,QBA1_KINJUGYOCNT,QBA1_KINNENSUKBN,QBA1_KINJIEINAIYO,
    QBA1_KINELSENENSHU,QBA1_KINELSESHUNYU,QBA1_SKISHOKAISHA,QBA1_SKIKACD,
    QBA1_SKIKOJINCD,QBA1_SKINAISEN,QBA1_SKIMISECD,QBA1_SKIBUHANCD,QBA1_SKICORNERDATE,
    QBA1_ELSTOZAIKBN,QBA1_ELSCLABUCD,QBA1_ELSFUNYUSKB,QBA1_ELSHENSAIHOHO,
    QBA1_ELSCARDSOUFU,QBA1_ELSSEIKYUSOFU,QBA1_ELSCARDHAKKOKBN,QBA1_ELSCARDYUSOKBN,
    QBA1_ELSBUBIKIKBN,QBA1_ELSYOSINRANK,QBA1_ELSCARDUMUFLG,QBA1_ELSCARDSINPAN,
    QBA1_ELSCARDSONOTA,QBA1_CTLCANS,QBA1_CTLCANRIYU,QBA1_CTLCANTUIKI,QBA1_CTLHENKYAKUS,
    QBA1_CTLCANSOKUJIKBN,QBA1_CTLSEISADATE,QBA1_CTLFSTSGDATE,QBA1_CTLSCDSNSDATE,
    QBA1_CTLMSTSTRDATE,QBA1_CTLHAKKENDATE,QBA1_CTLRONEDATE,QBA1_CTLHONKNNAME,
    QBA1_CTLKINKNNAME,QBA1_CTLKANRITEN,QBA1_CTLKAISHATEN,QBA1_CTLJIGYOTEN,
    QBA1_CTLDMTEN,QBA1_CTLFLOKBN,QBA1_NOCIFNO,QBA1_NOKAIINNO,QBA1_NOBLACKNO,
    QBA1_NOCICINQNO,QBA1_RONSYURUI,QBA1_RONKNG,QBA1_RONSHIHARAICNT,QBA1_RONATAMAKNG,
    QBA1_RONKAIINNO,QBA1_RONSKTKBN,QBA1_RONSKTKESSAICD,QBA1_STRDATE,QBA1_UPDDATE,
    QBA1_DELDATE,QBA1_OPID,QBA1_WSID,QBA1_ELSYUUCHOSAIKBN,QBA1_HENSAIKNG,
    QBA1_BOUNASKNG,QBAB_UKETSUKENO,QBAB_KAZOKURBN,QBAB_INQKBN,QBAB_GAIBUKAIINNO,
    QBAB_ADDRESS,QBAB_STRDATE,QBAB_UPDDATE,QBAB_DELDATE,QBAB_EXPDATE,QBAB_OPID,
    QBAB_WSID)
AS
Select
QBA1_UKETSUKENO,          -- 申込書Ｔ.受付番号
QBA1_COURIERID,           -- 申込書Ｔ.クーリアＩＤ
QBA1_KAKUTOKUTEN,         -- 申込書Ｔ.獲得店
QBA1_EIGYOTEN,            -- 申込書Ｔ.営業店
QBA1_KAKUTOKUROUT,        -- 申込書Ｔ.獲得ルート
QBA1_INPUTROUTE,          -- 申込書Ｔ.入力ルート
QBA1_CARDKBN,             -- 申込書Ｔ.カード区分
QBA1_CARDSYURUI,          -- 申込書Ｔ.カード種類
QBA1_CARDHAKKOKEITAI,     -- 申込書Ｔ.カード発行形態
QBA1_IMAGESTRDATE,        -- 申込書Ｔ.イメージ登録日
QBA1_IMAGEFILE,           -- 申込書Ｔ.イメージファイル名
QBA1_HONFACEKBN,          -- 申込書Ｔ.本人属性・ﾌｪｰｽ区分
QBA1_HONTEIKEIKBN,        -- 申込書Ｔ.本人属性・提携区分
QBA1_HONKNNAME,           -- 申込書Ｔ.本人属性・カナ氏名
QBA1_HONKJNAME,           -- 申込書Ｔ.本人属性・漢字氏名
QBA1_HONRMNAME,           -- 申込書Ｔ.本人属性・ローマ字氏名
QBA1_HONJUSHOCD,          -- 申込書Ｔ.本人属性・住所コード
QBA1_HONCHIBAN,           -- 申込書Ｔ.本人属性・地番
QBA1_HONYUBINNO,          -- 申込書Ｔ.本人属性・郵便番号
QBA1_HONKNTODOFUKEN,      -- 申込書Ｔ.本人属性・カナ都道府県
QBA1_HONKNSHIKCHOSN,      -- 申込書Ｔ.本人属性・カナ市区町村
QBA1_HONKNBANCHI,         -- 申込書Ｔ.本人属性・カナ番地
QBA1_HONKNKATAGAKI,       -- 申込書Ｔ.本人属性・カナ方書
QBA1_HONKJJUSHO,          -- 申込書Ｔ.本人属性・漢字住所
QBA1_HONKJBANCHI,         -- 申込書Ｔ.本人属性・漢字番地
QBA1_HONKJKATAGAKI,       -- 申込書Ｔ.本人属性・漢字方書
QBA1_HONTEL1,             -- 申込書Ｔ.本人属性・電話番号(市街局番）
QBA1_HONTEL2,             -- 申込書Ｔ.本人属性・電話番号(局番）
QBA1_HONTEL3,             -- 申込書Ｔ.本人属性・電話番号（番号）
QBA1_HONKEITAITEL1,       -- 申込書Ｔ.本人属性・携帯電話番号(1）
QBA1_HONKEITAITEL2,       -- 申込書Ｔ.本人属性・携帯電話番号(2）
QBA1_HONKEITAITEL3,       -- 申込書Ｔ.本人属性・携帯電話番号(3）
QBA1_HONSEX,              -- 申込書Ｔ.本人属性・性別
QBA1_HONBIRTHDAY,         -- 申込書Ｔ.本人属性・生年月日
QBA1_HONSUMAIKBN,         -- 申込書Ｔ.本人属性・住まい区分
QBA1_HONSUMAINENSU,       -- 申込書Ｔ.本人属性・居住年数
QBA1_HONHAIGUUM,          -- 申込書Ｔ.本人属性・配偶者有無
QBA1_HONCHILDSU,          -- 申込書Ｔ.本人属性・子供人数
QBA1_HONDOKYOKBN,         -- 申込書Ｔ.本人属性・両親同居区分
QBA1_HONCASHKIBOKG,       -- 申込書Ｔ.本人属性・借入希望限度額
QBA1_HONZANDAKACNT,       -- 申込書Ｔ.本人属性・既借入残高合計件数
QBA1_HONZANDAKAKG,        -- 申込書Ｔ.本人属性・既借入残高合計金額
QBA1_HONPASSWORD,         -- 申込書Ｔ.本人属性・暗証番号
QBA1_HONCALLKBN,          -- 申込書Ｔ.本人属性・呼出区分
QBA1_HONCALLNAME,         -- 申込書Ｔ.本人属性・呼出名
QBA1_KINSHOKUSHU,         -- 申込書Ｔ.勤務先情報・職種
QBA1_KINKINMUKBN,         -- 申込書Ｔ.勤務先情報・勤務先区分
QBA1_KINKNHAIGUNAME,      -- 申込書Ｔ.勤務先情報・カナ配偶者氏名
QBA1_KINKJHAIGUNAME,      -- 申込書Ｔ.勤務先情報・漢字配偶者氏名
QBA1_KINHAIGUZOKGR,       -- 申込書Ｔ.勤務先情報・配偶者続柄
QBA1_KINHAIGUBIRTH,       -- 申込書Ｔ.勤務先情報・配偶者生年月日
QBA1_KINKNNAME,           -- 申込書Ｔ.勤務先情報・カナ勤務先名
QBA1_KINKJNAME,           -- 申込書Ｔ.勤務先情報・漢字勤務先名
QBA1_KINJUSHOCD,          -- 申込書Ｔ.勤務先情報・勤務先住所コード
QBA1_KINCHIBAN,           -- 申込書Ｔ.勤務先情報・勤務先地番
QBA1_KINYUBINNO,          -- 申込書Ｔ.勤務先情報・勤務先郵便番号
QBA1_KINKNTODOFUKEN,      -- 申込書Ｔ.勤務先情報・勤務先カナ都道府県
QBA1_KINKNSHIKCHOSN,      -- 申込書Ｔ.勤務先情報・勤務先カナ市区町村
QBA1_KINKNBANCHI,         -- 申込書Ｔ.勤務先情報・勤務先カナ番地
QBA1_KINKNKATAGAKI,       -- 申込書Ｔ.勤務先情報・勤務先カナ方書
QBA1_KINKJJUSHO,          -- 申込書Ｔ.勤務先情報・勤務先漢字住所
QBA1_KINKJBANCHI,         -- 申込書Ｔ.勤務先情報・勤務先漢字番地
QBA1_KINKJKATAGAKI,       -- 申込書Ｔ.勤務先情報・勤務先漢字方書
QBA1_KINTEL1,             -- 申込書Ｔ.勤務先情報・勤務先電話番号(市街局番）
QBA1_KINTEL2,             -- 申込書Ｔ.勤務先情報・勤務先電話番号(局番）
QBA1_KINTEL3,             -- 申込書Ｔ.勤務先情報・勤務先電話番号(番号）
QBA1_KINNAISEN,           -- 申込書Ｔ.勤務先情報・勤務先内線
QBA1_KINHONTEL1,          -- 申込書Ｔ.勤務先情報・勤務先本社電話番号(市街局番
QBA1_KINHONTEL2,          -- 申込書Ｔ.勤務先情報・勤務先本社電話番号（局番）
QBA1_KINHONTEL3,          -- 申込書Ｔ.勤務先情報・勤務先本社電話番号（番号）
QBA1_KINNENSHUKBN,        -- 申込書Ｔ.勤務先情報・年収区分
QBA1_KINSHUNYUKBN,        -- 申込書Ｔ.勤務先情報・収入源区分
QBA1_KINKJMAENAME,        -- 申込書Ｔ.勤務先情報・転職前漢字勤務先名
QBA1_KINMAENENSUKBN,      -- 申込書Ｔ.勤務先情報・転職前勤続年数
QBA1_KINMAERIYU,          -- 申込書Ｔ.勤務先情報・転職理由
QBA1_KINSHOZOKUBUKA,      -- 申込書Ｔ.勤務先情報・勤務先所属部課名
QBA1_KINYAKUSHOKU,        -- 申込書Ｔ.勤務先情報・勤務先役職
QBA1_KINNYUSHADATE,       -- 申込書Ｔ.勤務先情報・勤務先入社年月
QBA1_KINSETSURITSU,       -- 申込書Ｔ.勤務先情報・勤務先設立年月
QBA1_KINSHIHONKG,         -- 申込書Ｔ.勤務先情報・資本金
QBA1_KINJUGYOCNT,         -- 申込書Ｔ.勤務先情報・従業員数
QBA1_KINNENSUKBN,         -- 申込書Ｔ.勤務先情報・勤続／営業年数区分
QBA1_KINJIEINAIYO,        -- 申込書Ｔ.勤務先情報・自営営業内容
QBA1_KINELSENENSHU,       -- 申込書Ｔ.勤務先情報・その他年収
QBA1_KINELSESHUNYU,       -- 申込書Ｔ.勤務先情報・その他収入内容
QBA1_SKISHOKAISHA,        -- 申込書Ｔ.紹介情報・紹介者
QBA1_SKIKACD,             -- 申込書Ｔ.紹介情報・課ｺｰﾄﾞ
QBA1_SKIKOJINCD,          -- 申込書Ｔ.紹介情報・個人ｺｰﾄﾞ
QBA1_SKINAISEN,           -- 申込書Ｔ.紹介情報・内線
QBA1_SKIMISECD,           -- 申込書Ｔ.紹介情報・店ｺｰﾄﾞ
QBA1_SKIBUHANCD,          -- 申込書Ｔ.紹介情報・部班ｺｰﾄﾞ
QBA1_SKICORNERDATE,       -- 申込書Ｔ.紹介情報・ｺｰﾅｰ受付日
QBA1_ELSTOZAIKBN,         -- 申込書Ｔ.東西区分
QBA1_ELSCLABUCD,          -- 申込書Ｔ.クラブコード
QBA1_ELSFUNYUSKB,         -- 申込書Ｔ.封入識別ｺｰﾄﾞ
QBA1_ELSHENSAIHOHO,       -- 申込書Ｔ.返済方法
QBA1_ELSCARDSOUFU,        -- 申込書Ｔ.ｶｰﾄﾞ送付先区分
QBA1_ELSSEIKYUSOFU,       -- 申込書Ｔ.請求書送付先区分
QBA1_ELSCARDHAKKOKBN,     -- 申込書Ｔ.ｶｰﾄﾞ発行区分
QBA1_ELSCARDYUSOKBN,      -- 申込書Ｔ.ｶｰﾄﾞ郵送区分
QBA1_ELSBUBIKIKBN,        -- 申込書Ｔ.歩引／ﾎﾟｲﾝﾄ区分
QBA1_ELSYOSINRANK,        -- 申込書Ｔ.与信ﾗﾝｸ
QBA1_ELSCARDUMUFLG,       -- 申込書Ｔ.その他情報・所有カード・所有カードフラグ
QBA1_ELSCARDSINPAN,       -- 申込書Ｔ.その他情報・所有カード・信販系カード名称
QBA1_ELSCARDSONOTA,       -- 申込書Ｔ.その他情報・所有カード・その他名称
QBA1_CTLCANS,             -- 申込書Ｔ.制御情報・ｷｬﾝｾﾙｻｲﾝ
QBA1_CTLCANRIYU,          -- 申込書Ｔ.制御情報・ｷｬﾝｾﾙ理由
QBA1_CTLCANTUIKI,         -- 申込書Ｔ.制御情報・ｷｬﾝｾﾙ理由追記
QBA1_CTLHENKYAKUS,        -- 申込書Ｔ.制御情報・申込書返却ｻｲﾝ
QBA1_CTLCANSOKUJIKBN,     -- 申込書Ｔ.制御情報・ｷｬﾝｾﾙ即時区分
QBA1_CTLSEISADATE,        -- 申込書Ｔ.制御情報・精査完了日
QBA1_CTLFSTSGDATE,        -- 申込書Ｔ.制御情報・自動審査日
QBA1_CTLSCDSNSDATE,       -- 申込書Ｔ.制御情報・2次審査依頼日
QBA1_CTLMSTSTRDATE,       -- 申込書Ｔ.制御情報・ﾏｽﾀ登録依頼日
QBA1_CTLHAKKENDATE,       -- 申込書Ｔ.制御情報・発券日付
QBA1_CTLRONEDATE,         -- 申込書Ｔ.制御情報・ローン応諾日付
QBA1_CTLHONKNNAME,        -- 申込書Ｔ.制御情報・名寄用カナ氏名
QBA1_CTLKINKNNAME,        -- 申込書Ｔ.制御情報・名寄用カナ勤務先名
QBA1_CTLKANRITEN,         -- 申込書Ｔ.制御情報・管理店
QBA1_CTLKAISHATEN,        -- 申込書Ｔ.制御情報・会社店
QBA1_CTLJIGYOTEN,         -- 申込書Ｔ.制御情報・事業本部
QBA1_CTLDMTEN,            -- 申込書Ｔ.制御情報・ＤＭ店
QBA1_CTLFLOKBN,           -- 申込書Ｔ.制御情報・フロー区分
QBA1_NOCIFNO,             -- 申込書Ｔ.番号情報・ＣＩＦ番号
QBA1_NOKAIINNO,           -- 申込書Ｔ.番号情報・会員番号
QBA1_NOBLACKNO,           -- 申込書Ｔ.番号情報・ﾌﾞﾗｯｸ番号
QBA1_NOCICINQNO,          -- 申込書Ｔ.番号情報・ＣＩＣ・照会
QBA1_RONSYURUI,           -- 申込書Ｔ.ローン・ローン種類
QBA1_RONKNG,              -- 申込書Ｔ.ローン・ローン金額
QBA1_RONSHIHARAICNT,      -- 申込書Ｔ.ローン・支払回数
QBA1_RONATAMAKNG,         -- 申込書Ｔ.ローン・頭金
QBA1_RONKAIINNO,          -- 申込書Ｔ.ローン・ローン会員番号
QBA1_RONSKTKBN,           -- 申込書Ｔ.ローン・即決区分
QBA1_RONSKTKESSAICD,      -- 申込書Ｔ.ローン・即決決済者ｺｰﾄﾞ
QBA1_STRDATE,             -- 申込書Ｔ.登録年月日
QBA1_UPDDATE,             -- 申込書Ｔ.更新年月日
QBA1_DELDATE,             -- 申込書Ｔ.削除年月日
QBA1_OPID,                -- 申込書Ｔ.ｵﾍﾟﾚｰﾀID
QBA1_WSID,                -- 申込書Ｔ.端末ID
QBA1_ELSYUUCHOSAIKBN,     -- 申込書Ｔ.郵貯再発行区分
QBA1_HENSAIKNG,           -- 申込書Ｔ.ＷＩＳＨ・毎月返済額
QBA1_BOUNASKNG,           -- 申込書Ｔ.ＷＩＳＨ・ﾎﾞｰﾅｽ月増額
QBAB_UKETSUKENO,          -- メールアドレステーブル.受付番号
QBAB_KAZOKURBN,           -- メールアドレステーブル.家族区分
QBAB_INQKBN,              -- メールアドレステーブル.メール区分
QBAB_GAIBUKAIINNO,        -- メールアドレステーブル.外部会員番号
QBAB_ADDRESS,             -- メールアドレステーブル.メールアドレス
QBAB_STRDATE,             -- メールアドレステーブル.登録日
QBAB_UPDDATE,             -- メールアドレステーブル.更新日
QBAB_DELDATE,             -- メールアドレステーブル.削除日
QBAB_EXPDATE,             -- メールアドレステーブル.出力日
QBAB_OPID,                -- メールアドレステーブル.ｵﾍﾟﾚｰﾀID
QBAB_WSID                 -- メールアドレステーブル.端末ID
From QBA1_MOSHIKOMIT,QBAB_MAILADDRESST
Where
QBA1_UKETSUKENO          = QBAB_UKETSUKENO(+) and
QBAB_KAZOKURBN(+)        = 1
/
CREATE OR REPLACE VIEW TCCUSER.QTBF_RIYOUDTLTV
    (QTAF_PRMKIGYOUCD,QTAF_PRMSUBRANGEKEY,QTAF_PRMNAIBUKAIINNO,QTAF_PRMTORIHIKINO,
    QTAF_DENPYOUNO,QTAF_RECKBN,QTAF_KAIJYOKBN,QTAF_AKAKUROKBN,QTAF_SEIKYUHORYUKBN,
    QTAF_DENPYOUSHUBETSU,QTAF_BATCHNO,QTAF_GNOBATCHNO,QTAF_GNOSEQUENCE,
    QTAF_CARDNO,QTAF_RIYOUBI,QTAF_UKETSUKEBI,QTAF_KEIJYOUBI,QTAF_HASSEITEN,
    QTAF_KAMEITENNO,QTAF_POSREGNO,QTAF_POSTORIHIKINO,QTAF_TANMATSU,QTAF_KAKAKAATSUKAI,
    QTAF_KAKAKAKA,QTAF_KAKKKAKARIKAKARI,QTAF_SAICD,QTAF_TKURIAGETUUBAN,
    QTAF_GYOUSU,QTAF_GYOUNO,QTAF_GKGSHIHARAIHOHO,QTAF_GKGLOANSHUBETSU,QTAF_GKGRIYOUKNG,
    QTAF_GKGSHOUHINDAIKIN,QTAF_GKGBUBIKIRITSU,QTAF_GKGBUBIKIGAKU,QTAF_GKGBUBIKITAISHOU,
    QTAF_GKGBUBIKIJYOGAI,QTAF_GKGSHOUNINNO,QTAF_GKGBUNKATSUKAISU,QTAF_GKGBONUSKAISU,
    QTAF_GKGBONUSKASAN,QTAF_GKGMAESHOUHIZEI,QTAF_GKGATOSHOUHIZEI,QTAF_GKGATAMAKIN,
    QTAF_GKGTESURYOURITSU,QTAF_GKGTESURYOUGAKU,QTAF_GKGCHUSYUTSUSUMI,QTAF_GKGPO1KEIJYOUKBN,
    QTAF_GKGRIYOUSHACD,QTAF_GKGGENTIKAKAKU,QTAF_GKGKANSANRATE,QTAF_GKGKANSANBI,
    QTAF_GKGKOKUNAIKAIGAI,QTAF_GKGKEISANSUMISIGN,QTAF_GKGHURIKAEKAIINNO,
    QTAF_GKGHASSEIROUTO,QTAF_KAMEITENTESURYO,QTAF_DANKEITESURYOU,QTAF_DENPYOUUMUFLG,
    QTAF_IDOKEIJYOUKBN,QTAF_CASHINGBUNKAI,QTAF_HURIKAEKBN,QTAF_SHAINNOUMUKBN,
    QTAF_DENNYURYOKUTEN,QTAF_DAIHIKIDENPYOKBN,QTAF_POINTSHIKIBETSU,QTAF_GKPTSUJYOUGOUKEI,
    QTAF_GKPBONUSGOUKEI,QTAF_YOUTAICD,QTAF_KEIJYOUURICHOUKBN,QTAF_ZEIRITUKBN,
    QTAF_HOSTSHORIYMD,QTAF_HOSTSHORITIME,QTAF_SVRKOUSHINYMD,QTAF_ISOTUUKA,
    QTAF_ITIBUHENPINKBN,QTAF_JIDOFURIKAE,QTAK_PRMURITUUBAN,QTAK_URITORIHIKIA,
    QTAK_URITORIHIKIB,QTAK_URITORIHIKIC,QTAK_URICARDNO,QTAK_URIRIYOUBI,
    QTAK_URIUKETSUKEBI,QTAK_URIKEIJYOUBI,QTAK_URISHIHARAIHOHO,QTAK_URIBUNKATSUKAISU,
    QTAK_URIRIYOUKNG,QTAK_URIURIAGEKNG,QTAK_URIZEISOURYOU,QTAK_URIURIAGEGOUKEI,
    QTAK_URIWARIBIKIGAKU,QTAK_URIGAITESURYOU,QTAK_URISHOUNINNO,QTAK_URIKOKUNAIKAIGAI,
    QTAK_KAITUUKAGAKU,QTAK_KAIKANSANRATE,QTAK_KAIKANSANBI,QTAK_KAITOSHIMEI,
    QTAK_KAITUUKAKOSHOU,QTAK_KAITUUKACD,QTAK_KAISHUUCD,QTAK_KAIKUNICD,QTAK_TKSSHOUKAINO1,
    QTAK_TKSSHOUKAINO2,QTAK_TKSKAMEITENNO,QTAK_TKSKAMEITENMEI1,QTAK_TKSKAMEITENMEI2,
    QTAK_TKSGYOUSHUCD,QTAK_TKSPOSENTRYCD,QTAK_TKSBONUSHYOUJI,QTAK_KJKKIGYOUCD,
    QTAK_KJKSUBRANGEKEY,QTAK_KJKNAIBUKAIINNO,QTAK_KJKKANRITEN,QTAK_KJKCARDKBN,
    QTAK_KJKCARDKAIINMEI,QTAK_HOSTSHORIYMD,QTAK_HOSTSHORITIME,QTAK_SVRKOUSHINYMD,
    QTAK_KMTCHARGEBACK,QTAK_KMTKJYAGOU,QTAK_KMTDENPYOUKI,QTAK_KMTSEISANKBN,
    QTAK_MOTOECINDICATOR,QTAK_CHACTTERMINDICATOR,QTAK_AUTHSOURCECODE,QTAK_TCQ)
AS
Select
QTAF_PRMKIGYOUCD,         -- 利用明細テーブル.主キー・企業コード
QTAF_PRMSUBRANGEKEY,      -- 利用明細テーブル.主キー・サブレンジキー
QTAF_PRMNAIBUKAIINNO,     -- 利用明細テーブル.主キー・内部会員番号
QTAF_PRMTORIHIKINO,       -- 利用明細テーブル.主キー・取引通番
QTAF_DENPYOUNO,           -- 利用明細テーブル.伝票ＮＯ
QTAF_RECKBN,              -- 利用明細テーブル.レコード区分
QTAF_KAIJYOKBN,           -- 利用明細テーブル.解除区分
QTAF_AKAKUROKBN,          -- 利用明細テーブル.赤黒非表示区分
QTAF_SEIKYUHORYUKBN,      -- 利用明細テーブル.請求保留区分
QTAF_DENPYOUSHUBETSU,     -- 利用明細テーブル.伝票種別
QTAF_BATCHNO,             -- 利用明細テーブル.バッチＮＯ
QTAF_GNOBATCHNO,          -- 利用明細テーブル.Ｇ−ＮＯ・ＧバッチＮＯ
QTAF_GNOSEQUENCE,         -- 利用明細テーブル.Ｇ−ＮＯ・Ｇ伝票シーケンス
QTAF_CARDNO,              -- 利用明細テーブル.カード番号
QTAF_RIYOUBI,             -- 利用明細テーブル.利用日
QTAF_UKETSUKEBI,          -- 利用明細テーブル.受付日
QTAF_KEIJYOUBI,           -- 利用明細テーブル.計上日
QTAF_HASSEITEN,           -- 利用明細テーブル.発生店
QTAF_KAMEITENNO,          -- 利用明細テーブル.加盟店ＮＯ
QTAF_POSREGNO,            -- 利用明細テーブル.ＰＯＳ端末情報・ＰＯＳレジＮＯ
QTAF_POSTORIHIKINO,       -- 利用明細テーブル.ＰＯＳ端末情報・ＰＯＳ取引ＮＯ
QTAF_TANMATSU,            -- 利用明細テーブル.ＣＤ端末番号
QTAF_KAKAKAATSUKAI,       -- 利用明細テーブル.課係・Ａ課係扱課扱
QTAF_KAKAKAKA,            -- 利用明細テーブル.課係・Ａ課係扱課課
QTAF_KAKKKAKARIKAKARI,    -- 利用明細テーブル.課係・Ｋ課係係
QTAF_SAICD,               -- 利用明細テーブル.催コード
QTAF_TKURIAGETUUBAN,      -- 利用明細テーブル.提携売上通番
QTAF_GYOUSU,              -- 利用明細テーブル.行数
QTAF_GYOUNO,              -- 利用明細テーブル.行
QTAF_GKGSHIHARAIHOHO,     -- 利用明細テーブル.合計行・支払方法
QTAF_GKGLOANSHUBETSU,     -- 利用明細テーブル.合計行・ローン種別
QTAF_GKGRIYOUKNG,         -- 利用明細テーブル.合計行・利用金額
QTAF_GKGSHOUHINDAIKIN,    -- 利用明細テーブル.合計行・商品代金
QTAF_GKGBUBIKIRITSU,      -- 利用明細テーブル.合計行・歩引率
QTAF_GKGBUBIKIGAKU,       -- 利用明細テーブル.合計行・歩引額
QTAF_GKGBUBIKITAISHOU,    -- 利用明細テーブル.合計行・歩引対象額合計
QTAF_GKGBUBIKIJYOGAI,     -- 利用明細テーブル.合計行・歩引除外
QTAF_GKGSHOUNINNO,        -- 利用明細テーブル.合計行・承認番号
QTAF_GKGBUNKATSUKAISU,    -- 利用明細テーブル.合計行・分割回数
QTAF_GKGBONUSKAISU,       -- 利用明細テーブル.合計行・ボーナス回数
QTAF_GKGBONUSKASAN,       -- 利用明細テーブル.合計行・ボーナス加算額
QTAF_GKGMAESHOUHIZEI,     -- 利用明細テーブル.合計行・歩引前消費税
QTAF_GKGATOSHOUHIZEI,     -- 利用明細テーブル.合計行・歩引後消費税
QTAF_GKGATAMAKIN,         -- 利用明細テーブル.合計行・頭金
QTAF_GKGTESURYOURITSU,    -- 利用明細テーブル.合計行・手数料率
QTAF_GKGTESURYOUGAKU,     -- 利用明細テーブル.合計行・手数料額
QTAF_GKGCHUSYUTSUSUMI,    -- 利用明細テーブル.合計行・請求抽出済サイン
QTAF_GKGPO1KEIJYOUKBN,    -- 利用明細テーブル.合計行・ポ1計上区分
QTAF_GKGRIYOUSHACD,       -- 利用明細テーブル.合計行・利用者コード
QTAF_GKGGENTIKAKAKU,      -- 利用明細テーブル.合計行・現地価格
QTAF_GKGKANSANRATE,       -- 利用明細テーブル.合計行・換算レート
QTAF_GKGKANSANBI,         -- 利用明細テーブル.合計行・換算日
QTAF_GKGKOKUNAIKAIGAI,    -- 利用明細テーブル.合計行・国内海外識別
QTAF_GKGKEISANSUMISIGN,   -- 利用明細テーブル.合計行・入金手数料計算済サイン
QTAF_GKGHURIKAEKAIINNO,   -- 利用明細テーブル.合計行・振替会員番号
QTAF_GKGHASSEIROUTO,      -- 利用明細テーブル.合計行・発生ルート
QTAF_KAMEITENTESURYO,     -- 利用明細テーブル.加盟店手数料
QTAF_DANKEITESURYOU,      -- 利用明細テーブル.団契手数料
QTAF_DENPYOUUMUFLG,       -- 利用明細テーブル.伝票無フラグ
QTAF_IDOKEIJYOUKBN,       -- 利用明細テーブル.移動計上区分
QTAF_CASHINGBUNKAI,       -- 利用明細テーブル.ｷｬｯｼﾝｸﾞ分解処理通番
QTAF_HURIKAEKBN,          -- 利用明細テーブル.振替区分
QTAF_SHAINNOUMUKBN,       -- 利用明細テーブル.社員ＮＯ有無区分
QTAF_DENNYURYOKUTEN,      -- 利用明細テーブル.伝票入力店
QTAF_DAIHIKIDENPYOKBN,    -- 利用明細テーブル.代引伝票区分
QTAF_POINTSHIKIBETSU,     -- 利用明細テーブル.歩引ポイント識別区分
QTAF_GKPTSUJYOUGOUKEI,    -- 利用明細テーブル.合計ポイント・通常合計ポイント
QTAF_GKPBONUSGOUKEI,      -- 利用明細テーブル.合計ポイント・ボーナス合計ポイント
QTAF_YOUTAICD,            -- 利用明細テーブル.様態コード
QTAF_KEIJYOUURICHOUKBN,   -- 利用明細テーブル.係計上売帳区分
QTAF_ZEIRITUKBN,          -- 利用明細テーブル.税率区分
QTAF_HOSTSHORIYMD,        -- 利用明細テーブル.ホスト処理日
QTAF_HOSTSHORITIME,       -- 利用明細テーブル.ホスト処理時刻
QTAF_SVRKOUSHINYMD,       -- 利用明細テーブル.サーバ更新日
QTAF_ISOTUUKA,            -- 利用明細テーブル.ＩＳＯ通貨単位
QTAF_ITIBUHENPINKBN,      -- 利用明細テーブル.一部返品区分
--QTAF_JIDOFURIKAE,         -- 利用明細テーブル.自動振替種別
QTAF_JIDOUFURIKAEKBN,       -- 利用明細テーブル.自動振替種別 2003/03/19 項目の変更
QTAK_PRMURITUUBAN,        -- 加盟店原伝テーブル.主キー・売上通番
QTAK_URITORIHIKIA,        -- 加盟店原伝テーブル.売上情報・取引Ａ
QTAK_URITORIHIKIB,        -- 加盟店原伝テーブル.売上情報・取引Ｂ
QTAK_URITORIHIKIC,        -- 加盟店原伝テーブル.売上情報・取引Ｃ
QTAK_URICARDNO,           -- 加盟店原伝テーブル.売上情報・カード番号
QTAK_URIRIYOUBI,          -- 加盟店原伝テーブル.売上情報・利用日
QTAK_URIUKETSUKEBI,       -- 加盟店原伝テーブル.売上情報・受付日
QTAK_URIKEIJYOUBI,        -- 加盟店原伝テーブル.売上情報・計上日
QTAK_URISHIHARAIHOHO,     -- 加盟店原伝テーブル.売上情報・支払方法
QTAK_URIBUNKATSUKAISU,    -- 加盟店原伝テーブル.売上情報・分割回数
QTAK_URIRIYOUKNG,         -- 加盟店原伝テーブル.売上情報・利用金額
QTAK_URIURIAGEKNG,        -- 加盟店原伝テーブル.売上情報・売上金額
QTAK_URIZEISOURYOU,       -- 加盟店原伝テーブル.売上情報・税送料
QTAK_URIURIAGEGOUKEI,     -- 加盟店原伝テーブル.売上情報・売上合計
QTAK_URIWARIBIKIGAKU,     -- 加盟店原伝テーブル.売上情報・割引額
QTAK_URIGAITESURYOU,      -- 加盟店原伝テーブル.売上情報・時間外手数料
QTAK_URISHOUNINNO,        -- 加盟店原伝テーブル.売上情報・承認番号
QTAK_URIKOKUNAIKAIGAI,    -- 加盟店原伝テーブル.売上情報・国内海外識別区分
QTAK_KAITUUKAGAKU,        -- 加盟店原伝テーブル.海外利用情報・現地通貨額
QTAK_KAIKANSANRATE,       -- 加盟店原伝テーブル.海外利用情報・換算レート
QTAK_KAIKANSANBI,         -- 加盟店原伝テーブル.海外利用情報・換算日
QTAK_KAITOSHIMEI,         -- 加盟店原伝テーブル.海外利用情報・加盟店都市名
QTAK_KAITUUKAKOSHOU,      -- 加盟店原伝テーブル.海外利用情報・通貨呼称
QTAK_KAITUUKACD,          -- 加盟店原伝テーブル.海外利用情報・通貨コード
QTAK_KAISHUUCD,           -- 加盟店原伝テーブル.海外利用情報・州コード
QTAK_KAIKUNICD,           -- 加盟店原伝テーブル.海外利用情報・国コード
QTAK_TKSSHOUKAINO1,       -- 加盟店原伝テーブル.提携先情報・提携先照会番号１
QTAK_TKSSHOUKAINO2,       -- 加盟店原伝テーブル.提携先情報・提携先照会番号２
QTAK_TKSKAMEITENNO,       -- 加盟店原伝テーブル.提携先情報・加盟店番号
QTAK_TKSKAMEITENMEI1,     -- 加盟店原伝テーブル.提携先情報・加盟店名称１
QTAK_TKSKAMEITENMEI2,     -- 加盟店原伝テーブル.提携先情報・加盟店名称２
QTAK_TKSGYOUSHUCD,        -- 加盟店原伝テーブル.提携先情報・業種コード
QTAK_TKSPOSENTRYCD,       -- 加盟店原伝テーブル.提携先情報・ＰＯＳエントリーコード
QTAK_TKSBONUSHYOUJI,      -- 加盟店原伝テーブル.提携先情報・ボーナス表示
QTAK_KJKKIGYOUCD,         -- 加盟店原伝テーブル.計上時会員情報・企業コード
QTAK_KJKSUBRANGEKEY,      -- 加盟店原伝テーブル.計上時会員情報・サブレンジキー
QTAK_KJKNAIBUKAIINNO,     -- 加盟店原伝テーブル.計上時会員情報・内部会員番号
QTAK_KJKKANRITEN,         -- 加盟店原伝テーブル.計上時会員情報・債権管理店
QTAK_KJKCARDKBN,          -- 加盟店原伝テーブル.計上時会員情報・カード区分
QTAK_KJKCARDKAIINMEI,     -- 加盟店原伝テーブル.計上時会員情報・カード会員氏名
QTAK_HOSTSHORIYMD,        -- 加盟店原伝テーブル.ホスト処理日
QTAK_HOSTSHORITIME,       -- 加盟店原伝テーブル.ホスト処理時刻
QTAK_SVRKOUSHINYMD,       -- 加盟店原伝テーブル.サーバ更新日
QTAK_KMTCHARGEBACK,       -- 加盟店原伝テーブル.加盟店情報・チャージバック区分
QTAK_KMTKJYAGOU,          -- 加盟店原伝テーブル.加盟店情報・加盟店漢字屋号
QTAK_KMTDENPYOUKI,        -- 加盟店原伝テーブル.加盟店情報・伝票検索キー
QTAK_KMTSEISANKBN,        -- 加盟店原伝テーブル.加盟店情報・精算区分
QTAK_MOTOECINDICATOR,     -- 加盟店原伝テーブル.サーバ更新日
QTAK_CHACTTERMINDICATOR,  -- 加盟店原伝テーブル.
QTAK_AUTHSOURCECODE,      -- 加盟店原伝テーブル.
QTAK_TCQ                  -- 加盟店原伝テーブル.
From QTAF_RIYOUDTLT,QTAK_KAMEITENT
Where
QTAF_TKURIAGETUUBAN       = QTAK_PRMURITUUBAN(+)
/
CREATE OR REPLACE VIEW TCCUSER.QWAA_KIJITSUSHOKAIV
    (QTA1_HONSHIMEIKAN,QTA1_JTKTELSHIGAI,QTA1_JTKTELKYOKU,QTA1_JTKTELNO,
    QWA3_PRMKIGYOUCD,QWA3_PRMSUBRANGEKEY,QWA3_PRMNAIBUKAIINNO,QWA3_PRMUKETSUKENO,
    QWA3_PRMSAKUSEIBI,QWA3_PRMSAKUSEITIME,QWA3_PRMRENBAN,QWA3_KAIINNO,QWA3_TOUZAIKBN,
    QWA3_KAIINNAME,QWA3_JSHJUSHOKBN,QWA3_JSHYUBINNO,QWA3_JSHJUSHO1,QWA3_JSHJUSHO2,
    QWA3_JSHJUSHO3,QWA3_JSHJUSHO4,QWA3_JSHATENA,QWA3_BUNSHOKANRINO,QWA3_BUNSHOMEI,
    QWA3_HASSOUYMD,QWA3_HENYOTEIYMD,QWA3_HENKYAKUYMD,QWA3_HENKYAKURIYU,
    QWA3_SEIRINO,QWA3_JOKYOKBN,QWA3_KOUTANTOUSHACD,QWA3_KOUTANTOUSHAMEI,
    QWA3_KOUYMD,QWA3_KOUTIME,QWA3_TOUTANTOUSHACD,QWA3_TOUTANTOUSHAMEI,QWA3_TOUYMD,
    QWA3_TOUTIME,QBA1_UKETSUKENO,QBA1_HONKJNAME,QBA1_HONTEL1,QBA1_HONTEL2,
    QBA1_HONTEL3,QWA1_PRMBUNSHOKANRINO,QWA1_TOUZAIKBN,QWA1_BUNSHOMEI,QWA1_BUNRUICD,
    QWA1_KIJITSUKANRIKBN,QWA1_SEIRINOKBN,QWA1_BUNSHOUMUKBN,QWA1_SHORIKBN,
    QTA1_CARDKBN,QTA1_GKNSHIKIBETSUNO,QTA1_GKNEDABAN,QWA3_BARCODE)
AS
SELECT M.QTA1_HONSHIMEIKAN,
        M.QTA1_JTKTELSHIGAI,
        M.QTA1_JTKTELKYOKU,
        M.QTA1_JTKTELNO,
        T.QWA3_PRMKIGYOUCD,
        T.QWA3_PRMSUBRANGEKEY,
        T.QWA3_PRMNAIBUKAIINNO,
        T.QWA3_PRMUKETSUKENO,
 T.QWA3_PRMSakuseiBi,
 T.QWA3_PRMSakuseiTime,
 T.QWA3_PRMRenban,
        T.QWA3_KAIINNO,
        T.QWA3_TOUZAIKBN,
        T.QWA3_KAIINNAME,
        T.QWA3_JSHJUSHOKBN,
        T.QWA3_JSHYUBINNO,
        T.QWA3_JSHJUSHO1,
        T.QWA3_JSHJUSHO2,
        T.QWA3_JSHJUSHO3,
        T.QWA3_JSHJUSHO4,
        T.QWA3_JSHATENA,
        T.QWA3_BUNSHOKANRINO,
        T.QWA3_BUNSHOMEI,
        T.QWA3_HASSOUYMD,
        T.QWA3_HENYOTEIYMD,
        T.QWA3_HENKYAKUYMD,
        T.QWA3_HENKYAKURIYU,
        T.QWA3_SEIRINO,
        T.QWA3_JOKYOKBN,
        T.QWA3_KOUTANTOUSHACD,
        T.QWA3_KOUTANTOUSHAMEI,
        T.QWA3_KOUYMD,
        T.QWA3_KOUTIME,
        T.QWA3_TOUTANTOUSHACD,
        T.QWA3_TOUTANTOUSHAMEI,
        T.QWA3_TOUYMD,
        T.QWA3_TOUTIME,
        S.QBA1_UKETSUKENO,
        S.QBA1_HONKJNAME,
        S.QBA1_HONTEL1,
        S.QBA1_HONTEL2,
        S.QBA1_HONTEL3,
 B.QWA1_PRMBunshokanriNo,
 B.QWA1_TouzaiKbn,
 B.QWA1_BunshoMei,
 B.QWA1_BunruiCd,
 B.QWA1_KijitsuKanriKbn,
 B.QWA1_SeiriNoKbn,
 B.QWA1_BunshoUmuKbn,
 B.QWA1_ShoriKbn,
-- 2002/08/31 内部会員バーコード対応 SQT.YAMADA -->
        M.QTA1_CARDKBN,
        M.QTA1_GKNSHIKIBETSUNO,
        M.QTA1_GKNEDABAN,
        T.QWA3_BARCODE
-- 2002/08/31 <--
  FROM  QTA1_KAIINM M, QWA3_KIJITSUT T, QBA1_MOSHIKOMIT S,QWA1_BunshoCTRLM B
  WHERE T.QWA3_PRMKIGYOUCD = M.QTA1_PRMKIGYOUCD(+)
    AND T.QWA3_PRMSUBRANGEKEY = M.QTA1_PRMSUBRANGEKEY(+)
    AND T.QWA3_PRMNAIBUKAIINNO = M.QTA1_PRMNAIBUKAIINNO(+)
    AND T.QWA3_PRMUKETSUKENO = S.QBA1_UKETSUKENO(+)
    AND T.QWA3_BunshokanriNo = B.QWA1_PRMBunshoKanriNo

/
--CREATE OR REPLACE VIEW TCCUSER.QXA1_AUTHORIMONITORINGJOINVIEW
--    (KAIINNO,QXA1_SHORIYMD,QXA1_JYUSHINTIME,TORIHIKI,YOKYU,OUTOU,NYURYOKU,
--    SHIHARAI,HANTEI,QXA1_ERRORCODE,KINGAKU,KAMEITENNO,YUKOKIGEN,QXA1_FDSSCORE,
--    QXA3_SHORITANTO,TAISHO,QXA1_CENTERID,QXA1_CAFISTUBAN,QXA1_CENTERSHIKIBETU,
--    QXA1_TORIHIKIKBN,QXA1_KIGYOUCD,QXA1_SUBRANGEKEY,QXA1_NAIBUKAIINNO,QXA1_GAIBUKAIINNO,
--    QXA1_KAMEITENNO,QXA1_YOKYUDENBUNSBT,QXA1_OUTOUDENBUNSBT,QXA1_CARDENTRYDEV,
--    QXA1_SHIHARAIKBN,QXA3_MONITORINGKBN,QXA3_TAISHO)
--AS
--Select Substr(QXA1_GaibuKaiinNo,1,4) || '-' || Substr(QXA1_GaibuKaiinNo,5,4) || '-' || Substr(QXA1_GaibuKaiinNo,9,4) || '-' || Substr(QXA1_GaibuKaiinNo,13,4) As KaiinNo,
--	QXA1_ShoriYMD,
--	QXA1_JyushinTime,
--	g.QSA2_Mei As Torihiki,  --取引先（百貨店、加盟店）翻訳名称
--	c.QSA2_Mei As Yokyu,     --要求電文種別翻訳名称
--	f.QSA2_Mei As Outou,     --応答電文種別翻訳名称
--	d.QSA2_Mei As Nyuryoku,  --入力方法翻訳名称
--	e.QSA2_Mei As Shiharai,  --支払区分翻訳名称
--	Decode(QXA1_ErrorCode,NULL,'OK','NG') As Hantei,
--	QXA1_ErrorCode,
--	To_Char(QXA1_Kingaku,'99,999,999') As Kingaku,
--	Decode(Length(QXA1_KameitenNo),13,Substr(QXA1_KameitenNo,1,5) || '-' || Substr(QXA1_KameitenNo,6,2) || '-'|| Substr(QXA1_KameitenNo,8,1) || '-' || Substr(QXA1_KameitenNo,9,5),QXA1_KameitenNo) As KameitenNo,
----有効期限99XXはTo_Date関数でyyyy/mmに変換すると2099/XXになってしまう。
----よって、年（yy）から５０を引いた値がマイナスの場合は、2000年代とみなし、0又はプラスの場合は、1900年代とみなす
--	Decode(QXA1_YukoKigen,Null,Null,
--		Decode(QXA1_YukoKigen,Null,Null,
--               		Decode(QXA1_YukoKigen,'0000',Null,
--                        	Decode(Sign(To_Number(Substr(QXA1_YukoKigen,1,2)) - 50),-1,
--						'20' || Substr(QXA1_YukoKigen,1,2) || '/' || Substr(QXA1_YukoKigen,3,2),
--                               	'19' || Substr(QXA1_YukoKigen,1,2) || '/' || Substr(QXA1_YukoKigen,3,2)
--                				)
--                     		)
--			)
--		) As YukoKigen,
--	QXA1_FDSScore,
--	QXA3_ShoriTanto,
--	h.QSA2_Mei As Taisho,
--	QXA1_CenterID,
--	QXA1_CAFISTuban,
--	QXA1_CenterShikibetu,
--	QXA1_TorihikiKbn,
--	QXA1_KigyouCd,
--	QXA1_SubRangeKey,
--	QXA1_NaibuKaiinNo,
--	QXA1_GaibuKaiinNo,
--	QXA1_KameitenNo,
--	QXA1_YokyuDenbunSbt,
--	QXA1_OutouDenbunSbt,
--	QXA1_CardEntryDev,
--	QXA1_ShiharaiKbn,
--	QXA3_MonitoringKbn,
--	QXA3_Taisho
--From
--	QXA1_AuthoriLogT a,
--	QXA3_MonitoringT b,
--	(Select QSA2_PRMCodeNo,QSA2_Mei From QSA2_SCodeT Where QSA2_PRMCodeKbn='DSC') c,  --要求電文種別の翻訳
--	(Select QSA2_PRMCodeNo,QSA2_Mei From QSA2_SCodeT Where QSA2_PRMCodeKbn='DSA') d,  --入力方法の翻訳
--	(Select QSA2_PRMCodeNo,QSA2_Mei From QSA2_SCodeT Where QSA2_PRMCodeKbn='DXA') e,  --支払区分の翻訳
--	(Select QSA2_PRMCodeNo,QSA2_Mei From QSA2_SCodeT Where QSA2_PRMCodeKbn='DX1') f,  --応答電文種別の翻訳
--	(Select QSA2_PRMCodeNo,QSA2_Mei From QSA2_SCodeT Where QSA2_PRMCodeKbn='DS9') g,  --取引先の翻訳
--	(Select QSA2_PRMCodeNo,QSA2_Mei From QSA2_SCodeT Where QSA2_PRMCodeKbn='DX2') h   --対処（処置）の翻訳
--Where
--	(QXA1_CenterID=QXA3_CenterID(+)
--    And  QXA1_CAFISTuban=QXA3_CAFISTuban(+)
--    And  QXA1_CenterShikibetu=QXA3_CenterSkb(+)
--    And  QXA1_TorihikiKbn=QXA3_TorihikiKbn(+)
--    And  QXA1_ShoriYMD=QXA3_ShoriYMD(+)
--    And  QXA1_JyushinTime=QXA3_JyushinTime(+)
--    And  QXA1_KigyouCd=QXA3_KigyouCd(+)
--    And  QXA1_SubRangeKey=QXA3_SubRangeKey(+)
--    And  QXA1_NaibuKaiinNo=QXA3_NaibuKaiinNo(+))
--    And (RTrim(c.QSA2_PRMCodeNo(+))=Substr(QXA1_YokyuDenbunSbt,1,2))
--    And (RTrim(d.QSA2_PRMCodeNo(+))=QXA1_CardEntryDev)
--    And (RTrim(e.QSA2_PRMCodeNo(+))=QXA1_TorihikiKbn || QXA1_ShiharaiKbn)
--    And (RTrim(f.QSA2_PRMCodeNo(+))=Substr(QXA1_OutouDenbunSbt,3,2))
--    And (RTrim(g.QSA2_PRMCodeNo(+))=QXA1_TorihikiKbn)
--    And (RTrim(h.QSA2_PRMCodeNo(+))=QXA3_Taisho)
--/
--CREATE OR REPLACE VIEW TCCUSER.QXA1_AUTORILOGV
--    (KAIINNO,QXA1_SHORIYMD,QXA1_JYUSHINTIME,TORIHIKI,YOKYU,OUTOU,NYURYOKU,
--    SHIHARAI,HANTEI,QXA1_ERRORCODE,KINGAKU,KAMEITENNO,YUKOKIGEN,QXA1_FDSSCORE,
--    QXA1_CENTERID,QXA1_CAFISTUBAN,QXA1_CENTERSHIKIBETU,QXA1_TORIHIKIKBN,
--    QXA1_KIGYOUCD,QXA1_SUBRANGEKEY,QXA1_NAIBUKAIINNO,QXA1_RIYOUDATETIME,
--    QXA1_YOKYUDENBUNSBT,QXA1_GAIBUKAIINNO,QXA1_KAMEITENNO,QXA1_CARDENTRYDEV,
--    QXA1_KINGAKU)
--AS
--Select
----表示項目
--	Substr(QXA1_GaibuKaiinNo,1,4) || '-' ||
--	Substr(QXA1_GaibuKaiinNo,5,4) || '-' ||
--	Substr(QXA1_GaibuKaiinNo,9,4) || '-' ||
--	Substr(QXA1_GaibuKaiinNo,13,4) As KaiinNo,
--	QXA1_ShoriYMD,
--	QXA1_JyushinTime,
--	g.QSA2_Mei As Torihiki,
--	c.QSA2_Mei As Yokyu,
--	f.QSA2_Mei As Outou,
--	d.QSA2_Mei As Nyuryoku,
--	e.QSA2_Mei As Shiharai,
--	Decode(
--		QXA1_ErrorCode,NULL,'OK',
----20010905ﾋﾟﾝﾎﾟｲﾝﾄ対応（ﾋﾟﾝﾎﾟｲﾝﾄ時はOKとする）
----			'NG'
--            DECODE(SUBSTR(QXA1_ErrorCode,1,1),'P','OK','NG')
----20010905
--	) As Hantei,
--	QXA1_ErrorCode,
--	To_Char(QXA1_Kingaku,'99,999,999') As Kingaku,
--	Decode(
--		Length(QXA1_KameitenNo),13,
--			Substr(QXA1_KameitenNo,1,5) || '-' ||
--			Substr(QXA1_KameitenNo,6,2) || '-' ||
--			Substr(QXA1_KameitenNo,8,1) || '-' ||
--			Substr(QXA1_KameitenNo,9,5),
--			QXA1_KameitenNo
--	) As KameitenNo,
----有効期限99XXはTo_Date関数でyyyy/mmに変換すると2099/XXになってしまう。
----よって、年（yy）から５０を引いた値がマイナスの場合は、2000年代とみなし、0又はプラスの場合は、1900年代とみなす
--	Decode(QXA1_YukoKigen,Null,Null,
--               Decode(QXA1_YukoKigen,'0000',Null,
----20010731有効期限上２桁判断条件を50年→70年に変更
----                        Decode(Sign(To_Number(Substr(QXA1_YukoKigen,1,2)) - 50),-1,'20' || Substr(QXA1_YukoKigen,1,2) || '/' || Substr(QXA1_YukoKigen,3,2),
--                        Decode(Sign(To_Number(Substr(QXA1_YukoKigen,1,2)) - 70),-1,'20' || Substr(QXA1_YukoKigen,1,2) || '/' || Substr(QXA1_YukoKigen,3,2),
----20010731
--                               '19' || Substr(QXA1_YukoKigen,1,2) || '/' || Substr(QXA1_YukoKigen,3,2)
--                              )
--                     )
--	) As YukoKigen,
--        QXA1_FDSScore,
----表示項目ここまで
----非表示項目
--	QXA1_CenterID,
--	QXA1_CAFISTuban,
--	QXA1_CenterShikibetu,
--	QXA1_TorihikiKbn,
--	QXA1_KigyouCd,
--	QXA1_SubRangeKey,
--	QXA1_NaibuKaiinNo,
----非表示項目ここまで
----検索条件項目
--	QXA1_RIYOUDATETIME,
--	QXA1_YOKYUDENBUNSBT,
--	QXA1_GAIBUKAIINNO,
--	QXA1_KAMEITENNO,
--	QXA1_CARDENTRYDEV,
--	QXA1_Kingaku
--From
--QXA1_AuthoriLogT a,
--(Select QSA2_PRMCodeNo,QSA2_Mei From QSA2_SCodeT Where QSA2_PRMCodeKbn='DSC') c,
--(Select QSA2_PRMCodeNo,QSA2_Mei From QSA2_SCodeT Where QSA2_PRMCodeKbn='DSA') d,
--(Select QSA2_PRMCodeNo,QSA2_Mei From QSA2_SCodeT Where QSA2_PRMCodeKbn='DXA') e,
--(Select QSA2_PRMCodeNo,QSA2_Mei From QSA2_SCodeT Where QSA2_PRMCodeKbn='DX1') f,
--(Select QSA2_PRMCodeNo,QSA2_Mei From QSA2_SCodeT Where QSA2_PRMCodeKbn='DS9') g
--Where
--(RTrim(c.QSA2_PRMCodeNo(+))=Substr(QXA1_YokyuDenbunSbt,1,2)) And
--(RTrim(d.QSA2_PRMCodeNo(+))=QXA1_CardEntryDev) And
--(RTrim(e.QSA2_PRMCodeNo(+))=QXA1_TorihikiKbn || QXA1_ShiharaiKbn) And
--(RTrim(f.QSA2_PRMCodeNo(+))=Substr(QXA1_OutouDenbunSbt,3,2)) And
--(RTrim(g.QSA2_PRMCodeNo(+))=QXA1_TorihikiKbn)
--/
--CREATE OR REPLACE VIEW TCCUSER.QXA1_AUTORILOGV2
--    (KAIINNO,QXA1_SHORIYMD,QXA1_JYUSHINTIME,TORIHIKI,YOKYU,OUTOU,NYURYOKU,
--    SHIHARAI,HANTEI,QXA1_ERRORCODE,KINGAKU,KAMEITENNO,YUKOKIGEN,QXA1_FDSSCORE,
--    QXA1_CENTERID,QXA1_CAFISTUBAN,QXA1_CENTERSHIKIBETU,QXA1_TORIHIKIKBN,
--    QXA1_KIGYOUCD,QXA1_SUBRANGEKEY,QXA1_NAIBUKAIINNO,QXA1_RIYOUDATETIME,
--    QXA1_YOKYUDENBUNSBT,QXA1_GAIBUKAIINNO,QXA1_KAMEITENNO,QXA1_CARDENTRYDEV,
--    QXA1_KINGAKU)
--AS
--Select
----表示項目
--	Substr(QXA1_GaibuKaiinNo,1,4) || '-' ||
--	Substr(QXA1_GaibuKaiinNo,5,4) || '-' ||
--	Substr(QXA1_GaibuKaiinNo,9,4) || '-' ||
--	Substr(QXA1_GaibuKaiinNo,13,4) As KaiinNo,
--	QXA1_ShoriYMD,
--	QXA1_JyushinTime,
--	g.QSA2_Mei As Torihiki,
--	c.QSA2_Mei As Yokyu,
----	f.QSA2_Mei As Outou,			--DEL 2006.02.28 by ALPHA.YOKOYAMA >> 提携先代行オーソリ結果反映対応 <<
---- Start  Of ADD 2006.02.28 by ALPHA.YOKOYAMA >> 提携先代行オーソリ結果反映対応 <<  ---------------------------------------------
--	Decode(QXA1_ErrorCode,'CAF','拒否',
--	   Decode(Substr(QXA1_SHIMUKEKAISHA,3,5),'50001',
--               Decode(QXA1_DENBUNSOSHINKBN,'1',
--                   Decode(Substr(QXA1_SHONINNO,2,1),'G','拒否',f.QSA2_Mei),
--               f.QSA2_Mei),
--	   f.QSA2_Mei)
--	) As Outou,
---- Finish Of ADD 2006.02.28 by ALPHA.YOKOYAMA >> 提携先代行オーソリ結果反映対応 <<  ---------------------------------------------
--	d.QSA2_Mei As Nyuryoku,
--	e.QSA2_Mei As Shiharai,
--	Decode(
--		QXA1_ErrorCode,NULL,'OK',
----20010905ﾋﾟﾝﾎﾟｲﾝﾄ対応（ﾋﾟﾝﾎﾟｲﾝﾄ時はOKとする）
----			'NG'
--            DECODE(SUBSTR(QXA1_ErrorCode,1,1),'P','OK','NG')
----20010905
--	) As Hantei,
----	QXA1_ErrorCode					--DEL 2006.02.28 by ALPHA.YOKOYAMA >> 提携先代行オーソリ結果反映対応 <<
---- Start  Of ADD 2006.02.28 by ALPHA.YOKOYAMA >> 提携先代行オーソリ結果反映対応 <<  ---------------------------------------------
--	Decode(Substr(QXA1_SHIMUKEKAISHA,3,5),'50001',
--               Decode(QXA1_DENBUNSOSHINKBN,'1',
--                      Decode(Substr(QXA1_SHONINNO,2,1),'G',Substr(QXA1_SHONINNO,1,1) || QXA1_ErrorCode,QXA1_ErrorCode),
--               QXA1_ErrorCode),
--	QXA1_ErrorCode
--	) As QXA1_ErrorCode,
---- Finish Of ADD 2006.02.28 by ALPHA.YOKOYAMA >> 提携先代行オーソリ結果反映対応 <<  ---------------------------------------------
--	To_Char(QXA1_Kingaku,'99,999,999') As Kingaku,
--	Decode(
--		Length(QXA1_KameitenNo),13,
--			Substr(QXA1_KameitenNo,1,5) || '-' ||
--			Substr(QXA1_KameitenNo,6,2) || '-' ||
--			Substr(QXA1_KameitenNo,8,1) || '-' ||
--			Substr(QXA1_KameitenNo,9,5),
--			QXA1_KameitenNo
--	) As KameitenNo,
----有効期限99XXはTo_Date関数でyyyy/mmに変換すると2099/XXになってしまう。
----よって、年（yy）から５０を引いた値がマイナスの場合は、2000年代とみなし、0又はプラスの場合は、1900年代とみなす
--	Decode(QXA1_YukoKigen,Null,Null,
--               Decode(QXA1_YukoKigen,'0000',Null,
----20010731有効期限上２桁判断条件を50年→70年に変更
----                        Decode(Sign(To_Number(Substr(QXA1_YukoKigen,1,2)) - 50),-1,'20' || Substr(QXA1_YukoKigen,1,2) || '/' || Substr(QXA1_YukoKigen,3,2),
--                        Decode(Sign(To_Number(Substr(QXA1_YukoKigen,1,2)) - 70),-1,'20' || Substr(QXA1_YukoKigen,1,2) || '/' || Substr(QXA1_YukoKigen,3,2),
----20010731
--                               '19' || Substr(QXA1_YukoKigen,1,2) || '/' || Substr(QXA1_YukoKigen,3,2)
--                              )
--                     )
--	) As YukoKigen,
--        QXA1_FDSScore,
----表示項目ここまで
----非表示項目
--	QXA1_CenterID,
--	QXA1_CAFISTuban,
--	QXA1_CenterShikibetu,
--	QXA1_TorihikiKbn,
--	QXA1_KigyouCd,
--	QXA1_SubRangeKey,
--	QXA1_NaibuKaiinNo,
----非表示項目ここまで
----検索条件項目
--	QXA1_RIYOUDATETIME,
--	QXA1_YOKYUDENBUNSBT,
--	QXA1_GAIBUKAIINNO,
--	QXA1_KAMEITENNO,
--	QXA1_CARDENTRYDEV,
--	QXA1_Kingaku
--From
--QXA1_AuthoriLogT a,
--(Select QSA2_PRMCodeNo,QSA2_Mei From QSA2_SCodeT Where QSA2_PRMCodeKbn='DSC') c,
--(Select QSA2_PRMCodeNo,QSA2_Mei From QSA2_SCodeT Where QSA2_PRMCodeKbn='DSA') d,
--(Select QSA2_PRMCodeNo,QSA2_Mei From QSA2_SCodeT Where QSA2_PRMCodeKbn='DXA') e,
--(Select QSA2_PRMCodeNo,QSA2_Mei From QSA2_SCodeT Where QSA2_PRMCodeKbn='DX1') f,
--(Select QSA2_PRMCodeNo,QSA2_Mei From QSA2_SCodeT Where QSA2_PRMCodeKbn='DS9') g
--Where
--(RTrim(c.QSA2_PRMCodeNo(+))=Substr(QXA1_YokyuDenbunSbt,1,2)) And
--(RTrim(d.QSA2_PRMCodeNo(+))=QXA1_CardEntryDev) And
--(RTrim(e.QSA2_PRMCodeNo(+))=QXA1_TorihikiKbn || QXA1_ShiharaiKbn) And
--(RTrim(f.QSA2_PRMCodeNo(+))=Substr(QXA1_OutouDenbunSbt,3,2)) And
--(RTrim(g.QSA2_PRMCodeNo(+))=QXA1_TorihikiKbn)
--/
--CREATE OR REPLACE VIEW TCCUSER.QXA3_MONITORING1V
--    (SHORIDATE,SHORITANTO,SHORITANTOMEI,ERRCODE,DATAREGDATE,JYUSHINTIME,
--    GAIBUKAIINNO,HONSHIMEIKAN,KAMEITEN_BANGO,KAMEITENMEIKANJI,QXA3_SHORIDATE,
--    TAISHO)
--AS
--SELECT TO_CHAR(QXA3_SHORIDATE,'yyyy') || '年 ' ||
--	TO_CHAR(QXA3_SHORIDATE,'mm') || '月 ' ||
--	TO_CHAR(QXA3_SHORIDATE,'dd') || '日' 			AS SHORIDATE,
--	QXA3_SHORITANTO									AS SHORITANTO,
--	QXA3_SHORITANTOMEI 								AS SHORITANTOMEI,
--	NVL(QXA3_ERRCODE, QXA3_FDSSCORE)				AS ERRCODE,
--	QXA3_DATAREGDATE								AS DATAREGDATE,
--	TO_CHAR(QXA3_SHORIDATE,'hh24:mi:ss') 			AS JYUSHINTIME,
--	SUBSTR(QXA3_GAIBUKAIINNO, 1, 4) || '-' ||
--	SUBSTR(QXA3_GAIBUKAIINNO, 5, 4) || '-' ||
--	SUBSTR(QXA3_GAIBUKAIINNO, 9, 4) || '-' ||
--	SUBSTR(QXA3_GAIBUKAIINNO, 13, 4)				AS GAIBUKAIINNO,
--	QTA1_HONSHIMEIKAN								AS HONSHIMEIKAN,
--	DECODE(LENGTH(QXA3_KAMEITENNO),
--		13,
--		SUBSTR(QXA3_KAMEITENNO, 1, 5) || '-'
--		|| SUBSTR(QXA3_KAMEITENNO, 6, 2) || '-'
--		|| SUBSTR(QXA3_KAMEITENNO, 8, 1) || '-'
--		|| SUBSTR(QXA3_KAMEITENNO, 9, 5),
--		QXA3_KAMEITENNO) 							AS KAMEITEN_BANGO, -- １３桁以上のときxxxxx-xx-x-xxxxx形式
--	QXA8_KAMEITENMEIKANJI							AS KAMEITENMEIKANJI,
--	QXA3_SHORIDATE,
--        a.QSA2_MEI AS TAISHO
--FROM 	QXA3_MonitoringT,
--	QTA1_KAIINM,
--	QXA8_KameitenInfM,
--        (SELECT  QSA2_PRMCODENO,QSA2_MEI FROM QSA2_SCODET WHERE QSA2_PRMCODEKBN='DX2') a
--WHERE QXA3_KIGYOUCD		=	QTA1_PRMKIGYOUCD(+)
--AND	QXA3_SUBRANGEKEY	=	QTA1_PRMSUBRANGEKEY(+)
--AND	QXA3_NAIBUKAIINNO	=	QTA1_PRMNAIBUKAIINNO(+)
--AND	QXA3_KAMEITENNO		=	QXA8_KAMEITENNO(+)
--AND     QXA3_TAISHO             =       a.QSA2_PRMCODENO(+)
--/
--CREATE OR REPLACE VIEW TCCUSER.QXA3_MONITORING2V
--    (SHORIDATE,SCORE_SCORP,FDSSCORE,SHORITANTO,SHORITANTOMEI,DATAREGDATE,
--    JYUSHINTIME,GAIBUKAIINNO,HONSHIMEIKAN,KAMEITEN_BANGO,KAMEITENMEIKANJI,
--    QXA3_SHORIDATE,TAISHO)
--AS
--SELECT TO_CHAR(QXA3_SHORIDATE,'yyyy') || '年 ' ||
--	TO_CHAR(QXA3_SHORIDATE,'mm') || '月 ' ||
--	TO_CHAR(QXA3_SHORIDATE,'dd') || '日' 			AS SHORIDATE,
--	DECODE(QXA3_FDSSCORE,
--		LEAST(QXA3_FDSSCORE, 50),  '0-50',
--		LEAST(QXA3_FDSSCORE, 100), '51-100',
--		LEAST(QXA3_FDSSCORE, 150), '101-150',
--		LEAST(QXA3_FDSSCORE, 200), '151-200',
--		LEAST(QXA3_FDSSCORE, 250), '201-250',
--		LEAST(QXA3_FDSSCORE, 300), '251-300',
--		LEAST(QXA3_FDSSCORE, 350), '301-350',
--		LEAST(QXA3_FDSSCORE, 400), '351-400',
--		LEAST(QXA3_FDSSCORE, 450), '401-450',
--		LEAST(QXA3_FDSSCORE, 500), '451-500',
--		LEAST(QXA3_FDSSCORE, 550), '501-550',
--		LEAST(QXA3_FDSSCORE, 600), '551-600',
--		LEAST(QXA3_FDSSCORE, 650), '601-650',
--		LEAST(QXA3_FDSSCORE, 700), '651-700',
--		LEAST(QXA3_FDSSCORE, 750), '701-750',
--		LEAST(QXA3_FDSSCORE, 800), '751-800',
--		LEAST(QXA3_FDSSCORE, 850), '801-850',
--		LEAST(QXA3_FDSSCORE, 900), '851-900',
--		LEAST(QXA3_FDSSCORE, 950), '901-950',
--		'951-999')									AS SCORE_SCORP,
--	QXA3_FDSSCORE									AS FDSSCORE,
--	QXA3_SHORITANTO									AS SHORITANTO,
--	QXA3_SHORITANTOMEI 								AS SHORITANTOMEI,
--	QXA3_DATAREGDATE								AS DATAREGDATE,
--	TO_CHAR(QXA3_SHORIDATE,'hh24:mi:ss') 			AS JYUSHINTIME,
--	SUBSTR(QXA3_GAIBUKAIINNO, 1, 4) || '-' ||
--	SUBSTR(QXA3_GAIBUKAIINNO, 5, 4) || '-' ||
--	SUBSTR(QXA3_GAIBUKAIINNO, 9, 4) || '-' ||
--	SUBSTR(QXA3_GAIBUKAIINNO, 13, 4)				AS GAIBUKAIINNO,
--	QTA1_HONSHIMEIKAN								AS HONSHIMEIKAN,
--	DECODE(LENGTH(QXA3_KAMEITENNO),
--		13,
--		SUBSTR(QXA3_KAMEITENNO, 1, 5) || '-'
--		|| SUBSTR(QXA3_KAMEITENNO, 6, 2) || '-'
--		|| SUBSTR(QXA3_KAMEITENNO, 8, 1) || '-'
--		|| SUBSTR(QXA3_KAMEITENNO, 9, 5),
--		QXA3_KAMEITENNO) 							AS KAMEITEN_BANGO, -- １３桁以上のときxxxxx-xx-x-xxxxx形式
--	QXA8_KAMEITENMEIKANJI							AS KAMEITENMEIKANJI,
--	QXA3_SHORIDATE,
--        a.QSA2_MEI AS TAISHO
--FROM 	QXA3_MonitoringT,
--	QTA1_KAIINM,
--	QXA8_KameitenInfM,
--        (SELECT  QSA2_PRMCODENO,QSA2_MEI FROM QSA2_SCODET WHERE QSA2_PRMCODEKBN='DX2') a
--WHERE QXA3_KIGYOUCD		=	QTA1_PRMKIGYOUCD(+)
--AND	QXA3_SUBRANGEKEY	=	QTA1_PRMSUBRANGEKEY(+)
--AND	QXA3_NAIBUKAIINNO	=	QTA1_PRMNAIBUKAIINNO(+)
--AND	QXA3_KAMEITENNO		=	QXA8_KAMEITENNO(+)
--AND     QXA3_TAISHO             =       a.QSA2_PRMCODENO(+)
--AND QXA3_ERRCODE IS NULL
--/
--CREATE OR REPLACE VIEW TCCUSER.QXA3_MONITORING3V
--    (SHORIDATE,ERRCODE,SHORITANTO,SHORITANTOMEI,DATAREGDATE,SHORITIME,GAIBUKAIINNO,
--    HONSHIMEIKAN,KAMEITEN_BANGO,KAMEITENMEIKANJI,QXA3_SHORIDATE,TAISHO)
--AS
--SELECT TO_CHAR(QXA3_SHORIDATE,'yyyy') || '年 ' ||
--	TO_CHAR(QXA3_SHORIDATE,'mm') || '月 ' ||
--	TO_CHAR(QXA3_SHORIDATE,'dd') || '日' 			AS SHORIDATE,
--	QXA3_ERRCODE || ' (' || a.QSA2_MEI || ')'			AS ERRCODE,
--	QXA3_SHORITANTO									AS SHORITANTO,
--	QXA3_SHORITANTOMEI 								AS SHORITANTOMEI,
--	QXA3_DATAREGDATE								AS DATAREGDATE,
--	TO_CHAR(QXA3_SHORIDATE,'hh24:mi:ss') 			AS SHORITIME,
--	SUBSTR(QXA3_GAIBUKAIINNO, 1, 4) || '-' ||
--	SUBSTR(QXA3_GAIBUKAIINNO, 5, 4) || '-' ||
--	SUBSTR(QXA3_GAIBUKAIINNO, 9, 4) || '-' ||
--	SUBSTR(QXA3_GAIBUKAIINNO, 13, 4)				AS GAIBUKAIINNO,
--	QTA1_HONSHIMEIKAN								AS HONSHIMEIKAN,
--	DECODE(LENGTH(QXA3_KAMEITENNO),
--		13,
--		SUBSTR(QXA3_KAMEITENNO, 1, 5) || '-'
--		|| SUBSTR(QXA3_KAMEITENNO, 6, 2) || '-'
--		|| SUBSTR(QXA3_KAMEITENNO, 8, 1) || '-'
--		|| SUBSTR(QXA3_KAMEITENNO, 9, 5),
--		QXA3_KAMEITENNO) 							AS KAMEITEN_BANGO, -- １３桁以上のときxxxxx-xx-x-xxxxx形式
--	QXA8_KAMEITENMEIKANJI							AS KAMEITENMEIKANJI,
--	QXA3_SHORIDATE,
--        b.QSA2_MEI AS TAISHO
--FROM 	QXA3_MonitoringT,
--	QTA1_KAIINM,
--	QXA8_KameitenInfM,
--	(	SELECT QSA2_PRMCODENO, QSA2_MEI	FROM QSA2_SCODET WHERE QSA2_PRMCODEKBN = 'DSD'	) a,
--        (SELECT  QSA2_PRMCODENO,QSA2_MEI FROM QSA2_SCODET WHERE QSA2_PRMCODEKBN='DX2') b
--WHERE QXA3_KIGYOUCD		=	QTA1_PRMKIGYOUCD(+)
--AND	QXA3_SUBRANGEKEY	=	QTA1_PRMSUBRANGEKEY(+)
--AND	QXA3_NAIBUKAIINNO	=	QTA1_PRMNAIBUKAIINNO(+)
--AND	QXA3_KAMEITENNO		=	QXA8_KAMEITENNO(+)
--AND QXA3_ERRCODE		IS NOT NULL
--AND QXA3_ERRCODE		=	RTRIM(a.QSA2_PRMCODENO(+))
--AND     QXA3_TAISHO             =       b.QSA2_PRMCODENO(+)
--
--/
--CREATE OR REPLACE VIEW TCCUSER.QXA3_MONITORING4V
--    (RIYOUBI,ERRCODE,KENSU,SUMKENSU)
--AS
--Select QXA3_ShoriYMD As riyoubi,
--       'SCR' As errcode,
--       Count(qxa3_gaibukaiinno) As kensu,
--       0 As sumkensu
--From   QXA3_MonitoringT
--Where  QXA3_ErrCode is null
--Group by QXA3_ShoriYMD
--Union All
--Select Decode(a.riyoubi,null,QXAB_SumDate,a.riyoubi),
--       QXAB_SumTaishoFrom,
--       kensu,
--       sumkensu
--From
--     (Select QXA3_ShoriYMD as riyoubi,
--             QXA3_ErrCode As errcd,
--             Count(QXA3_GaibuKaiinNo) as kensu
--      From QXA3_MonitoringT
--      Where QXA3_ErrCode is not null
--      Group by QXA3_ShoriYMD,QXA3_ErrCode) a,
--     (Select QXAB_SumDate,
--             QXAB_SumTaishoFrom,
--             QXAB_Kensu As sumkensu
--      From QXAB_MonitoringSumT
--      Where QXAB_SumKbn='1') b
--Where a.riyoubi(+)=b.QXAB_SumDate
--And   a.errcd(+)=b.QXAB_SumTaishoFrom
--
--/
--CREATE OR REPLACE VIEW TCCUSER.QXA3_MONITORING5V
--    (RIYOUBI,ERRCODE,TAISHO,KENSU)
--AS
--Select Riyoubi, ErrCode, Taisho, Kensu
--From (Select QXA3_SHORIYMD As Riyoubi, QXA3_ERRCODE As ErrCode, QXA3_TAISHO As Taisho, Count(QXA3_GAIBUKAIINNO) As Kensu
--      From QXA3_MonitoringT Where QXA3_MONITORINGKBN<'3'
--      Group by QXA3_SHORIYMD,QXA3_ERRCODE,QXA3_TAISHO) Union All
--     (Select QXA3_SHORIYMD As Riyoubi, 'Score' As ErrCode, QXA3_TAISHO As Taisho, Count(QXA3_GAIBUKAIINNO) As Kensu
--      From QXA3_MonitoringT Where QXA3_MONITORINGKBN='3'
--      Group by QXA3_SHORIYMD,QXA3_TAISHO)
--
--
--/
--CREATE OR REPLACE VIEW TCCUSER.QXA3_MONITORINGV
--    (QXA3_TAISHO,QXA3_GAIBUKAIINNO,QXA3_DATAREGDATE,QXA3_KAMEITENNO,QXA3_SHORIDATE,
--    QXA3_SHORIYMD,QXA3_JYUSHINTIME,GAIBUKAIINNO,KAMEITEN_BANGO,TORIHIKI,
--    QXA3_ERRCODE,QXA3_FDSSCORE,TAISHO,QXA3_SHORITANTO,SYORIBI,QXA3_SHORITANTOMEI)
--AS
--SELECT
--	QXA3_TAISHO,
--	QXA3_GAIBUKAIINNO,
--	QXA3_DATAREGDATE,
--	QXA3_KAMEITENNO,
--	QXA3_SHORIDATE,
--
--	QXA3_SHORIYMD,
--	QXA3_JYUSHINTIME,
--	SUBSTR(QXA3_GAIBUKAIINNO, 1, 4) || '-' ||
--	SUBSTR(QXA3_GAIBUKAIINNO, 5, 4) || '-' ||
--	SUBSTR(QXA3_GAIBUKAIINNO, 9, 4) || '-' ||
--	SUBSTR(QXA3_GAIBUKAIINNO, 13, 4) AS GAIBUKAIINNO,
--	DECODE(LENGTH(QXA3_KAMEITENNO),
--		13,
--		SUBSTR(QXA3_KAMEITENNO, 1, 5) || '-'
--		|| SUBSTR(QXA3_KAMEITENNO, 6, 2) || '-'
--		|| SUBSTR(QXA3_KAMEITENNO, 8, 1) || '-'
--		|| SUBSTR(QXA3_KAMEITENNO, 9, 5),
--		QXA3_KAMEITENNO) AS KAMEITEN_BANGO,		-- １３桁以上のときxxxxx-xx-x-xxxxx形式
--	SCODE1.QSA2_MEI AS TORIHIKI,
--	QXA3_ERRCODE,
--	QXA3_FDSSCORE,
--	SCODE2.QSA2_MEI AS TAISHO,
--	QXA3_SHORITANTO,
--	TO_CHAR(QXA3_SHORIDATE, 'yyyy/mm/dd') AS SYORIBI,
--	QXA3_SHORITANTOMEI
--FROM QXA3_MONITORINGT,
--(SELECT QSA2_PRMCODENO, QSA2_MEI FROM QSA2_SCODET WHERE QSA2_PRMCODEKBN = 'DS9') SCODE1,
--(SELECT QSA2_PRMCODENO, QSA2_MEI FROM QSA2_SCODET WHERE QSA2_PRMCODEKBN = 'DX2') SCODE2
--WHERE SCODE1.QSA2_PRMCODENO(+) = QXA3_TORIHIKIKBN
--AND	SCODE2.QSA2_PRMCODENO(+) = QXA3_TAISHO
--/
CREATE OR REPLACE VIEW TCCUSER.QXA8_KAMEITENINFV
    (KAMEITENNO,QXA8_KAMEITENMEIKANA,QXA8_KAMEITENMEIKANJI,QXA8_KAMEITENTELNO,
    ZIPCODE,GYOUSHU,TORISHOHIN,QXA8_KAMEITENADDR,MEMOUMU,MOTO,QXAE_MEMO,
    QXA8_KAMEITENNO,QXA8_GYOUSHUCD,QXA8_TORISHOHINCD,QXA8_SAKUSEIMOTOSIGN)
AS
Select Decode(Length(QXA8_KameitenNo),13,Substr(QXA8_KameitenNo,1,5) || '-' || Substr(QXA8_KameitenNo,6,2) || '-'
             || Substr(QXA8_KameitenNo,8,1) || '-' || Substr(QXA8_KameitenNo,9,5),QXA8_KameitenNo) As KameitenNo,
             QXA8_KameitenMeiKana,QXA8_KameitenMeiKanji,QXA8_KameitenTelNo,
             Decode(Length(QXA8_KameitenZipCode),Null,QXA8_KameitenZipCode,Substr(QXA8_KameitenZipCode,1,3) || '-' || Substr(QXA8_KameitenZipCode,4,4)) As ZipCode,
             b.QSA2_Mei As Gyoushu,c.QSA2_Mei As ToriShohin,QXA8_KameitenAddr,Decode(Length(e.QXAE_Memo),Null,'無','有') As MemoUmu,
             d.QSA2_Bikou As Moto,
             e.QXAE_Memo,QXA8_KameitenNo,QXA8_GyoushuCd,QXA8_ToriShohinCd,QXA8_SakuseiMotoSign
From QXA8_KameitenInfM a,
     (Select QSA2_PRMCodeNo,QSA2_Mei From QSA2_SCodeT Where QSA2_PRMCodeKbn='DXB') b,
     (Select QSA2_PRMCodeNo,QSA2_Mei From QSA2_SCodeT Where QSA2_PRMCodeKbn='DXC') c,
     (Select QSA2_PRMCodeNo,QSA2_Bikou From QSA2_SCodeT Where QSA2_PRMCodeKbn='DXD') d,
     QXAE_KameiAttrMemoT e
Where (RTrim(b.QSA2_PRMCodeNo(+))=QXA8_GyoushuCd) And
      (RTrim(c.QSA2_PRMCodeNo(+))=QXA8_ToriShohinCd) And
      (RTrim(d.QSA2_PRMCodeNo(+))=QXA8_SakuseiMotoSign) And
      QXAE_KameitenNo(+)=QXA8_KameitenNo
/
CREATE OR REPLACE VIEW TCCUSER.QXB1_KANSHIV
    (QXB1_PRMKIGYOUCD,QXB1_PRMSUBRANGEKEY,QXB1_PRMNAIBUKAIINNO,QXB1_CARDKBN,
    QXB1_GKNSHIKIBETSUNO,QXB1_GKNEDABAN,QXB1_SVTOUROKUYMD,QXB1_KANSIJYOKENNO,
    QXB1_HANTEIKEKKA,QXB1_HONSHIMEIKAN,QXB1_STSKOZA,QXB1_YSNSOUGENDO,QXB1_KANSIJYOKENKINGAKU,
    QXB1_KANSIJYOKENKAISU)
AS
SELECT
  QXB1_PRMKIGYOUCD    --企業コード
 ,QXB1_PRMSUBRANGEKEY   --サブレンジキー
 ,QXB1_PRMNAIBUKAIINNO   --内部会員番号
 ,QTA1_CARDKBN     --カード区分
 ,QTA1_GKNSHIKIBETSUNO   --識別番号
 ,QTA1_GKNEDABAN     --枝番
 ,QXB1_SVTOUROKUYMD    --登録日
 ,QXB1_KANSIJYOKENNO    --監視条件
 ,QXB1_HANTEIKEKKA    --判定結果
 ,QTA1_HONSHIMEIKAN    --氏名
 ,QTA1_STSKOZA     --口座ステータス
 ,QTA1_YSNSOUGENDO    --与信情報・総限度額
 ,QXB1_KANSIJYOKENKINGAKU  --監視条件金額
 ,QXB1_KANSIJYOKENKAISU   --監視条件回数
FROM
  QXB1_KANSIINFOT    --売上監視テーブル
 ,QTA1_KAIINM     --会員マスタテーブル
WHERE
 QXB1_PRMKIGYOUCD = QTA1_PRMKIGYOUCD
AND
 QXB1_PRMSUBRANGEKEY = QTA1_PRMSUBRANGEKEY
AND
 QXB1_PRMNAIBUKAIINNO = QTA1_PRMNAIBUKAIINNO
/
CREATE OR REPLACE VIEW TCCUSER.QXB3_KANSHIJYOKENV
    (QXB3_PRMKANSIJYOUKEN,QXB3_PRMKANSIJYOUKENTUBAN,QXB3_KANSIJYOUKENMEI,
    QXB3_KANNSITAISYOUTBL,QXB3_TAISYOKIKAN,QXB3_RIYOKINGAKU,QXB3_TORIHIKIKENSU,
    QXB3_BIKOU,QXB3_TEIKEIKBN,QXB3_DENPYOSYUBETU,QXB3_RIYOUTEN,QXB3_SHIHARAIHOUHOU,
    QXB3_GYOSYUCD1,QXB3_GYOSYUCD2,QXB3_GYOSYUCD3,QXB3_GYOSYUCD4,QXB3_GYOSYUCD5,
    QXB3_GYOSYUCD6,QXB3_GYOSYUCD7,QXB3_KAMEITENNO1,QXB3_KAMEITENNO2,QXB3_KAMEITENNO3,
    QXB3_KAMEITENNO4)
AS
SELECT
	 QXB3_PRMKANSIJYOUKEN			--条件番号
	,QXB4_PRMKANSIJYOUKENTUBAN		--通番
	,QXB3_KANSIJYOUKENMEI			--条件名
	,QXB3_KANNSITAISYOUTBL			--監視対象テーブル名
	,QXB3_TAISYOKIKAN				--期間
	,QXB3_RIYOKINGAKU				--利用金額
	,QXB3_TORIHIKIKENSU				--取引件数
	,QXB3_BIKOU						--備考
	,QXB4_TEIKEIKBN					--提携区分
	,QXB3_DENPYOSYUBETU				--伝票種別
	,QXB3_RIYOUTEN					--利用店
	,QXB3_SHIHARAIHOUHOU			--支払方法
	,QXB4_GYOSYUCD1					--業種コード１
	,QXB4_GYOSYUCD2					--業種コード２
	,QXB4_GYOSYUCD3					--業種コード３
	,QXB4_GYOSYUCD4					--業種コード４
	,QXB4_GYOSYUCD5					--業種コード５
	,QXB4_GYOSYUCD6					--業種コード６
	,QXB4_GYOSYUCD7					--業種コード７
	,QXB4_KAMEITENNO1				--加盟店番号１
	,QXB4_KAMEITENNO2				--加盟店番号２
	,QXB4_KAMEITENNO3				--加盟店番号３
	,QXB4_KAMEITENNO4				--加盟店番号４
FROM
	 QXB3_KANSIJYOUKENM
	,QXB4_KANSIJYOUKENT
WHERE
	QXB3_PRMKANSIJYOUKEN = QXB4_PRMKANSIJYOUKEN(+)
AND
	QXB3_PRMKANSIJYOUKEN <> '00'
/
CREATE OR REPLACE VIEW TCCUSER.QXB5_BUNSEKIV
    (QXB5_PRMKIGYOUCD,QXB5_PRMSUBRANGEKEY,QXB5_PRMNAIBUKAIINNO,QXB5_CARDKBN,
    QXB5_GKNSHIKIBETSUNO,QXB5_GKNEDABAN,QXB5_PRMSVTOUROKUYM,QXB5_PRMKIKANKBN,
    QXB5_PRMBUNSEKIJYOKENNO,QXB5_HONSHIMEIKAN,QXB5_YSNSOUGENDO,QXB5_ZENZANDAKA)
AS
SELECT
	 QXB5_PRMKIGYOUCD				--企業コード
	,QXB5_PRMSUBRANGEKEY			--サブレンジキー
	,QXB5_PRMNAIBUKAIINNO			--内部会員番号
	,QTA1_CARDKBN					--カード区分
	,QTA1_GKNSHIKIBETSUNO			--識別番号
	,QTA1_GKNEDABAN					--枝番
	,QXB5_PRMSVTOUROKUYM			--登録年月
	,QXB5_PRMKIKANKBN				--期間区分
	,QXB5_PRMBUNSEKIJYOKENNO		--分析条件
	,QTA1_HONSHIMEIKAN				--氏名
	,QTA1_YSNSOUGENDO				--与信情報・総限度額
	,QXB5_ZENZANDAKA				--全残高
FROM
	 QXB5_BUNSEKIINFOT				--売上監視テーブル
	,QTA1_KAIINM					--会員マスタテーブル
WHERE
	QXB5_PRMKIGYOUCD = QTA1_PRMKIGYOUCD
AND
	QXB5_PRMSUBRANGEKEY = QTA1_PRMSUBRANGEKEY
AND
	QXB5_PRMNAIBUKAIINNO = QTA1_PRMNAIBUKAIINNO
/
CREATE OR REPLACE VIEW TCCUSER.QXC7_RGKSUMV
    (QXC7_PRMSHINSAYM,QXC7_PRMHSTSHINSA,QXC7_TOTALCOUNT,QXC7_HORYUCOUNT,
    QXC7_KAKUAGECOUNT,QXC7_NOUPDCOUNT,QXC7_UPCOUNT)
AS
SELECT
    QXC7_PRMSHINSAYM,                                            --審査年月
    DECODE(QXC7_PRMHSTSHINSA, '1','0','2','1','0','2','3'),      --審査結果
    QXC7_TOTALCOUNT,                                             --候補件数
    QXC7_HORYUCOUNT,                                             --保留件数
    QXC7_KAKUAGECOUNT,                                           --格上げ件数
    QXC7_TOTALCOUNT - QXC7_HORYUCOUNT - QXC7_KAKUAGECOUNT,       --審査変更無件数
    QXC7_UPCOUNT                                                 --更新済件数
FROM
    QXC7_RGKSUMT
/
CREATE OR REPLACE VIEW TCCUSER.QXC8_RGKKEKASUMV
    (QXC8_PRMSHINSAYM,QXC8_PRMYSNRANK,QXC8_PRMLSTRANK,QXC8_YSNGENDOGAKU,
    QXC8_LSTGENDOGAKU,QXC8_COUNT,QXC8_SAGAKU)
AS
SELECT
    QXC8_PRMSHINSAYM,
    QXC8_PRMYSNRANK,
    QXC8_PRMLSTRANK,
    TO_NUMBER((QSA3_A.QSA3_MEI / 10)),         --審査前限度額
    TO_NUMBER((QSA3_B.QSA3_MEI / 10)),         --審査後限度額
    QXC8_COUNT,
    TO_NUMBER(((QSA3_B.QSA3_MEI / 10) - (QSA3_A.QSA3_MEI / 10)) * QXC8_COUNT)
FROM
    QXC8_RGKKEKASUMT,
    QSA3_CODEV QSA3_A,
    QSA3_CODEV QSA3_B
WHERE
    (
         QSA3_A.QSA3_PRMCODEKBN = 'DYO'
     AND
         QXC8_PRMYSNRANK = QSA3_A.QSA3_PRMCODENO
    )
AND
    (
         QSA3_B.QSA3_PRMCODEKBN = 'DYO'
     AND
         QXC8_PRMLSTRANK = QSA3_B.QSA3_PRMCODENO
    )
/
CREATE OR REPLACE VIEW TCCUSER.QXNB_ERRLISTV
    (QXNB_CARDKAISHA,QXNB_TOUZAIKBN,QXNB_KAIINNO,QXNB_SAKUSEIBI,QXNB_TORIHIKIA,
    QXNB_TORIHIKIB,QXNB_TORIHIKIC,QXNB_KAMEITENNO,QXNB_KAMEITENMEI1,QXNB_KAMEITENMEI2,
    QXNB_RIYOUBI,QXNB_TOSIMEI,QXNB_URIAGEKNG,QXNB_GENTITUKA,QXNB_ZEISORYO,
    QXNB_KANSANRATE,QXNB_URIAGEGOKEI,QXNB_KUNI,QXNB_GYOSYU,QXNB_KOKUKAISIKIBETU,
    QXNB_USAGE,QXNB_TEIKEISYOKAINO,QXNB_ERRNAIYOU,QXNB_HASSEITEN,QXNB_SYUCODE)
AS
SELECT
        SUBSTR(QXN3_RYMCardNo,1,4),
        QXN3_TouzaiKbn,
        QXN3_RYMCardNo,
        DECODE(QXN3_BATSyoriBi,NULL,' ',TO_CHAR(QXN3_BATSyoriBi,'YYYYMMDD')),
        NVL(QXN3_KGDTorihikiA,' '),
        NVL(QXN3_KGDTorihikiB,' '),
        NVL(QXN3_KGDTorihikiC,' '),
        QXN3_KGDkameitenNo,
        NVL(QXN3_KGDKameitenMei1,' '),
        NVL(QXN3_KGDKameitenMei2,' '),
        DECODE(QXN3_KGDRiyouBi,NULL,' ',TO_CHAR(QXN3_KGDRiyouBi,'YYYYMMDD')),
        NVL(QXN3_KGDToshiMei,' '),
        QXN3_KGDRiyouKng,
        QXN3_KGDGenchiTsuka,
        QXN3_KGDZeiTesuryo,
        QXN3_KGDKansanRate,
        QXN3_KGDUriGoukei,
        QXN3_KGDKuniCD,
        QXN3_KGDGyosyuCD,
        QXN3_KGDKokunaiGai,
        QXN3_RYMRepKbn,
        QXN3_KGDSyoukaiNo1,
        NVL(QSA3_MEI,' '),
        QXN3_RYMHasseiTen,         --発生店 ADD2004-02-18 BY NBC
        QXN3_KGDSyuuCD
     FROM
        QXN3_ErrDataT,       --未発行／売上ｴエラーデータテーブル
        (SELECT QSA3_PRMCODENO,
         QSA3_MEI
         FROM QSA3_CodeV
         WHERE QSA3_PRMCODEKBN = 'C87'
         ) QSA3_CodeV		--コードＶＩＥＷ
     WHERE QXN3_RYMJIKORIYU =  QSA3_PRMCodeNo(+)

/
CREATE OR REPLACE VIEW TCCUSER.QXNF_HONAKULISTV
    (QXNF_TOUZAIKBN,QXNF_SAKUSEIBI,QXNF_KAIINNO,QXNF_KAIINNAME,QXNF_DENPYOSYUBETU,
    QXNF_RIYOUSHA,QXNF_MISE,QXNF_DENPYONO,QXNF_TORIHIKITUUBAN,QXNF_SIHARAIHOHO,
    QXNF_KEIJYOBI,QXNF_RIYOUBI,QXNF_SHOUHINMEI,QXNF_KINGAKU,QXNF_KOZASTATUS)
AS
SELECT
        QXN6_TouzaiKbn,
        DECODE(QXN6_BATSyoriBi,NULL,' ',TO_CHAR(QXN6_BATSyoriBi,'YYYYMMDD')),
        QXN6_RYMCardNo,
        NVL(QXN6_Meigi,' '),
        QXN6_RYMDenSyubetsu,
        QXN6_RYMRiyousyaCD,
        QXN6_RYMHASSEITEN,
        QXN6_RYMDenpyoNo,
        QXN6_RYMToriTsuban,
        QXN6_RYMShiharai,
        DECODE(QXN6_RYMKeijouBi,NULL,' ',TO_CHAR(QXN6_RYMKeijouBi,'YYYYMMDD')),
        DECODE(QXN6_RYMRiyouBi,NULL,' ',TO_CHAR(QXN6_RYMRiyouBi,'YYYYMMDD')),
        NVL(QXN6_KGDKameitenMei1,' '),
        QXN6_RYMRiyouKng,
        NVL(QSA3_MEI,' ')
     FROM
        QXN6_HonAkuDataT,  --本人悪用データテーブル
  (SELECT QSA3_PRMCODENO,
    QSA3_MEI
   FROM QSA3_CodeV
   WHERE QSA3_PRMCODEKBN = 'S01'
  ) QSA3_CodeV  --コードＶＩＥＷ
     WHERE QXN6_RYMStatus =  QSA3_PRMCodeNo(+)

/
CREATE OR REPLACE VIEW TCCUSER.QXNM_HOKENSV
    (QXNM_KAIINNAME,QXNM_KAIINNO,QXNM_JYUSYO1,QXNM_JYUSYO2,QXNM_TEL1,QXNM_TEL2,
    QXNM_TEL3,QXNM_JIKOBI,QXNM_KINGAKU,QXNM_TOUROKUDATE)
AS
SELECT
		 QXNE_KAIINNAME
		,QXNE_KAIINNO
		,QXNE_JYUSYO1
		,QXNE_JYUSYO2
		,QXNE_TEL1
		,QXNE_TEL2
		,QXNE_TEL3
		,max(QXNE_JIKOBI)
		,sum(QXNE_KINGAKU)
		,QXNE_HOKENDATETIME
	FROM
		QXNE_HOKENLISTT
	GROUP BY
		 QXNE_KAIINNAME
		,QXNE_KAIINNO
		,QXNE_JYUSYO1
		,QXNE_JYUSYO2
		,QXNE_TEL1
		,QXNE_TEL2
		,QXNE_TEL3
		,QXNE_HOKENDATETIME
--	ORDER BY QXNE_KAIINNO

/
CREATE OR REPLACE VIEW TCCUSER.QXS7_JIKOTEGAMIV
    (QXS7_BUNSHOKANRINO,QXS7_BUNSHOMEI,QXS7_TOUZAIKBN,QXS7_BUNRUICD,QXS7_BUNRUIMEI,
    QXS7_KIJITSUKANRIKBN)
AS
SELECT QWA1_PRMBUNSHOKANRINO,QWA1_BUNSHOMEI,QWA1_TOUZAIKBN,QWA1_BUNRUICD,QWA2_BUNRUIMEI,QWA1_KIJITSUKANRIKBN
FROM QWA1_BUNSHOCTRLM,QWA2_BUNRUIM
WHERE QWA1_PRMBUNSHOKANRINO IN ('0758','0258','0259','0825','0826','0827',
 '0203','0207','0208','0210','0818','0819','0822','0221','0222','0223',
 '0293','0224','0296','0347','0239','0358','0757','0815','0817','0379') AND
 QWA1_BUNRUICD = QWA2_PRMBUNRUICD
/
--CREATE OR REPLACE VIEW TCCUSER.QXS8_CICEFFECTV
--    (QXS8_SHORIYMD,QXS8_JYUSHINTIME,QXS8_GAIBUKAIINNO,QXS8_KJNAME,QXS8_KINGAKU)
--AS
--SELECT		--HINT文なし
----SELECT /*+ INDEX(QXA1_AUTHORILOGT@QS_FDS.FDS.CARD XIE4QXA1_AUTHORILOGT@QS_FDS.FDS.CARD) */	--本番環境
----SELECT /*+ INDEX(QXA1_AUTHORILOGT XIE4QXA1_AUTHORILOGT) */	--ST環境
--	A.QXA1_SHORIYMD,
--	A.QXA1_JYUSHINTIME,
--	A.QXA1_GAIBUKAIINNO,
--	J.QXS1_KJNAME,
--	A.QXA1_KINGAKU
--FROM
--	QXA1_AUTHORILOGT@QS_FDS.FDS.CARD A,		--本番環境
----	QXA1_AUTHORILOGT A,						--ST環境
--	QXS1_JIKOUKET J
--WHERE ((A.QXA1_JYUSHINTIME BETWEEN '00:00:00' AND '10:00:00'
--	AND A.QXA1_SHORIYMD = TO_CHAR(J.QXS1_PRMMAKEDATE,'YYYY/MM/DD'))
--	OR  (A.QXA1_JYUSHINTIME BETWEEN '18:00:00' AND '24:00:00'
--	AND A.QXA1_SHORIYMD = TO_CHAR(J.QXS1_PRMMAKEDATE - 1,'YYYY/MM/DD')))
--	AND A.QXA1_ERRORCODE = 'G60'
--	AND A.QXA1_GAIBUKAIINNO = J.QXS1_GAIBUKAIINNO
--	AND (J.QXS1_NEGAKBN = '1'
--	OR	J.QXS1_NEGAKBN = '2')
--	AND J.QXS1_DELDATE IS NULL
--
--/
CREATE OR REPLACE VIEW TCCUSER.QXTD_GENDOKAIINSV
    (QXTD_PRMTABANO,QXTD_PRMKIGYOUCD,QXTD_PRMSUBRANGEKEY,QXTD_PRMNAIBUKAIINNO,
    QXTD_PRMKANKEIKBN,QXTD_PRMKAZOKURBN,QXTD_HIRAISTATUS,QXTD_CARDKBN,QXTD_KAIINNO,
    QXTD_SIMEI,QXTD_REVSMAITSUKI,QXTD_REVSBONUS,QXTD_REVCMAITSUKI,QXTD_REVCBONUS,
    QXTD_KANRITEN,QXTD_NYKAIYMD,QXTD_CTLHONKNNAME,QXTD_HALFORONEKBN,QXTD_BIRTHDAY,
    QXTD_JIFURIKAISU,QXTD_JIFURINGKAISU,QXTD_TEL1,QXTD_TEL2,QXTD_TEL3,QXTD_KININMUKBN,
    QXTD_KINKNNAME,QXTD_KINTEL1,QXTD_KINTEL2,QXTD_KINTEL3,QXTD_HPOSSTATUS,
    QXTD_HDAIHYOSTATUS,QXTD_HYOSINRANK,QXTD_HCASHLIMIT,QXTD_CREATEDATE,
    QXTD_STRDATE,QXTD_DELDATE,QXTD_OPID,QXTD_WSID,QXTE_PRMTABANO,QXTE_PRMKIGYOUCD,
    QXTE_PRMSUBRANGEKEY,QXTE_PRMNAIBUKAIINNO,QXTE_PRMKANKEIKBN,QXTE_PRMKAZOKURBN,
    QXTE_HIRAISTATUS,QXTE_JDSK001,QXTE_JDSK002,QXTE_JDSK003,QXTE_JDSK004,
    QXTE_JDSK005,QXTE_JDSK006,QXTE_JDSK007,QXTE_JDSK008,QXTE_JDSK009,QXTE_JDSK010,
    QXTE_JDSK011,QXTE_JDSK012,QXTE_JDSK013,QXTE_JDSK014,QXTE_JDSK015,QXTE_JDSK016,
    QXTE_JDSK017,QXTE_JDSK018,QXTE_JDSK019,QXTE_JDSK020,QXTE_JDSK021,QXTE_JDSK022,
    QXTE_JDSK023,QXTE_JDSK024,QXTE_JDSK025,QXTE_JDSK026,QXTE_JDSK027,QXTE_JDSK028,
    QXTE_JDSK029,QXTE_JDSK030,QXTE_JDSKEKKA,QXTE_JDSIRAISTATUS,QXTE_HANTEISYOKI,
    QXTE_JDSYOSINRANK,QXTE_JDSCASHLIMIT,QXTE_JDSDATE,QXTE_ENDHANTEI,QXTE_ENDYOSINRANK,
    QXTE_ENDCASHLIMIT,QXTE_ENDFSTTANTOID,QXTE_ENDFSTSHORIDATE,QXTE_ENDTANTOID,
    QXTE_ENDSHORIDATE,QXTE_SRVHANTEI,QXTE_SRVIRAIUMU,QXTE_BUNSHOKANRINO,
    QXTE_LETTERSYUBETU,QXTE_KIJITUSTRDATE,QXTE_HUPIRAIDATE,QXTE_HUPKEKKADATE,
    QXTE_HUPHANTEI,QXTE_STRDATE,QXTE_UPDDATE,QXTE_DELDATE,QXTE_OPID,QXTE_WSID,
    QXTD_DPRMTABANO,QXTD_DPRMKIGYOUCD,QXTD_DPRMSUBRANGEKEY,QXTD_DPRMNAIBUKAIINNO,
    QXTD_DPRMKANKEIKBN,QXTD_DPRMKAZOKURBN,QXTD_DHIRAISTATUS,QXTD_DCARDKBN,
    QXTD_DKAIINNO,QXTD_DSIMEI,QXTD_DREVSMAITSUKI,QXTD_DREVSBONUS,QXTD_DREVCMAITSUKI,
    QXTD_DREVCBONUS,QXTD_DKANRITEN,QXTD_DNYKAIYMD,QXTD_DCTLHONKNNAME,QXTD_DHALFORONEKBN,
    QXTD_DBIRTHDAY,QXTD_DJIFURIKAISU,QXTD_DJIFURINGKAISU,QXTD_DTEL1,QXTD_DTEL2,
    QXTD_DTEL3,QXTD_DKININMUKBN,QXTD_DKINKNNAME,QXTD_DKINTEL1,QXTD_DKINTEL2,
    QXTD_DKINTEL3,QXTD_DHPOSSTATUS,QXTD_DHDAIHYOSTATUS,QXTD_DHYOSINRANK,
    QXTD_DHCASHLIMIT,QXTD_DCREATEDATE,QXTD_DSTRDATE,QXTD_DDELDATE,QXTD_DOPID,
    QXTD_DWSID,QXTE_DPRMTABANO,QXTE_DPRMKIGYOUCD,QXTE_DPRMSUBRANGEKEY,QXTE_DPRMNAIBUKAIINNO,
    QXTE_DPRMKANKEIKBN,QXTE_DPRMKAZOKURBN,QXTE_DHIRAISTATUS,QXTE_DJDSK001,
    QXTE_DJDSK002,QXTE_DJDSK003,QXTE_DJDSK004,QXTE_DJDSK005,QXTE_DJDSK006,
    QXTE_DJDSK007,QXTE_DJDSK008,QXTE_DJDSK009,QXTE_DJDSK010,QXTE_DJDSK011,
    QXTE_DJDSK012,QXTE_DJDSK013,QXTE_DJDSK014,QXTE_DJDSK015,QXTE_DJDSK016,
    QXTE_DJDSK017,QXTE_DJDSK018,QXTE_DJDSK019,QXTE_DJDSK020,QXTE_DJDSK021,
    QXTE_DJDSK022,QXTE_DJDSK023,QXTE_DJDSK024,QXTE_DJDSK025,QXTE_DJDSK026,
    QXTE_DJDSK027,QXTE_DJDSK028,QXTE_DJDSK029,QXTE_DJDSK030,QXTE_DJDSKEKKA,
    QXTE_DJDSIRAISTATUS,QXTE_DHANTEISYOKI,QXTE_DJDSYOSINRANK,QXTE_DJDSCASHLIMIT,
    QXTE_DJDSDATE,QXTE_DENDHANTEI,QXTE_DENDYOSINRANK,QXTE_DENDCASHLIMIT,
    QXTE_DENDFSTTANTOID,QXTE_DENDFSTSHORIDATE,QXTE_DENDTANTOID,QXTE_DENDSHORIDATE,
    QXTE_DSRVHANTEI,QXTE_DSRVIRAIUMU,QXTE_DBUNSHOKANRINO,QXTE_DLETTERSYUBETU,
    QXTE_DKIJITUSTRDATE,QXTE_DHUPIRAIDATE,QXTE_DHUPKEKKADATE,QXTE_DHUPHANTEI,
    QXTE_DSTRDATE,QXTE_DUPDDATE,QXTE_DDELDATE,QXTE_DOPID,QXTE_DWSID)
AS
Select  NEW.*,OLD.*
From    QXTD_KONKAIV NEW,QXTD_ZENKAIV OLD
Where   NEW.QXTD_PRMKIGYOUCD     =  OLD.QXTE_PRMKIGYOUCD(+)     AND
   NEW.QXTD_PRMSUBRANGEKEY  =  OLD.QXTE_PRMSUBRANGEKEY(+)  AND
   NEW.QXTD_PRMNAIBUKAIINNO =  OLD.QXTE_PRMNAIBUKAIINNO(+) AND
   NEW.QXTD_PRMKANKEIKBN    =  OLD.QXTE_PRMKANKEIKBN(+)    AND
   NEW.QXTD_PRMKAZOKURBN    =  OLD.QXTE_PRMKAZOKURBN(+)
/
CREATE OR REPLACE VIEW TCCUSER.QXTD_GENDOKAIINV
    (QXTD_PRMTABANO,QXTD_PRMKIGYOUCD,QXTD_PRMSUBRANGEKEY,QXTD_PRMNAIBUKAIINNO,
    QXTD_PRMKANKEIKBN,QXTD_PRMKAZOKURBN,QXTD_HIRAISTATUS,QXTD_CARDKBN,QXTD_KAIINNO,
    QXTD_SIMEI,QXTD_REVSMAITSUKI,QXTD_REVSBONUS,QXTD_REVCMAITSUKI,QXTD_REVCBONUS,
    QXTD_KANRITEN,QXTD_NYKAIYMD,QXTD_CTLHONKNNAME,QXTD_HALFORONEKBN,QXTD_BIRTHDAY,
    QXTD_JIFURIKAISU,QXTD_JIFURINGKAISU,QXTD_TEL1,QXTD_TEL2,QXTD_TEL3,QXTD_KININMUKBN,
    QXTD_KINKNNAME,QXTD_KINTEL1,QXTD_KINTEL2,QXTD_KINTEL3,QXTD_HPOSSTATUS,
    QXTD_HDAIHYOSTATUS,QXTD_HYOSINRANK,QXTD_HCASHLIMIT,QXTD_CREATEDATE,
    QXTD_STRDATE,QXTD_DELDATE,QXTD_OPID,QXTD_WSID,QXTE_PRMTABANO,QXTE_PRMKIGYOUCD,
    QXTE_PRMSUBRANGEKEY,QXTE_PRMNAIBUKAIINNO,QXTE_PRMKANKEIKBN,QXTE_PRMKAZOKURBN,
    QXTE_HIRAISTATUS,QXTE_JDSK001,QXTE_JDSK002,QXTE_JDSK003,QXTE_JDSK004,
    QXTE_JDSK005,QXTE_JDSK006,QXTE_JDSK007,QXTE_JDSK008,QXTE_JDSK009,QXTE_JDSK010,
    QXTE_JDSK011,QXTE_JDSK012,QXTE_JDSK013,QXTE_JDSK014,QXTE_JDSK015,QXTE_JDSK016,
    QXTE_JDSK017,QXTE_JDSK018,QXTE_JDSK019,QXTE_JDSK020,QXTE_JDSK021,QXTE_JDSK022,
    QXTE_JDSK023,QXTE_JDSK024,QXTE_JDSK025,QXTE_JDSK026,QXTE_JDSK027,QXTE_JDSK028,
    QXTE_JDSK029,QXTE_JDSK030,QXTE_JDSKEKKA,QXTE_JDSIRAISTATUS,QXTE_HANTEISYOKI,
    QXTE_JDSYOSINRANK,QXTE_JDSCASHLIMIT,QXTE_JDSDATE,QXTE_ENDHANTEI,QXTE_ENDYOSINRANK,
    QXTE_ENDCASHLIMIT,QXTE_ENDFSTTANTOID,QXTE_ENDFSTSHORIDATE,QXTE_ENDTANTOID,
    QXTE_ENDSHORIDATE,QXTE_SRVHANTEI,QXTE_SRVIRAIUMU,QXTE_BUNSHOKANRINO,
    QXTE_LETTERSYUBETU,QXTE_KIJITUSTRDATE,QXTE_HUPIRAIDATE,QXTE_HUPKEKKADATE,
    QXTE_HUPHANTEI,QXTE_STRDATE,QXTE_UPDDATE,QXTE_DELDATE,QXTE_OPID,QXTE_WSID)
AS
Select  QXTD.*,QXTE.*
From    QXTD_GENDOKAIINM QXTD,QXTE_SHINSAKEKKA QXTE
Where   QXTD.QXTD_PRMTABANO       =  QXTE.QXTE_PRMTABANO          AND
        QXTD.QXTD_PRMKIGYOUCD     =  QXTE.QXTE_PRMKIGYOUCD        AND
        QXTD.QXTD_PRMSUBRANGEKEY  =  QXTE.QXTE_PRMSUBRANGEKEY     AND
        QXTD.QXTD_PRMNAIBUKAIINNO =  QXTE.QXTE_PRMNAIBUKAIINNO    AND
        QXTD.QXTD_PRMKANKEIKBN    =  QXTE.QXTE_PRMKANKEIKBN       AND
        QXTD.QXTD_PRMKAZOKURBN    =  QXTE.QXTE_PRMKAZOKURBN       AND
        QXTD.QXTD_DELDATE         Is Null                         AND
        QXTE.QXTE_DELDATE         Is Null
/
--CREATE OR REPLACE VIEW TCCUSER.QXXB_ERRLISTV
--    (QXNB_CARDKAISHA,QXNB_TOUZAIKBN,QXNB_KAIINNO,QXNB_SAKUSEIBI,QXNB_TORIHIKIA,
--    QXNB_TORIHIKIB,QXNB_TORIHIKIC,QXNB_KAMEITENNO,QXNB_KAMEITENMEI1,QXNB_KAMEITENMEI2,
--    QXNB_RIYOUBI,QXNB_TOSIMEI,QXNB_URIAGEKNG,QXNB_GENTITUKA,QXNB_ZEISORYO,
--    QXNB_KANSANRATE,QXNB_URIAGEGOKEI,QXNB_KUNI,QXNB_GYOSYU,QXNB_KOKUKAISIKIBETU,
--    QXNB_USAGE,QXNB_TEIKEISYOKAINO,QXNB_ERRNAIYOU,QXNB_SYUCODE)
--AS
--SELECT
--        SUBSTR(QXN3_RYMCardNo,1,4),
--        QXN3_TouzaiKbn,
--        QXN3_RYMCardNo,
--        DECODE(QXN3_BATSyoriBi,NULL,' ',TO_CHAR(QXN3_BATSyoriBi,'YYYYMMDD')),
--        NVL(QXN3_KGDTorihikiA,' '),
--        NVL(QXN3_KGDTorihikiB,' '),
--        NVL(QXN3_KGDTorihikiC,' '),
--        QXN3_KGDkameitenNo,
--        NVL(QXN3_KGDKameitenMei1,' '),
--        NVL(QXN3_KGDKameitenMei2,' '),
--        DECODE(QXN3_KGDRiyouBi,NULL,' ',TO_CHAR(QXN3_KGDRiyouBi,'YYYYMMDD')),
--        NVL(QXN3_KGDToshiMei,' '),
--        QXN3_KGDRiyouKng,
--        QXN3_KGDGenchiTsuka,
--        QXN3_KGDZeiTesuryo,
--        QXN3_KGDKansanRate,
--        QXN3_KGDUriGoukei,
--        QXN3_KGDKuniCD,
--        QXN3_KGDGyosyuCD,
--        QXN3_KGDKokunaiGai,
--        QXN3_RYMRepKbn,
--        QXN3_KGDSyoukaiNo1,
--        QXN3_RYMStatus,               --実際はｴﾗｰの翻訳値が設定される
--        QXN3_KGDSyuuCD
--     FROM
--        QXX3_ErrDataT  --未発行／売上ｴエラーデータテーブル
--
--/
--CREATE OR REPLACE VIEW TCCUSER.QXXF_HONAKULISTV
--    (QXNF_TOUZAIKBN,QXNF_SAKUSEIBI,QXNF_KAIINNO,QXNF_KAIINNAME,QXNF_DENPYOSYUBETU,
--    QXNF_RIYOUSHA,QXNF_MISE,QXNF_DENPYONO,QXNF_TORIHIKITUUBAN,QXNF_SIHARAIHOHO,
--    QXNF_KEIJYOBI,QXNF_RIYOUBI,QXNF_SHOUHINMEI,QXNF_KINGAKU,QXNF_KOZASTATUS)
--AS
--SELECT
--        QXN6_TouzaiKbn,
--        DECODE(QXN6_BATSyoriBi,NULL,' ',TO_CHAR(QXN6_BATSyoriBi,'YYYYMMDD')),
--        QXN6_RYMCardNo,
--        NVL(QXN6_Meigi,' '),
--        QXN6_RYMDenSyubetsu,
--        QXN6_RYMRiyousyaCD,
--        QXN6_KanriTen,
--        QXN6_RYMDenpyoNo,
--        QXN6_RYMToriTsuban,
--        QXN6_KGDShiharai,
--        DECODE(QXN6_KGDKeijouBi,NULL,' ',TO_CHAR(QXN6_KGDKeijouBi,'YYYYMMDD')),
--        DECODE(QXN6_KGDRiyouBi,NULL,' ',TO_CHAR(QXN6_KGDRiyouBi,'YYYYMMDD')),
--        NVL(QXN6_KGDKameitenMei1,' '),
--        QXN6_KGDRiyouKng,
--        QXN6_RYMStatus           --ステータス→実際は翻訳値を表示
--     FROM
--            QXX6_HonAkuDataT  --本人悪用データテーブル
--
--/
--CREATE OR REPLACE VIEW TCCUSER.QXXM_HOKENSV
--    (QXNM_KAIINNAME,QXNM_KAIINNO,QXNM_JYUSYO1,QXNM_JYUSYO2,QXNM_TEL1,QXNM_TEL2,
--    QXNM_TEL3,QXNM_JIKOBI,QXNM_KINGAKU,QXNM_TOUROKUDATE)
--AS
--SELECT
--   QXNE_KAIINNAME
--  ,QXNE_KAIINNO
--  ,QXNE_JYUSYO1
--  ,QXNE_JYUSYO2
--  ,QXNE_TEL1
--  ,QXNE_TEL2
--  ,QXNE_TEL3
--  ,max(QXNE_JIKOBI)
--  ,sum(QXNE_KINGAKU)
--  ,QXNE_HOKENDATETIME
-- FROM
--  QXXE_HOKENLISTT
-- GROUP BY
--   QXNE_KAIINNAME
--  ,QXNE_KAIINNO
--  ,QXNE_JYUSYO1
--  ,QXNE_JYUSYO2
--  ,QXNE_TEL1
--  ,QXNE_TEL2
--  ,QXNE_TEL3
--  ,QXNE_JIKOBI
--  ,QXNE_HOKENDATETIME
---- ORDER BY QXNE_KAIINNO
--
--/
CREATE OR REPLACE VIEW TCCUSER.QYA6_HAITATSUKV
    (QYA6_KEYCOMPUTERMEI,QYA6_KAIINNO,QYA6_ATENA,QYA6_MAISU,QYA6_YUUBINRYO,
    QYA6_SEQNO)
AS
SELECT
  QYA5_KEYCOMPUTERMEI,
  QYA5_KAIINNO,
  QYA5_ATENA,
  NVL(QYA5_MAISU,' '),
  NVL(QSA3_MEI,' '),
  QYA5_SeqNo
 FROM
  QYA5_HaitatsuKT, --配達記録出力テーブル
  (SELECT QSA3_PRMCODENO,
    QSA3_MEI
   FROM QSA3_CodeV
   WHERE QSA3_PRMCODEKBN = 'DS6'
  ) QSA3_CodeV  --コードＶＩＥＷ
 WHERE
  QYA5_MAISU  = QSA3_PRMCODENO(+)
 AND QYA5_KAIINNO <> '9999999999999999'
 UNION ALL SELECT
  QYA5_KEYCOMPUTERMEI,
  QYA5_KAIINNO,
  QYA5_ATENA,
  NVL(QYA5_MAISU,' '),
  ' ',
  999999
 FROM
  QYA5_HaitatsuKT  --配達記録出力テーブル
 WHERE
  QYA5_KAIINNO = '9999999999999999'
/
--CREATE OR REPLACE VIEW TCCUSER.QYN2_MODORIV
--    (VYN2_PRMKIGYOUCD,VYN2_PRMSUBRANGEKEY,VYN2_PRMNAIBUKAIINNO,VYN2_MAKEDATE,
--    VYN2_MEMOFLG,VYN2_HENKYAKUYMD,VYN2_HENKYAKURIYU,VYN2_JOKYOKBN,VYN2_KOKUCHI,
--    VYN2_DOUI,VYN2_DOUISYUBETU,VYN2_SEIRINO,VYN2_HUPIRAIDATE,VYN2_OPID)
--AS
--select		QYN2_PRMKIGYOUCD	VYN2_PRMKIGYOUCD,
--		QYN2_PRMSUBRANGEKEY		VYN2_PRMSUBRANGEKEY,
--		QYN2_PRMNAIBUKAIINNO	VYN2_PRMNAIBUKAIINNO,
--		QYN2_MAKEDATE			VYN2_MAKEDATE,
--		QYN2_MEMOFLG			VYN2_MEMOFLG,
--		TO_Char(QYN2_HENKYAKUYMD,'YYYY/MM/DD')
--								VYN2_HENKYAKUYMD,
--		QYN2_HENKYAKURIYU		VYN2_HENKYAKURIYU,
--		QYN2_JOKYOKBN			VYN2_JOKYOKBN ,
--		QYN2_KOKUCHI			VYN2_KOKUCHI,
--		QYN2_DOUI				VYN2_DOUI,
--		QYN2_DOUISYUBETU		VYN2_DOUISYUBETU,
--		QYN2_SEIRINO			VYN2_SEIRINO,
--		TO_Char(QYN2_HUPIRAIDATE,'YYYY/MM/DD')
--								VYN2_HUPIRAIDATE,
--		QYN2_OPID				VYN2_OPID
--		from  QYN2_MODORIT
--		Where QYN2_DELDATE is null
--union all
--select		QYN1_PRMKIGYOUCD	VYN2_PRMKIGYOUCD,
--		QYN1_PRMSUBRANGEKEY		VYN2_PRMSUBRANGEKEY,
--		QYN1_PRMNAIBUKAIINNO	VYN2_PRMNAIBUKAIINNO,
--		TO_DATE(TO_NUMBER(DECODE(QYN1_STRDATE,'0000000',Null,QYN1_STRDATE)) +19000000,'YYYYMMDD')
--								VYN2_MAKEDATE,
--		' '						VYN2_MEMOFLG,
--		Null					VYN2_HENKYAKUYMD,
--		Null					VYN2_HENKYAKURIYU,
--		Null					VYN2_JOKYOKBN,
--		QYN1_KOKUCHI			VYN2_KOKUCHI,
--		QYN1_DOUI				VYN2_DOUI,
--		Null					VYN2_DOUISYUBETU,
--		Null					VYN2_SEIRINO,
--		Null					VYN2_HUPIRAIDATE,
--		Null					VYN2_OPID
--		from  QYN1_NENKAIHIM
--
--/
